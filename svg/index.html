<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSP to SVG</title>
    <!-- Add Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            background-color: #222;
            color: #eee;
        }
        .container {
            background-color: #333;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        h1 {
            color: #d2b48c;
            text-align: left;
            margin-top: 0;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .file-drop-area {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin: 0;
            height: 120px;
            padding: 10px;
            border: 2px dotted #674331;
            border-radius: 8px;
            background-color: #444;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .file-drop-area:hover, .file-drop-area.drag-over {
            border-color: #d2b48c;
            background-color: #383838;
        }
        .file-drop-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }
        .file-drop-icon {
            font-size: 28px;
            margin-bottom: 15px;
            color: #d2b48c;
        }
        .file-msg {
            font-size: 16px;
            color: #bbb;
            text-align: center;
        }
        .file-drop-area input[type="file"] {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }
        button {
            background-color: #674331;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin-right: 10px;
        }
        button:hover {
            background-color: #8b4513;
        }
        button:disabled {
            background-color: #555;
            cursor: not-allowed;
        }
        .status {
            margin-top: 20px;
            padding: 10px;
            border-radius: 4px;
        }
        .error {
            background-color: #442222;
            color: #ff6666;
            border: 1px solid #883333;
        }
        .success {
            background-color: #224422;
            color: #66ff66;
            border: 1px solid #338833;
        }
        .svg-container {
            border: none;
            margin-top: 20px;
            background-color: #444;
            overflow: hidden;
            max-height: 800px;
        }
        .checkbox-group {
            margin-top: 10px;
        }
        .checkbox-label {
            display: inline-flex;
            align-items: center;
            cursor: pointer;
            margin-right: 10px;
        }
        .checkbox-label span {
            margin-left: 5px;
        }
        input[type="checkbox"] {
            cursor: pointer;
            accent-color: #674331;
        }
        input[type="range"] {
            background-color: #444;
            height: 8px;
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            background-color: #674331;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            -webkit-appearance: none;
            appearance: none;
        }
        input[type="range"]::-moz-range-thumb {
            background-color: #674331;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: none;
        }
        input[type="range"]::-ms-thumb {
            background-color: #674331;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: none;
        }
        hr {
            border: none;
            border-top: 1px solid #674331;
            margin: 15px 0;
        }
        
        /* Remove the last hr in the container */
        .checkbox-group:last-of-type + hr {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>BSP to SVG Converter</h1>
        

        
        <div class="form-group">
            <div class="file-drop-area">
                <div class="file-drop-content">
                    <div class="file-drop-icon"><i class="fas fa-file-upload"></i></div>
                    <div class="file-msg">Select or Drop BSP File</div>
                </div>
                <input type="file" id="bspFile" accept=".bsp">
            </div>
        </div>
        
        <div class="form-group">
            <div class="file-drop-area">
                <div class="file-drop-content">
                    <div class="file-drop-icon"><i class="fas fa-file-code"></i></div>
                    <div class="file-msg">Select or Drop ENT File (Optional)</div>
                </div>
                <input type="file" id="entFile" accept=".ent">
            </div>
            <button id="resetEntButton" style="margin-top: 15px; background-color: #555; cursor: not-allowed;" disabled>Reset ENT File</button>
        </div>
        
        <div>
            <button id="generateButton" disabled>Generate SVG</button>
            <button id="downloadButton" disabled>Download SVG</button>
        </div>
        
        <hr>
        
        <div class="checkbox-group">
            <label class="checkbox-label">
                <input type="checkbox" id="useColors" checked>
                <span>Use texture-based colors</span>
            </label>
        </div>
        
        <div style="margin-top: 15px; display: flex; align-items: center;">
            <label for="opacitySlider" style="margin-right: 10px; min-width: 120px;">Color Opacity:</label>
            <input type="range" id="opacitySlider" min="0.5" max="1.0" step="0.05" value="0.65">
            <span id="opacityValue" style="margin-left: 10px;">0.65</span>
        </div>
        
        <hr>
        
        <div class="checkbox-group">
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showArmors" checked>
                <span>Show Armors</span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showGreenArmor" checked>
                <span style="color: #4f6357; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMwMC40NjAgMTQ4LjAxNSBDIDI5MS4wMDcgMTUwLjU1NywgMjc2LjAyNyAxNTUuODM3LCAyNzMuMjY0IDE1Ny42MDEgQyAyNzIuMDM0IDE1OC4zODYsIDI3MC4zNDggMTYwLjA2NSwgMjY5LjUxNyAxNjEuMzMzIEMgMjY3LjIwMyAxNjQuODY1LCAyNjEuMzk5IDE5OC4wNzEsIDI1Ny4wNzggMjMyLjUwMCBDIDI1MS44MzEgMjc0LjMwMiwgMjUxLjU0MyAyODAuMTA1LCAyNTEuNDI1IDM0Ni41MDAgQyAyNTEuMzE1IDQwOC40NzMsIDI1MS4yNzggNDA5LjU5MCwgMjQ5LjE2MCA0MTUuMDQ5IEMgMjQyLjkzNSA0MzEuMDkxLCAyMzAuNTYzIDQ0MC45NjAsIDIxMSA0NDUuNDg5IEMgMTk3LjIyMyA0NDguNjc5LCAxOTYuMzI3IDQ0OC45ODEsIDE5NC40MjggNDUxLjA4MCBDIDE5MS4zNTUgNDU0LjQ3NSwgMTkyLjIwMCA0NTkuNjUxLCAxOTcuNzAxIDQ3MS4xMzcgQyAyMDMuNTk5IDQ4My40NTQsIDIwOC44MDYgNDkxLjcwMSwgMjE5Ljk4NyA1MDYuNDM4IEMgMjMxLjI5OSA1MjEuMzQ4LCAyMzcuMzk0IDUzMC44NDcsIDI0Mi40ODUgNTQxLjUwMCBDIDI2My4wNjAgNTg0LjU2MiwgMjcyLjA2MSA2NDEuMjcxLCAyNjguMDI5IDcwMi40NTAgQyAyNjYuNTI4IDcyNS4yMTQsIDI2Ni41NjAgNzI1LjMyNiwgMjc2LjM5OCA3MzEuNzYzIEMgMzA3LjU2NCA3NTIuMTU3LCAzNzcuNTkxIDc3MS4zNDQsIDQ0NSA3NzcuOTYwIEMgNDk0LjE5NyA3ODIuNzg4LCA1NTUuNDc4IDc4Mi4yMDgsIDYwMyA3NzYuNDY0IEMgNjYxLjc3OCA3NjkuMzU5LCA3MTUuMjUzIDc1NC40MDYsIDc0OC4wOTcgNzM1Ljg5MSBDIDc2NC40MjcgNzI2LjY4NiwgNzY1LjEwMyA3MjUuNTE1LCA3NjMuOTAzIDcwOC41MDAgQyA3NjIuNzc1IDY5Mi41MTksIDc2Mi44NTUgNjQ1LjQ2NSwgNzY0LjAzMyA2MzEuNTAwIEMgNzY4LjQzNCA1NzkuMzMxLCA3NzkuOTA5IDU0My4xNzQsIDgwMS45NDggNTEyLjAyNiBDIDgxOS41NjIgNDg3LjEzMiwgODI4LjE3MyA0NzIuNDUxLCA4MzEuNjgyIDQ2MS4zMzQgQyA4MzMuMDU5IDQ1Ni45NzAsIDgzMy4xMTIgNDU1LjY4NCwgODMyLjAxOSA0NTMuMDQ2IEMgODMwLjQ5MyA0NDkuMzYzLCA4MjkuMDM2IDQ0OC40NzEsIDgyMyA0NDcuNTMyIEMgODAxLjg1NCA0NDQuMjM5LCA3ODUuNjUxIDQzNC45NjEsIDc3OC42ODEgNDIyLjE1NiBDIDc3My4yMDcgNDEyLjA5OCwgNzczLjA0MiA0MTAuMDIwLCA3NzMuMjQ4IDM1NCBDIDc3My40MzcgMzAyLjc2NiwgNzczLjAwMyAyOTEuNzE5LCA3NjkuNDQyIDI1NyBDIDc2Ni4zMDkgMjI2LjQ2NiwgNzU2Ljk1MiAxNjguMDYzLCA3NTQuMzAxIDE2Mi41MDUgQyA3NTMuNDM5IDE2MC42OTgsIDc1MS4xMDYgMTU4LjMxOCwgNzQ5LjExNyAxNTcuMjE3IEMgNzQ0LjQ2MiAxNTQuNjQxLCA3MjEuMjczIDE0Ny4xMzYsIDcxNS41NDMgMTQ2LjM1MSBDIDcwNy44MjUgMTQ1LjI5MywgNzA2LjYxNSAxNDYuMTExLCA2OTkuMzgwIDE1Ny4yNjcgQyA2OTEuODM3IDE2OC44OTgsIDY4Mi4yMDIgMTc4LjkxMCwgNjczLjQxNCAxODQuMjQ5IEMgNjUwLjA3NyAxOTguNDI1LCA2MTEuMjgyIDIwNS41MzEsIDU0My40NDQgMjA4LjA1NyBDIDQ5MC41MTcgMjEwLjAyNywgNDI1LjM5NiAyMDYuMjczLCAzOTIuNTUyIDE5OS4zNTggQyAzNTcuMjMzIDE5MS45MjIsIDM0MS4wMjUgMTgyLjA0MywgMzI1LjQ1MiAxNTguNDU5IEMgMzIxLjM3MyAxNTIuMjgyLCAzMTcuMzE1IDE0Ni45NTEsIDMxNi40MzYgMTQ2LjYxNCBDIDMxMy42NDQgMTQ1LjU0MiwgMzA3LjcyMiAxNDYuMDYyLCAzMDAuNDYwIDE0OC4wMTUgTSAyMjAgMTYyLjM0NCBDIDIwMC4yMTcgMTcwLjYwNiwgMTI5LjMzNCAyMDUuMzY4LCAxMDYuODAwIDIxNy44NTkgQyA4OS44MzYgMjI3LjI2MywgNTkuOTQ0IDI0NS4xMDEsIDU1LjM5NyAyNDguNTM1IEMgNTMuNjkwIDI0OS44MjQsIDUxLjcyMyAyNTIuMjU2LCA1MS4wMjUgMjUzLjkzOSBDIDQ4Ljc5OSAyNTkuMzEzLCA1MC43MjAgMjYxLjYyNiwgNjUuMDY1IDI3MC44NTMgQyAxMTAuNDA4IDMwMC4wMTYsIDEzOC40NjkgMzM0LjgyNywgMTU5LjQ5NCAzODggQyAxNjYuODgxIDQwNi42ODQsIDE2Ny4zNTIgNDA3LjU0NCwgMTcxLjc3OCA0MTAuNDYzIEMgMTc2LjMzNyA0MTMuNDcwLCAyMDIuMTgzIDQyMC4wMzIsIDIxMC4wMzIgNDIwLjE3NiBDIDIxOS4wMDUgNDIwLjM0MCwgMjI0LjgyMCA0MTYuMDk1LCAyMjcuMDcxIDQwNy43MzYgQyAyMjcuOTEwIDQwNC42MTksIDIyNy42OTMgMzk5LjcyNSwgMjI2LjA5MCAzODUuNjE3IEMgMjIzLjYxOSAzNjMuODgyLCAyMjEuOTk5IDMzNi45NDMsIDIyMi4wMDIgMzE3LjYzOSBDIDIyMi4wMDcgMjg2LjQyNCwgMjI1LjYxMSAyNDEuNjQ0LCAyMzEuMTQ3IDIwNCBDIDIzNi40ODEgMTY3LjczMywgMjM2LjUyMCAxNjcuMzQwLCAyMzUuMDgwIDE2NC42NTAgQyAyMzMuNzIwIDE2Mi4xMDgsIDIzMC4xMDIgMTU5Ljk4MywgMjI3LjIwMyAxNjAuMDI0IEMgMjI2LjI2NiAxNjAuMDM3LCAyMjMuMDI1IDE2MS4wODEsIDIyMCAxNjIuMzQ0IE0gNzkzLjM1NyAxNjAuOTkyIEMgNzkwLjMzOSAxNjIuMjA5LCA3ODggMTY1LjkxNCwgNzg4LjAwMSAxNjkuNDczIEMgNzg4LjAwMiAxNzEuMTM4LCA3ODguNjg1IDE3Ni4zMjUsIDc4OS41MTkgMTgxIEMgNzkyLjk3NyAyMDAuMzg3LCA3OTcuODQxIDIzNy45MzUsIDgwMC4yMDUgMjYzLjUwMCBDIDgwMS4wMTAgMjcyLjIwMywgODAxLjUwMCAyOTIuNjM1LCA4MDEuNTAwIDMxNy41MDAgQyA4MDEuNTAwIDM1MC44MzMsIDgwMS4xNjcgMzYwLjUwMCwgNzk5LjUwMCAzNzUuNTAwIEMgNzk4LjQwMCAzODUuNDAwLCA3OTcuNTAwIDM5Ny4xMzUsIDc5Ny41MDAgNDAxLjU3OCBDIDc5Ny41MDAgNDA4Ljg4NywgNzk3Ljc2NyA0MTAuMDA3LCA4MDAuMzAyIDQxMy4zMjkgQyA4MDYuMTI1IDQyMC45NjMsIDgxMi44NzggNDIxLjcyOCwgODMyLjY3NSA0MTYuOTk3IEMgODQ2LjczOSA0MTMuNjM2LCA4NTQuMTQ3IDQxMC4xNDYsIDg1Ni45MTUgNDA1LjU3NyBDIDg1Ny45NDAgNDAzLjg4NSwgODYwLjY4NSAzOTcuMzI1LCA4NjMuMDE0IDM5MSBDIDg2OC43MjcgMzc1LjQ4NywgODgwLjMzNCAzNTEuODA0LCA4ODguNDk5IDMzOSBDIDkwNS45MDEgMzExLjcxMiwgOTI5LjUzMyAyODguMzk1LCA5NTguOTM2IDI2OS41MDAgQyA5NzIuMjE3IDI2MC45NjUsIDk3NC4yNzUgMjU4LjM1NywgOTcxLjY3NiAyNTMuMzUzIEMgOTY5Ljg0NSAyNDkuODI2LCA5NjcuOTA3IDI0OC4zOTMsIDk0OS45MDAgMjM3LjI1NCBDIDkyMy4zOTQgMjIwLjg1NiwgODY0Ljk2NCAxOTAuNjIwLCA4MTcuNTAwIDE2OC43MzkgQyA3OTcuMTI3IDE1OS4zNDcsIDc5Ny4yOTYgMTU5LjQwMiwgNzkzLjM1NyAxNjAuOTkyIE0gNDUzLjMxOSAzMTkuMTAxIEMgNDQ4LjcyNiAzMjAuNDMwLCA0NDMuMjMyIDMyNy4yNjksIDQ0Mi40MjMgMzMyLjY2NCBDIDQ0MS44OTMgMzM2LjIwMSwgNDQyLjIzMCAzMzcuOTczLCA0NDQuMTQ0IDM0MS42OTEgQyA0NDkuMTg3IDM1MS40OTAsIDQ1NS4xNDQgMzUyLjI2NSwgNTIyIDM1MS44MTQgQyA1NjcuNzM1IDM1MS41MDUsIDU2OC41NjggMzUxLjQ2NCwgNTcyLjYyNCAzNDkuMjk0IEMgNTgwLjc3MyAzNDQuOTM1LCA1ODQuMzIwIDMzNy42NTgsIDU4MS45MzggMzMwLjE4OCBDIDU4MC4zNzkgMzI1LjI5OCwgNTc1LjQzMiAzMjAuMjE1LCA1NzEuMDQ0IDMxOC45OTYgQyA1NjYuNTEzIDMxNy43MzcsIDQ1Ny42OTYgMzE3LjgzNCwgNDUzLjMxOSAzMTkuMTAxIE0gNDYyIDM5OC45MTcgQyA0NTcuODc1IDM5OS4zMDUsIDQ1My4wNzcgNDAwLjM3MywgNDUxLjMzOCA0MDEuMjkxIEMgNDM5Ljk2OSA0MDcuMjkzLCA0MzkuNjE1IDQyNC4yNjgsIDQ1MC43NDkgNDI5LjU1MSBDIDQ1Ny4wNjEgNDMyLjU0NiwgNDcwLjE4MiA0MzMuMTY3LCA1MjAgNDMyLjgyOSBMIDU2OC41MDAgNDMyLjUwMCA1NzMuNTAwIDQzMCBDIDU4MC4wMTggNDI2Ljc0MSwgNTgzLjU3NSA0MjAuMzE4LCA1ODIuNTcwIDQxMy42MjAgQyA1ODEuNzM4IDQwOC4wNzMsIDU3Ni41NzUgNDAxLjg1OSwgNTcxLjMzOSA0MDAuMTAzIEMgNTY3LjAwMiAzOTguNjQ5LCA0NzUuNDM1IDM5Ny42NTYsIDQ2MiAzOTguOTE3IE0gNDk5IDUxNi42MDAgQyA0NjguNDE4IDUxOS4xOTksIDQ1NS44MjEgNTIxLjM5NSwgNDM4LjUwMCA1MjcuMTQ4IEMgNDEzLjQ3NCA1MzUuNDYxLCAzOTIuNDcyIDU0Ny42NjAsIDM3Ni4zMTUgNTYzLjI3MSBDIDM1Ny4zOTcgNTgxLjU0OSwgMzQ4IDU5OS42MDUsIDM0OCA2MTcuNjgwIEMgMzQ4IDYyNy4yNTQsIDM1NC4xMDEgNjU5LjQzOCwgMzYxLjYxNSA2ODkuNTAwIEMgMzY1LjU1MCA3MDUuMjQyLCAzNjkuMTcxIDcxMC44OTAsIDM3OC41MDAgNzE1LjgzOCBDIDM4Mi45MzkgNzE4LjE5MywgMzg0LjU2NiA3MTguNDgyLCAzOTMgNzE4LjQxOCBDIDM5OC4yMjUgNzE4LjM3OCwgNDEzLjUyNSA3MTcuMTQ0LCA0MjcgNzE1LjY3NSBDIDQ4Ny4xNzUgNzA5LjExOSwgNTQwLjAzMSA3MDkuNzg0LCA2MTkgNzE4LjA5NSBDIDYzMy4yMTkgNzE5LjU5MSwgNjM5Ljk4NyA3MTguODIxLCA2NDYuNzk4IDcxNC45MzEgQyA2NTUuMTQyIDcxMC4xNjUsIDY1OC4zNzEgNzA0LjMwMiwgNjYzLjA3OCA2ODUuMzYxIEMgNjY3LjQyNyA2NjcuODYyLCA2NzUuNDkxIDYyOC42MzMsIDY3Ni41MTggNjE5Ljk4MyBDIDY3Ny43ODYgNjA5LjI4OSwgNjczLjQ0MSA1OTQuNTY3LCA2NjUuNDMzIDU4Mi40MjkgQyA2NjAuMjE2IDU3NC41MjEsIDY0Ni4zMDYgNTYwLjE2MCwgNjM3LjI5NiA1NTMuMzc5IEMgNjEyLjU0NSA1MzQuNzUxLCA1ODAuMjczIDUyMi40OTMsIDU0NS42NDQgNTE4LjU2OCBDIDUzMS44ODQgNTE3LjAwOSwgNTA2LjY5NyA1MTUuOTQ2LCA0OTkgNTE2LjYwMCBNIDQ4Ny45MDggNTQzLjk3MSBDIDQ2Ni42OTUgNTQ2LjA0NCwgNDQxLjA2OCA1NTMuMjY1LCA0MjMuNjcwIDU2Mi4wNzAgQyA0MDIuMzExIDU3Mi44ODAsIDM4OS4wODYgNTg1LjA4MCwgMzgwLjkyNSA2MDEuNTAwIEMgMzc2LjA2NSA2MTEuMjc4LCAzNzUuMTQ5IDYxOC43MDksIDM3Ny4zNDkgNjMwLjUwMCBDIDM4Mi40NjQgNjU3LjkwNSwgMzg5LjEyOSA2ODcuNDg1LCAzOTAuNTQwIDY4OS4wNDUgQyAzOTQuMTIxIDY5My4wMDEsIDM5Ny4wMDcgNjkzLjI5NiwgNDEwLjY1NyA2OTEuMTAwIEMgNDc3Ljc0OSA2ODAuMzA4LCA1NDEuNzYwIDY4MC4zMjgsIDYxMi42NDcgNjkxLjE2NSBDIDYyOC40NTggNjkzLjU4MywgNjMxLjg5OSA2OTMuMDk5LCA2MzQuNDA0IDY4OC4xMDkgQyA2MzUuNzY2IDY4NS4zOTgsIDYzNS44NzYgNjg0LjkyOSwgNjM5LjAyMSA2NjguNTAwIEMgNjQ3Ljk0NSA2MjEuODczLCA2NDguMjgyIDYxOC43MjgsIDY0NS40MDUgNjA4LjkzMiBDIDY0Mi42NDEgNTk5LjUyNCwgNjM3Ljg5NyA1OTEuOTI5LCA2MjkuNTAwIDU4My40NzIgQyA2MTAuMjA3IDU2NC4wNDAsIDU4MS40MDYgNTUxLjAyMCwgNTQ1LjUwMCA1NDUuNTAwIEMgNTMzLjYzNSA1NDMuNjc2LCA1MDAuMDUxIDU0Mi43ODQsIDQ4Ny45MDggNTQzLjk3MSBNIDI4Ny4zMjcgNzY0LjQ1NyBDIDI4NC41MTkgNzY2LjQ1OCwgMjg0LjAyMSA3NjguMTcwLCAyNzguNDEzIDc5NS4wOTYgQyAyNzUuNTY3IDgwOC43NTcsIDI3My45NjIgODE4LjcxMCwgMjc0LjM1MyA4MjAuMjY5IEMgMjc1LjM0NyA4MjQuMjMyLCAyNzkuOTQ2IDgyOC4xODcsIDI5MC42ODMgODM0LjMxMyBDIDMyOC41NTMgODU1LjkyMCwgMzgwLjYwMSA4NzIuODM5LCA0MzQgODgwLjkwMCBDIDQ2NC4xODYgODg1LjQ1NywgNDc5LjYwOCA4ODYuNDQxLCA1MjEgODg2LjQ1NSBDIDU2MS4zMzUgODg2LjQ2OSwgNTY4LjgxNyA4ODUuOTk4LCA2MDEgODgxLjQyNSBDIDY1NS43MjUgODczLjY0OSwgNzA4LjU5MyA4NTUuNjM1LCA3NDQuMzA0IDgzMi41OTggQyA3NTMuNzAxIDgyNi41MzYsIDc1Ni40MDIgODIzLjQxNCwgNzU2LjM5NyA4MTguNjIwIEMgNzU2LjM5NSA4MTYuOTA0LCA3NTQuMTgyIDgwNC43MDAsIDc1MS40NzkgNzkxLjUwMCBDIDc0NC44OTAgNzU5LjMyNiwgNzQ1LjI5MCA3NTkuNjk0LCA3MjUuNDM1IDc2Ny41NDcgQyA2NjUuMzY2IDc5MS4zMDUsIDU4OC41MjQgODAzLjEyMywgNTAzLjUwMCA4MDEuNjgwIEMgNDI3LjQ5NCA4MDAuMzkwLCAzNjMuOTk0IDc4OS43MDMsIDMwOC42NDMgNzY4Ljg4NiBDIDI5Mi45NjIgNzYyLjk4OCwgMjkwLjE5NSA3NjIuNDEzLCAyODcuMzI3IDc2NC40NTciIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg=="" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(40%) sepia(85%) saturate(1351%) hue-rotate(84deg) brightness(96%) contrast(105%); margin-right: 5px;"> Green
                </span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showYellowArmor" checked>
                <span style="color: #e2e200; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMwMC40NjAgMTQ4LjAxNSBDIDI5MS4wMDcgMTUwLjU1NywgMjc2LjAyNyAxNTUuODM3LCAyNzMuMjY0IDE1Ny42MDEgQyAyNzIuMDM0IDE1OC4zODYsIDI3MC4zNDggMTYwLjA2NSwgMjY5LjUxNyAxNjEuMzMzIEMgMjY3LjIwMyAxNjQuODY1LCAyNjEuMzk5IDE5OC4wNzEsIDI1Ny4wNzggMjMyLjUwMCBDIDI1MS44MzEgMjc0LjMwMiwgMjUxLjU0MyAyODAuMTA1LCAyNTEuNDI1IDM0Ni41MDAgQyAyNTEuMzE1IDQwOC40NzMsIDI1MS4yNzggNDA5LjU5MCwgMjQ5LjE2MCA0MTUuMDQ5IEMgMjQyLjkzNSA0MzEuMDkxLCAyMzAuNTYzIDQ0MC45NjAsIDIxMSA0NDUuNDg5IEMgMTk3LjIyMyA0NDguNjc5LCAxOTYuMzI3IDQ0OC45ODEsIDE5NC40MjggNDUxLjA4MCBDIDE5MS4zNTUgNDU0LjQ3NSwgMTkyLjIwMCA0NTkuNjUxLCAxOTcuNzAxIDQ3MS4xMzcgQyAyMDMuNTk5IDQ4My40NTQsIDIwOC44MDYgNDkxLjcwMSwgMjE5Ljk4NyA1MDYuNDM4IEMgMjMxLjI5OSA1MjEuMzQ4LCAyMzcuMzk0IDUzMC44NDcsIDI0Mi40ODUgNTQxLjUwMCBDIDI2My4wNjAgNTg0LjU2MiwgMjcyLjA2MSA2NDEuMjcxLCAyNjguMDI5IDcwMi40NTAgQyAyNjYuNTI4IDcyNS4yMTQsIDI2Ni41NjAgNzI1LjMyNiwgMjc2LjM5OCA3MzEuNzYzIEMgMzA3LjU2NCA3NTIuMTU3LCAzNzcuNTkxIDc3MS4zNDQsIDQ0NSA3NzcuOTYwIEMgNDk0LjE5NyA3ODIuNzg4LCA1NTUuNDc4IDc4Mi4yMDgsIDYwMyA3NzYuNDY0IEMgNjYxLjc3OCA3NjkuMzU5LCA3MTUuMjUzIDc1NC40MDYsIDc0OC4wOTcgNzM1Ljg5MSBDIDc2NC40MjcgNzI2LjY4NiwgNzY1LjEwMyA3MjUuNTE1LCA3NjMuOTAzIDcwOC41MDAgQyA3NjIuNzc1IDY5Mi41MTksIDc2Mi44NTUgNjQ1LjQ2NSwgNzY0LjAzMyA2MzEuNTAwIEMgNzY4LjQzNCA1NzkuMzMxLCA3NzkuOTA5IDU0My4xNzQsIDgwMS45NDggNTEyLjAyNiBDIDgxOS41NjIgNDg3LjEzMiwgODI4LjE3MyA0NzIuNDUxLCA4MzEuNjgyIDQ2MS4zMzQgQyA4MzMuMDU5IDQ1Ni45NzAsIDgzMy4xMTIgNDU1LjY4NCwgODMyLjAxOSA0NTMuMDQ2IEMgODMwLjQ5MyA0NDkuMzYzLCA4MjkuMDM2IDQ0OC40NzEsIDgyMyA0NDcuNTMyIEMgODAxLjg1NCA0NDQuMjM5LCA3ODUuNjUxIDQzNC45NjEsIDc3OC42ODEgNDIyLjE1NiBDIDc3My4yMDcgNDEyLjA5OCwgNzczLjA0MiA0MTAuMDIwLCA3NzMuMjQ4IDM1NCBDIDc3My40MzcgMzAyLjc2NiwgNzczLjAwMyAyOTEuNzE5LCA3NjkuNDQyIDI1NyBDIDc2Ni4zMDkgMjI2LjQ2NiwgNzU2Ljk1MiAxNjguMDYzLCA3NTQuMzAxIDE2Mi41MDUgQyA3NTMuNDM5IDE2MC42OTgsIDc1MS4xMDYgMTU4LjMxOCwgNzQ5LjExNyAxNTcuMjE3IEMgNzQ0LjQ2MiAxNTQuNjQxLCA3MjEuMjczIDE0Ny4xMzYsIDcxNS41NDMgMTQ2LjM1MSBDIDcwNy44MjUgMTQ1LjI5MywgNzA2LjYxNSAxNDYuMTExLCA2OTkuMzgwIDE1Ny4yNjcgQyA2OTEuODM3IDE2OC44OTgsIDY4Mi4yMDIgMTc4LjkxMCwgNjczLjQxNCAxODQuMjQ5IEMgNjUwLjA3NyAxOTguNDI1LCA2MTEuMjgyIDIwNS41MzEsIDU0My40NDQgMjA4LjA1NyBDIDQ5MC41MTcgMjEwLjAyNywgNDI1LjM5NiAyMDYuMjczLCAzOTIuNTUyIDE5OS4zNTggQyAzNTcuMjMzIDE5MS45MjIsIDM0MS4wMjUgMTgyLjA0MywgMzI1LjQ1MiAxNTguNDU5IEMgMzIxLjM3MyAxNTIuMjgyLCAzMTcuMzE1IDE0Ni45NTEsIDMxNi40MzYgMTQ2LjYxNCBDIDMxMy42NDQgMTQ1LjU0MiwgMzA3LjcyMiAxNDYuMDYyLCAzMDAuNDYwIDE0OC4wMTUgTSAyMjAgMTYyLjM0NCBDIDIwMC4yMTcgMTcwLjYwNiwgMTI5LjMzNCAyMDUuMzY4LCAxMDYuODAwIDIxNy44NTkgQyA4OS44MzYgMjI3LjI2MywgNTkuOTQ0IDI0NS4xMDEsIDU1LjM5NyAyNDguNTM1IEMgNTMuNjkwIDI0OS44MjQsIDUxLjcyMyAyNTIuMjU2LCA1MS4wMjUgMjUzLjkzOSBDIDQ4Ljc5OSAyNTkuMzEzLCA1MC43MjAgMjYxLjYyNiwgNjUuMDY1IDI3MC44NTMgQyAxMTAuNDA4IDMwMC4wMTYsIDEzOC40NjkgMzM0LjgyNywgMTU5LjQ5NCAzODggQyAxNjYuODgxIDQwNi42ODQsIDE2Ny4zNTIgNDA3LjU0NCwgMTcxLjc3OCA0MTAuNDYzIEMgMTc2LjMzNyA0MTMuNDcwLCAyMDIuMTgzIDQyMC4wMzIsIDIxMC4wMzIgNDIwLjE3NiBDIDIxOS4wMDUgNDIwLjM0MCwgMjI0LjgyMCA0MTYuMDk1LCAyMjcuMDcxIDQwNy43MzYgQyAyMjcuOTEwIDQwNC42MTksIDIyNy42OTMgMzk5LjcyNSwgMjI2LjA5MCAzODUuNjE3IEMgMjIzLjYxOSAzNjMuODgyLCAyMjEuOTk5IDMzNi45NDMsIDIyMi4wMDIgMzE3LjYzOSBDIDIyMi4wMDcgMjg2LjQyNCwgMjI1LjYxMSAyNDEuNjQ0LCAyMzEuMTQ3IDIwNCBDIDIzNi40ODEgMTY3LjczMywgMjM2LjUyMCAxNjcuMzQwLCAyMzUuMDgwIDE2NC42NTAgQyAyMzMuNzIwIDE2Mi4xMDgsIDIzMC4xMDIgMTU5Ljk4MywgMjI3LjIwMyAxNjAuMDI0IEMgMjI2LjI2NiAxNjAuMDM3LCAyMjMuMDI1IDE2MS4wODEsIDIyMCAxNjIuMzQ0IE0gNzkzLjM1NyAxNjAuOTkyIEMgNzkwLjMzOSAxNjIuMjA5LCA3ODggMTY1LjkxNCwgNzg4LjAwMSAxNjkuNDczIEMgNzg4LjAwMiAxNzEuMTM4LCA3ODguNjg1IDE3Ni4zMjUsIDc4OS41MTkgMTgxIEMgNzkyLjk3NyAyMDAuMzg3LCA3OTcuODQxIDIzNy45MzUsIDgwMC4yMDUgMjYzLjUwMCBDIDgwMS4wMTAgMjcyLjIwMywgODAxLjUwMCAyOTIuNjM1LCA4MDEuNTAwIDMxNy41MDAgQyA4MDEuNTAwIDM1MC44MzMsIDgwMS4xNjcgMzYwLjUwMCwgNzk5LjUwMCAzNzUuNTAwIEMgNzk4LjQwMCAzODUuNDAwLCA3OTcuNTAwIDM5Ny4xMzUsIDc5Ny41MDAgNDAxLjU3OCBDIDc5Ny41MDAgNDA4Ljg4NywgNzk3Ljc2NyA0MTAuMDA3LCA4MDAuMzAyIDQxMy4zMjkgQyA4MDYuMTI1IDQyMC45NjMsIDgxMi44NzggNDIxLjcyOCwgODMyLjY3NSA0MTYuOTk3IEMgODQ2LjczOSA0MTMuNjM2LCA4NTQuMTQ3IDQxMC4xNDYsIDg1Ni45MTUgNDA1LjU3NyBDIDg1Ny45NDAgNDAzLjg4NSwgODYwLjY4NSAzOTcuMzI1LCA4NjMuMDE0IDM5MSBDIDg2OC43MjcgMzc1LjQ4NywgODgwLjMzNCAzNTEuODA0LCA4ODguNDk5IDMzOSBDIDkwNS45MDEgMzExLjcxMiwgOTI5LjUzMyAyODguMzk1LCA5NTguOTM2IDI2OS41MDAgQyA5NzIuMjE3IDI2MC45NjUsIDk3NC4yNzUgMjU4LjM1NywgOTcxLjY3NiAyNTMuMzUzIEMgOTY5Ljg0NSAyNDkuODI2LCA5NjcuOTA3IDI0OC4zOTMsIDk0OS45MDAgMjM3LjI1NCBDIDkyMy4zOTQgMjIwLjg1NiwgODY0Ljk2NCAxOTAuNjIwLCA4MTcuNTAwIDE2OC43MzkgQyA3OTcuMTI3IDE1OS4zNDcsIDc5Ny4yOTYgMTU5LjQwMiwgNzkzLjM1NyAxNjAuOTkyIE0gNDUzLjMxOSAzMTkuMTAxIEMgNDQ4LjcyNiAzMjAuNDMwLCA0NDMuMjMyIDMyNy4yNjksIDQ0Mi40MjMgMzMyLjY2NCBDIDQ0MS44OTMgMzM2LjIwMSwgNDQyLjIzMCAzMzcuOTczLCA0NDQuMTQ0IDM0MS42OTEgQyA0NDkuMTg3IDM1MS40OTAsIDQ1NS4xNDQgMzUyLjI2NSwgNTIyIDM1MS44MTQgQyA1NjcuNzM1IDM1MS41MDUsIDU2OC41NjggMzUxLjQ2NCwgNTcyLjYyNCAzNDkuMjk0IEMgNTgwLjc3MyAzNDQuOTM1LCA1ODQuMzIwIDMzNy42NTgsIDU4MS45MzggMzMwLjE4OCBDIDU4MC4zNzkgMzI1LjI5OCwgNTc1LjQzMiAzMjAuMjE1LCA1NzEuMDQ0IDMxOC45OTYgQyA1NjYuNTEzIDMxNy43MzcsIDQ1Ny42OTYgMzE3LjgzNCwgNDUzLjMxOSAzMTkuMTAxIE0gNDYyIDM5OC45MTcgQyA0NTcuODc1IDM5OS4zMDUsIDQ1My4wNzcgNDAwLjM3MywgNDUxLjMzOCA0MDEuMjkxIEMgNDM5Ljk2OSA0MDcuMjkzLCA0MzkuNjE1IDQyNC4yNjgsIDQ1MC43NDkgNDI5LjU1MSBDIDQ1Ny4wNjEgNDMyLjU0NiwgNDcwLjE4MiA0MzMuMTY3LCA1MjAgNDMyLjgyOSBMIDU2OC41MDAgNDMyLjUwMCA1NzMuNTAwIDQzMCBDIDU4MC4wMTggNDI2Ljc0MSwgNTgzLjU3NSA0MjAuMzE4LCA1ODIuNTcwIDQxMy42MjAgQyA1ODEuNzM4IDQwOC4wNzMsIDU3Ni41NzUgNDAxLjg1OSwgNTcxLjMzOSA0MDAuMTAzIEMgNTY3LjAwMiAzOTguNjQ5LCA0NzUuNDM1IDM5Ny42NTYsIDQ2MiAzOTguOTE3IE0gNDk5IDUxNi42MDAgQyA0NjguNDE4IDUxOS4xOTksIDQ1NS44MjEgNTIxLjM5NSwgNDM4LjUwMCA1MjcuMTQ4IEMgNDEzLjQ3NCA1MzUuNDYxLCAzOTIuNDcyIDU0Ny42NjAsIDM3Ni4zMTUgNTYzLjI3MSBDIDM1Ny4zOTcgNTgxLjU0OSwgMzQ4IDU5OS42MDUsIDM0OCA2MTcuNjgwIEMgMzQ4IDYyNy4yNTQsIDM1NC4xMDEgNjU5LjQzOCwgMzYxLjYxNSA2ODkuNTAwIEMgMzY1LjU1MCA3MDUuMjQyLCAzNjkuMTcxIDcxMC44OTAsIDM3OC41MDAgNzE1LjgzOCBDIDM4Mi45MzkgNzE4LjE5MywgMzg0LjU2NiA3MTguNDgyLCAzOTMgNzE4LjQxOCBDIDM5OC4yMjUgNzE4LjM3OCwgNDEzLjUyNSA3MTcuMTQ0LCA0MjcgNzE1LjY3NSBDIDQ4Ny4xNzUgNzA5LjExOSwgNTQwLjAzMSA3MDkuNzg0LCA2MTkgNzE4LjA5NSBDIDYzMy4yMTkgNzE5LjU5MSwgNjM5Ljk4NyA3MTguODIxLCA2NDYuNzk4IDcxNC45MzEgQyA2NTUuMTQyIDcxMC4xNjUsIDY1OC4zNzEgNzA0LjMwMiwgNjYzLjA3OCA2ODUuMzYxIEMgNjY3LjQyNyA2NjcuODYyLCA2NzUuNDkxIDYyOC42MzMsIDY3Ni41MTggNjE5Ljk4MyBDIDY3Ny43ODYgNjA5LjI4OSwgNjczLjQ0MSA1OTQuNTY3LCA2NjUuNDMzIDU4Mi40MjkgQyA2NjAuMjE2IDU3NC41MjEsIDY0Ni4zMDYgNTYwLjE2MCwgNjM3LjI5NiA1NTMuMzc5IEMgNjEyLjU0NSA1MzQuNzUxLCA1ODAuMjczIDUyMi40OTMsIDU0NS42NDQgNTE4LjU2OCBDIDUzMS44ODQgNTE3LjAwOSwgNTA2LjY5NyA1MTUuOTQ2LCA0OTkgNTE2LjYwMCBNIDQ4Ny45MDggNTQzLjk3MSBDIDQ2Ni42OTUgNTQ2LjA0NCwgNDQxLjA2OCA1NTMuMjY1LCA0MjMuNjcwIDU2Mi4wNzAgQyA0MDIuMzExIDU3Mi44ODAsIDM4OS4wODYgNTg1LjA4MCwgMzgwLjkyNSA2MDEuNTAwIEMgMzc2LjA2NSA2MTEuMjc4LCAzNzUuMTQ5IDYxOC43MDksIDM3Ny4zNDkgNjMwLjUwMCBDIDM4Mi40NjQgNjU3LjkwNSwgMzg5LjEyOSA2ODcuNDg1LCAzOTAuNTQwIDY4OS4wNDUgQyAzOTQuMTIxIDY5My4wMDEsIDM5Ny4wMDcgNjkzLjI5NiwgNDEwLjY1NyA2OTEuMTAwIEMgNDc3Ljc0OSA2ODAuMzA4LCA1NDEuNzYwIDY4MC4zMjgsIDYxMi42NDcgNjkxLjE2NSBDIDYyOC40NTggNjkzLjU4MywgNjMxLjg5OSA2OTMuMDk5LCA2MzQuNDA0IDY4OC4xMDkgQyA2MzUuNzY2IDY4NS4zOTgsIDYzNS44NzYgNjg0LjkyOSwgNjM5LjAyMSA2NjguNTAwIEMgNjQ3Ljk0NSA2MjEuODczLCA2NDguMjgyIDYxOC43MjgsIDY0NS40MDUgNjA4LjkzMiBDIDY0Mi42NDEgNTk5LjUyNCwgNjM3Ljg5NyA1OTEuOTI5LCA2MjkuNTAwIDU4My40NzIgQyA2MTAuMjA3IDU2NC4wNDAsIDU4MS40MDYgNTUxLjAyMCwgNTQ1LjUwMCA1NDUuNTAwIEMgNTMzLjYzNSA1NDMuNjc2LCA1MDAuMDUxIDU0Mi43ODQsIDQ4Ny45MDggNTQzLjk3MSBNIDI4Ny4zMjcgNzY0LjQ1NyBDIDI4NC41MTkgNzY2LjQ1OCwgMjg0LjAyMSA3NjguMTcwLCAyNzguNDEzIDc5NS4wOTYgQyAyNzUuNTY3IDgwOC43NTcsIDI3My45NjIgODE4LjcxMCwgMjc0LjM1MyA4MjAuMjY5IEMgMjc1LjM0NyA4MjQuMjMyLCAyNzkuOTQ2IDgyOC4xODcsIDI5MC42ODMgODM0LjMxMyBDIDMyOC41NTMgODU1LjkyMCwgMzgwLjYwMSA4NzIuODM5LCA0MzQgODgwLjkwMCBDIDQ2NC4xODYgODg1LjQ1NywgNDc5LjYwOCA4ODYuNDQxLCA1MjEgODg2LjQ1NSBDIDU2MS4zMzUgODg2LjQ2OSwgNTY4LjgxNyA4ODUuOTk4LCA2MDEgODgxLjQyNSBDIDY1NS43MjUgODczLjY0OSwgNzA4LjU5MyA4NTUuNjM1LCA3NDQuMzA0IDgzMi41OTggQyA3NTMuNzAxIDgyNi41MzYsIDc1Ni40MDIgODIzLjQxNCwgNzU2LjM5NyA4MTguNjIwIEMgNzU2LjM5NSA4MTYuOTA0LCA3NTQuMTgyIDgwNC43MDAsIDc1MS40NzkgNzkxLjUwMCBDIDc0NC44OTAgNzU5LjMyNiwgNzQ1LjI5MCA3NTkuNjk0LCA3MjUuNDM1IDc2Ny41NDcgQyA2NjUuMzY2IDc5MS4zMDUsIDU4OC41MjQgODAzLjEyMywgNTAzLjUwMCA4MDEuNjgwIEMgNDI3LjQ5NCA4MDAuMzkwLCAzNjMuOTk0IDc4OS43MDMsIDMwOC42NDMgNzY4Ljg4NiBDIDI5Mi45NjIgNzYyLjk4OCwgMjkwLjE5NSA3NjIuNDEzLCAyODcuMzI3IDc2NC40NTciIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg=="" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(74%) sepia(96%) saturate(300%) hue-rotate(10deg) brightness(93%) contrast(93%); margin-right: 5px;"> Yellow
                </span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showRedArmor" checked>
                <span style="color: #AA0000; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMwMC40NjAgMTQ4LjAxNSBDIDI5MS4wMDcgMTUwLjU1NywgMjc2LjAyNyAxNTUuODM3LCAyNzMuMjY0IDE1Ny42MDEgQyAyNzIuMDM0IDE1OC4zODYsIDI3MC4zNDggMTYwLjA2NSwgMjY5LjUxNyAxNjEuMzMzIEMgMjY3LjIwMyAxNjQuODY1LCAyNjEuMzk5IDE5OC4wNzEsIDI1Ny4wNzggMjMyLjUwMCBDIDI1MS44MzEgMjc0LjMwMiwgMjUxLjU0MyAyODAuMTA1LCAyNTEuNDI1IDM0Ni41MDAgQyAyNTEuMzE1IDQwOC40NzMsIDI1MS4yNzggNDA5LjU5MCwgMjQ5LjE2MCA0MTUuMDQ5IEMgMjQyLjkzNSA0MzEuMDkxLCAyMzAuNTYzIDQ0MC45NjAsIDIxMSA0NDUuNDg5IEMgMTk3LjIyMyA0NDguNjc5LCAxOTYuMzI3IDQ0OC45ODEsIDE5NC40MjggNDUxLjA4MCBDIDE5MS4zNTUgNDU0LjQ3NSwgMTkyLjIwMCA0NTkuNjUxLCAxOTcuNzAxIDQ3MS4xMzcgQyAyMDMuNTk5IDQ4My40NTQsIDIwOC44MDYgNDkxLjcwMSwgMjE5Ljk4NyA1MDYuNDM4IEMgMjMxLjI5OSA1MjEuMzQ4LCAyMzcuMzk0IDUzMC44NDcsIDI0Mi40ODUgNTQxLjUwMCBDIDI2My4wNjAgNTg0LjU2MiwgMjcyLjA2MSA2NDEuMjcxLCAyNjguMDI5IDcwMi40NTAgQyAyNjYuNTI4IDcyNS4yMTQsIDI2Ni41NjAgNzI1LjMyNiwgMjc2LjM5OCA3MzEuNzYzIEMgMzA3LjU2NCA3NTIuMTU3LCAzNzcuNTkxIDc3MS4zNDQsIDQ0NSA3NzcuOTYwIEMgNDk0LjE5NyA3ODIuNzg4LCA1NTUuNDc4IDc4Mi4yMDgsIDYwMyA3NzYuNDY0IEMgNjYxLjc3OCA3NjkuMzU5LCA3MTUuMjUzIDc1NC40MDYsIDc0OC4wOTcgNzM1Ljg5MSBDIDc2NC40MjcgNzI2LjY4NiwgNzY1LjEwMyA3MjUuNTE1LCA3NjMuOTAzIDcwOC41MDAgQyA3NjIuNzc1IDY5Mi41MTksIDc2Mi44NTUgNjQ1LjQ2NSwgNzY0LjAzMyA2MzEuNTAwIEMgNzY4LjQzNCA1NzkuMzMxLCA3NzkuOTA5IDU0My4xNzQsIDgwMS45NDggNTEyLjAyNiBDIDgxOS41NjIgNDg3LjEzMiwgODI4LjE3MyA0NzIuNDUxLCA4MzEuNjgyIDQ2MS4zMzQgQyA4MzMuMDU5IDQ1Ni45NzAsIDgzMy4xMTIgNDU1LjY4NCwgODMyLjAxOSA0NTMuMDQ2IEMgODMwLjQ5MyA0NDkuMzYzLCA4MjkuMDM2IDQ0OC40NzEsIDgyMyA0NDcuNTMyIEMgODAxLjg1NCA0NDQuMjM5LCA3ODUuNjUxIDQzNC45NjEsIDc3OC42ODEgNDIyLjE1NiBDIDc3My4yMDcgNDEyLjA5OCwgNzczLjA0MiA0MTAuMDIwLCA3NzMuMjQ4IDM1NCBDIDc3My40MzcgMzAyLjc2NiwgNzczLjAwMyAyOTEuNzE5LCA3NjkuNDQyIDI1NyBDIDc2Ni4zMDkgMjI2LjQ2NiwgNzU2Ljk1MiAxNjguMDYzLCA3NTQuMzAxIDE2Mi41MDUgQyA3NTMuNDM5IDE2MC42OTgsIDc1MS4xMDYgMTU4LjMxOCwgNzQ5LjExNyAxNTcuMjE3IEMgNzQ0LjQ2MiAxNTQuNjQxLCA3MjEuMjczIDE0Ny4xMzYsIDcxNS41NDMgMTQ2LjM1MSBDIDcwNy44MjUgMTQ1LjI5MywgNzA2LjYxNSAxNDYuMTExLCA2OTkuMzgwIDE1Ny4yNjcgQyA2OTEuODM3IDE2OC44OTgsIDY4Mi4yMDIgMTc4LjkxMCwgNjczLjQxNCAxODQuMjQ5IEMgNjUwLjA3NyAxOTguNDI1LCA2MTEuMjgyIDIwNS41MzEsIDU0My40NDQgMjA4LjA1NyBDIDQ5MC41MTcgMjEwLjAyNywgNDI1LjM5NiAyMDYuMjczLCAzOTIuNTUyIDE5OS4zNTggQyAzNTcuMjMzIDE5MS45MjIsIDM0MS4wMjUgMTgyLjA0MywgMzI1LjQ1MiAxNTguNDU5IEMgMzIxLjM3MyAxNTIuMjgyLCAzMTcuMzE1IDE0Ni45NTEsIDMxNi40MzYgMTQ2LjYxNCBDIDMxMy42NDQgMTQ1LjU0MiwgMzA3LjcyMiAxNDYuMDYyLCAzMDAuNDYwIDE0OC4wMTUgTSAyMjAgMTYyLjM0NCBDIDIwMC4yMTcgMTcwLjYwNiwgMTI5LjMzNCAyMDUuMzY4LCAxMDYuODAwIDIxNy44NTkgQyA4OS44MzYgMjI3LjI2MywgNTkuOTQ0IDI0NS4xMDEsIDU1LjM5NyAyNDguNTM1IEMgNTMuNjkwIDI0OS44MjQsIDUxLjcyMyAyNTIuMjU2LCA1MS4wMjUgMjUzLjkzOSBDIDQ4Ljc5OSAyNTkuMzEzLCA1MC43MjAgMjYxLjYyNiwgNjUuMDY1IDI3MC44NTMgQyAxMTAuNDA4IDMwMC4wMTYsIDEzOC40NjkgMzM0LjgyNywgMTU5LjQ5NCAzODggQyAxNjYuODgxIDQwNi42ODQsIDE2Ny4zNTIgNDA3LjU0NCwgMTcxLjc3OCA0MTAuNDYzIEMgMTc2LjMzNyA0MTMuNDcwLCAyMDIuMTgzIDQyMC4wMzIsIDIxMC4wMzIgNDIwLjE3NiBDIDIxOS4wMDUgNDIwLjM0MCwgMjI0LjgyMCA0MTYuMDk1LCAyMjcuMDcxIDQwNy43MzYgQyAyMjcuOTEwIDQwNC42MTksIDIyNy42OTMgMzk5LjcyNSwgMjI2LjA5MCAzODUuNjE3IEMgMjIzLjYxOSAzNjMuODgyLCAyMjEuOTk5IDMzNi45NDMsIDIyMi4wMDIgMzE3LjYzOSBDIDIyMi4wMDcgMjg2LjQyNCwgMjI1LjYxMSAyNDEuNjQ0LCAyMzEuMTQ3IDIwNCBDIDIzNi40ODEgMTY3LjczMywgMjM2LjUyMCAxNjcuMzQwLCAyMzUuMDgwIDE2NC42NTAgQyAyMzMuNzIwIDE2Mi4xMDgsIDIzMC4xMDIgMTU5Ljk4MywgMjI3LjIwMyAxNjAuMDI0IEMgMjI2LjI2NiAxNjAuMDM3LCAyMjMuMDI1IDE2MS4wODEsIDIyMCAxNjIuMzQ0IE0gNzkzLjM1NyAxNjAuOTkyIEMgNzkwLjMzOSAxNjIuMjA5LCA3ODggMTY1LjkxNCwgNzg4LjAwMSAxNjkuNDczIEMgNzg4LjAwMiAxNzEuMTM4LCA3ODguNjg1IDE3Ni4zMjUsIDc4OS41MTkgMTgxIEMgNzkyLjk3NyAyMDAuMzg3LCA3OTcuODQxIDIzNy45MzUsIDgwMC4yMDUgMjYzLjUwMCBDIDgwMS4wMTAgMjcyLjIwMywgODAxLjUwMCAyOTIuNjM1LCA4MDEuNTAwIDMxNy41MDAgQyA4MDEuNTAwIDM1MC44MzMsIDgwMS4xNjcgMzYwLjUwMCwgNzk5LjUwMCAzNzUuNTAwIEMgNzk4LjQwMCAzODUuNDAwLCA3OTcuNTAwIDM5Ny4xMzUsIDc5Ny41MDAgNDAxLjU3OCBDIDc5Ny41MDAgNDA4Ljg4NywgNzk3Ljc2NyA0MTAuMDA3LCA4MDAuMzAyIDQxMy4zMjkgQyA4MDYuMTI1IDQyMC45NjMsIDgxMi44NzggNDIxLjcyOCwgODMyLjY3NSA0MTYuOTk3IEMgODQ2LjczOSA0MTMuNjM2LCA4NTQuMTQ3IDQxMC4xNDYsIDg1Ni45MTUgNDA1LjU3NyBDIDg1Ny45NDAgNDAzLjg4NSwgODYwLjY4NSAzOTcuMzI1LCA4NjMuMDE0IDM5MSBDIDg2OC43MjcgMzc1LjQ4NywgODgwLjMzNCAzNTEuODA0LCA4ODguNDk5IDMzOSBDIDkwNS45MDEgMzExLjcxMiwgOTI5LjUzMyAyODguMzk1LCA5NTguOTM2IDI2OS41MDAgQyA5NzIuMjE3IDI2MC45NjUsIDk3NC4yNzUgMjU4LjM1NywgOTcxLjY3NiAyNTMuMzUzIEMgOTY5Ljg0NSAyNDkuODI2LCA5NjcuOTA3IDI0OC4zOTMsIDk0OS45MDAgMjM3LjI1NCBDIDkyMy4zOTQgMjIwLjg1NiwgODY0Ljk2NCAxOTAuNjIwLCA4MTcuNTAwIDE2OC43MzkgQyA3OTcuMTI3IDE1OS4zNDcsIDc5Ny4yOTYgMTU5LjQwMiwgNzkzLjM1NyAxNjAuOTkyIE0gNDUzLjMxOSAzMTkuMTAxIEMgNDQ4LjcyNiAzMjAuNDMwLCA0NDMuMjMyIDMyNy4yNjksIDQ0Mi40MjMgMzMyLjY2NCBDIDQ0MS44OTMgMzM2LjIwMSwgNDQyLjIzMCAzMzcuOTczLCA0NDQuMTQ0IDM0MS42OTEgQyA0NDkuMTg3IDM1MS40OTAsIDQ1NS4xNDQgMzUyLjI2NSwgNTIyIDM1MS44MTQgQyA1NjcuNzM1IDM1MS41MDUsIDU2OC41NjggMzUxLjQ2NCwgNTcyLjYyNCAzNDkuMjk0IEMgNTgwLjc3MyAzNDQuOTM1LCA1ODQuMzIwIDMzNy42NTgsIDU4MS45MzggMzMwLjE4OCBDIDU4MC4zNzkgMzI1LjI5OCwgNTc1LjQzMiAzMjAuMjE1LCA1NzEuMDQ0IDMxOC45OTYgQyA1NjYuNTEzIDMxNy43MzcsIDQ1Ny42OTYgMzE3LjgzNCwgNDUzLjMxOSAzMTkuMTAxIE0gNDYyIDM5OC45MTcgQyA0NTcuODc1IDM5OS4zMDUsIDQ1My4wNzcgNDAwLjM3MywgNDUxLjMzOCA0MDEuMjkxIEMgNDM5Ljk2OSA0MDcuMjkzLCA0MzkuNjE1IDQyNC4yNjgsIDQ1MC43NDkgNDI5LjU1MSBDIDQ1Ny4wNjEgNDMyLjU0NiwgNDcwLjE4MiA0MzMuMTY3LCA1MjAgNDMyLjgyOSBMIDU2OC41MDAgNDMyLjUwMCA1NzMuNTAwIDQzMCBDIDU4MC4wMTggNDI2Ljc0MSwgNTgzLjU3NSA0MjAuMzE4LCA1ODIuNTcwIDQxMy42MjAgQyA1ODEuNzM4IDQwOC4wNzMsIDU3Ni41NzUgNDAxLjg1OSwgNTcxLjMzOSA0MDAuMTAzIEMgNTY3LjAwMiAzOTguNjQ5LCA0NzUuNDM1IDM5Ny42NTYsIDQ2MiAzOTguOTE3IE0gNDk5IDUxNi42MDAgQyA0NjguNDE4IDUxOS4xOTksIDQ1NS44MjEgNTIxLjM5NSwgNDM4LjUwMCA1MjcuMTQ4IEMgNDEzLjQ3NCA1MzUuNDYxLCAzOTIuNDcyIDU0Ny42NjAsIDM3Ni4zMTUgNTYzLjI3MSBDIDM1Ny4zOTcgNTgxLjU0OSwgMzQ4IDU5OS42MDUsIDM0OCA2MTcuNjgwIEMgMzQ4IDYyNy4yNTQsIDM1NC4xMDEgNjU5LjQzOCwgMzYxLjYxNSA2ODkuNTAwIEMgMzY1LjU1MCA3MDUuMjQyLCAzNjkuMTcxIDcxMC44OTAsIDM3OC41MDAgNzE1LjgzOCBDIDM4Mi45MzkgNzE4LjE5MywgMzg0LjU2NiA3MTguNDgyLCAzOTMgNzE4LjQxOCBDIDM5OC4yMjUgNzE4LjM3OCwgNDEzLjUyNSA3MTcuMTQ0LCA0MjcgNzE1LjY3NSBDIDQ4Ny4xNzUgNzA5LjExOSwgNTQwLjAzMSA3MDkuNzg0LCA2MTkgNzE4LjA5NSBDIDYzMy4yMTkgNzE5LjU5MSwgNjM5Ljk4NyA3MTguODIxLCA2NDYuNzk4IDcxNC45MzEgQyA2NTUuMTQyIDcxMC4xNjUsIDY1OC4zNzEgNzA0LjMwMiwgNjYzLjA3OCA2ODUuMzYxIEMgNjY3LjQyNyA2NjcuODYyLCA2NzUuNDkxIDYyOC42MzMsIDY3Ni41MTggNjE5Ljk4MyBDIDY3Ny43ODYgNjA5LjI4OSwgNjczLjQ0MSA1OTQuNTY3LCA2NjUuNDMzIDU4Mi40MjkgQyA2NjAuMjE2IDU3NC41MjEsIDY0Ni4zMDYgNTYwLjE2MCwgNjM3LjI5NiA1NTMuMzc5IEMgNjEyLjU0NSA1MzQuNzUxLCA1ODAuMjczIDUyMi40OTMsIDU0NS42NDQgNTE4LjU2OCBDIDUzMS44ODQgNTE3LjAwOSwgNTA2LjY5NyA1MTUuOTQ2LCA0OTkgNTE2LjYwMCBNIDQ4Ny45MDggNTQzLjk3MSBDIDQ2Ni42OTUgNTQ2LjA0NCwgNDQxLjA2OCA1NTMuMjY1LCA0MjMuNjcwIDU2Mi4wNzAgQyA0MDIuMzExIDU3Mi44ODAsIDM4OS4wODYgNTg1LjA4MCwgMzgwLjkyNSA2MDEuNTAwIEMgMzc2LjA2NSA2MTEuMjc4LCAzNzUuMTQ5IDYxOC43MDksIDM3Ny4zNDkgNjMwLjUwMCBDIDM4Mi40NjQgNjU3LjkwNSwgMzg5LjEyOSA2ODcuNDg1LCAzOTAuNTQwIDY4OS4wNDUgQyAzOTQuMTIxIDY5My4wMDEsIDM5Ny4wMDcgNjkzLjI5NiwgNDEwLjY1NyA2OTEuMTAwIEMgNDc3Ljc0OSA2ODAuMzA4LCA1NDEuNzYwIDY4MC4zMjgsIDYxMi42NDcgNjkxLjE2NSBDIDYyOC40NTggNjkzLjU4MywgNjMxLjg5OSA2OTMuMDk5LCA2MzQuNDA0IDY4OC4xMDkgQyA2MzUuNzY2IDY4NS4zOTgsIDYzNS44NzYgNjg0LjkyOSwgNjM5LjAyMSA2NjguNTAwIEMgNjQ3Ljk0NSA2MjEuODczLCA2NDguMjgyIDYxOC43MjgsIDY0NS40MDUgNjA4LjkzMiBDIDY0Mi42NDEgNTk5LjUyNCwgNjM3Ljg5NyA1OTEuOTI5LCA2MjkuNTAwIDU4My40NzIgQyA2MTAuMjA3IDU2NC4wNDAsIDU4MS40MDYgNTUxLjAyMCwgNTQ1LjUwMCA1NDUuNTAwIEMgNTMzLjYzNSA1NDMuNjc2LCA1MDAuMDUxIDU0Mi43ODQsIDQ4Ny45MDggNTQzLjk3MSBNIDI4Ny4zMjcgNzY0LjQ1NyBDIDI4NC41MTkgNzY2LjQ1OCwgMjg0LjAyMSA3NjguMTcwLCAyNzguNDEzIDc5NS4wOTYgQyAyNzUuNTY3IDgwOC43NTcsIDI3My45NjIgODE4LjcxMCwgMjc0LjM1MyA4MjAuMjY5IEMgMjc1LjM0NyA4MjQuMjMyLCAyNzkuOTQ2IDgyOC4xODcsIDI5MC42ODMgODM0LjMxMyBDIDMyOC41NTMgODU1LjkyMCwgMzgwLjYwMSA4NzIuODM5LCA0MzQgODgwLjkwMCBDIDQ2NC4xODYgODg1LjQ1NywgNDc5LjYwOCA4ODYuNDQxLCA1MjEgODg2LjQ1NSBDIDU2MS4zMzUgODg2LjQ2OSwgNTY4LjgxNyA4ODUuOTk4LCA2MDEgODgxLjQyNSBDIDY1NS43MjUgODczLjY0OSwgNzA4LjU5MyA4NTUuNjM1LCA3NDQuMzA0IDgzMi41OTggQyA3NTMuNzAxIDgyNi41MzYsIDc1Ni40MDIgODIzLjQxNCwgNzU2LjM5NyA4MTguNjIwIEMgNzU2LjM5NSA4MTYuOTA0LCA3NTQuMTgyIDgwNC43MDAsIDc1MS40NzkgNzkxLjUwMCBDIDc0NC44OTAgNzU5LjMyNiwgNzQ1LjI5MCA3NTkuNjk0LCA3MjUuNDM1IDc2Ny41NDcgQyA2NjUuMzY2IDc5MS4zMDUsIDU4OC41MjQgODAzLjEyMywgNTAzLjUwMCA4MDEuNjgwIEMgNDI3LjQ5NCA4MDAuMzkwLCAzNjMuOTk0IDc4OS43MDMsIDMwOC42NDMgNzY4Ljg4NiBDIDI5Mi45NjIgNzYyLjk4OCwgMjkwLjE5NSA3NjIuNDEzLCAyODcuMzI3IDc2NC40NTciIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg==" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(10%) sepia(83%) saturate(5738%) hue-rotate(359deg) brightness(96%) contrast(114%); margin-right: 5px;"> Red
                </span>
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="showMegaHealth" checked>
                <span style="color: #AA0000; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDMxLjM1NyAzMS4zNTciDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0xNS42NzksMEM3LjAzMywwLDAuMDAxLDcuMDMzLDAuMDAxLDE1LjY3OGMwLDguNjQ2LDcuMDMyLDE1LjY4LDE1LjY3OCwxNS42OGM4LjY0NCwwLDE1LjY3Ny03LjAzMywxNS42NzctMTUuNjgNCgkJCUMzMS4zNTYsNy4wMzMsMjQuMzIzLDAsMTUuNjc5LDB6IE0xNS42NzksMjguODYxYy03LjI3LDAtMTMuMTgzLTUuOTEzLTEzLjE4My0xMy4xODRjMC03LjI2OCw1LjkxMy0xMy4xODMsMTMuMTgzLTEzLjE4Mw0KCQkJYzcuMjY5LDAsMTMuMTgyLDUuOTE1LDEzLjE4MiwxMy4xODNDMjguODYxLDIyLjk0OCwyMi45NDgsMjguODYxLDE1LjY3OSwyOC44NjF6Ii8+DQoJCTxwYXRoIGQ9Ik0xOS4yNDMsMTIuMzY4VjcuMzNjMC0wLjg2OC0wLjcwMy0xLjU3LTEuNTctMS41N2gtMy4zOTZjLTAuODY3LDAtMS41NjksMC43MDMtMS41NjksMS41N3Y1LjAzOGgtNS4wNA0KCQkJYy0wLjg2NywwLTEuNTY5LDAuNzAzLTEuNTY5LDEuNTd2My40NjhjMCwwLjg2NywwLjcwMiwxLjU3LDEuNTY5LDEuNTdoNS4wMzl2NS4wMzdjMCwwLjg2NywwLjcwMiwxLjU3LDEuNTY5LDEuNTdoMy4zOTcNCgkJCWMwLjg2NiwwLDEuNTY5LTAuNzAzLDEuNTY5LTEuNTd2LTUuMDM3aDUuMDM4YzAuODY3LDAsMS41Ny0wLjcwMywxLjU3LTEuNTd2LTMuNDY4YzAtMC44NjgtMC43MDMtMS41Ny0xLjU3LTEuNTdIMTkuMjQzeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg==" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(10%) sepia(83%) saturate(5738%) hue-rotate(359deg) brightness(96%) contrast(114%); margin-right: 5px;"> Mega
                </span>
            </label>
        </div>
        
        <hr>
        
        <div class="checkbox-group">
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showPowerups" checked>
                <span>Show Powerups</span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showQuad" checked>
                <span style="color: #44448a; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMyMy45MTEgODUuMDE2IEMgMjk2LjcwNSAxMDIuMDM3LCAyMzcuNzk5IDE0MC41MDEsIDIzNS4xMTMgMTQzIEMgMjMxLjUwNiAxNDYuMzU0LCAyMzMuNDQyIDE0MS44MDQsIDE0Ny41MDcgMzQ4LjkzOSBDIDEzOS4yNzMgMzY4Ljc4NiwgMTM3Ljg1NCAzNzMuMDAxLCAxMzguMjQ3IDM3Ni40MzkgQyAxMzguNjI2IDM3OS43NTgsIDE2OS44MjcgNDU1LjYwOCwgMjIxLjk4MyA1ODAgQyAyMzQuNTY3IDYxMC4wMTQsIDIzNS4zOTUgNjExLjYzNiwgMjM5LjEwOSA2MTMuNTU2IEMgMjQwLjkyNiA2MTQuNDk2LCAyNzYuNDA3IDYyNi42MzgsIDMxNy45NTYgNjQwLjU0MCBDIDQzMy4xMjAgNjc5LjA3MiwgNDcwLjE3NCA2OTEuODQ4LCA0NzIuMjcxIDY5My43NDUgQyA0NzUuNTgwIDY5Ni43NDAsIDQ3NS45OTQgNjk4LjUyMSwgNDc3LjAyMyA3MTQuMjAyIEMgNDc5LjUyNCA3NTIuMjgwLCA0ODkuMDM1IDgxOS41MDksIDUwNS4wMDcgOTEyLjAwNCBDIDUxMi4xMDIgOTUzLjA5NCwgNTExLjI0MCA5NTAuNjM4LCA1MTMuNzg4IDkzNyBDIDUxOS40NTkgOTA2LjY0OSwgNTI4LjczNiA4NTEuOTY3LCA1MzUuNDE5IDgwOS41MDAgQyA1NDEuMjQxIDc3Mi41MDgsIDU0Ni45OTEgNzIzLjQwMywgNTQ3LjAwNiA3MTAuNTYzIEMgNTQ3LjAxMyA3MDQuMTE3LCA1NDguNDk3IDY5OC43NjYsIDU1MC44NzMgNjk2LjYxNSBDIDU1MS44OTggNjk1LjY4OCwgNTcyLjcwOCA2ODguMTY3LCA1OTcuMTE4IDY3OS45MDEgQyA2ODMuMDcyIDY1MC43OTcsIDcwMi44MzIgNjQ0LjA3OCwgNzM4IDYzMS45OTcgQyA3ODQuNjQ4IDYxNS45NzMsIDc4OC40MDggNjE0LjQ5MywgNzkxLjM2MSA2MTAuOTgzIEMgNzkyLjcwNCA2MDkuMzg2LCA3OTkuMjA5IDU5NC40NDksIDgwNS44MTYgNTc3Ljc5MCBDIDgxMi40MjQgNTYxLjEzMCwgODI2LjIzMCA1MjYuMzUwLCA4MzYuNDk4IDUwMC41MDAgQyA4NzkuNDc1IDM5Mi4yOTgsIDg4NSAzNzguMTI4LCA4ODUgMzc2LjA5NCBDIDg4NSAzNzQuOTIxLCA4ODAuNTQ1IDM2My41MDcsIDg3NS4wOTkgMzUwLjczMCBDIDg0OS4xNjAgMjg5Ljg2OSwgNzkxLjgzNyAxNTYuNjYxLCA3ODkuMDIwIDE1MC42OTggQyA3ODUuMjM4IDE0Mi42OTQsIDc4OS44NjcgMTQ2LjAyNiwgNzM1IDExMS44MTkgQyA2ODUuMjM1IDgwLjc5NCwgNjc3LjA3OSA3NiwgNjc0LjA2MiA3NiBDIDY3MS44ODEgNzYsIDY0OCA4OS43MjksIDY0OCA5MC45ODMgQyA2NDggOTEuMzI4LCA2NTcuNTYzIDk4Ljk5OCwgNjY5LjI1MCAxMDguMDI2IEMgNzAxLjUwNyAxMzIuOTQzLCA3NDEuMjY5IDE2NC40OTUsIDc0My4zODMgMTY2Ljg1MiBDIDc0NS4xMTkgMTY4Ljc4OCwgNzUwLjM2OCAxODQuMzU4LCA3NjMuMTUxIDIyNS41MDAgQyA3NzQuMDE1IDI2MC40NjIsIDgwMC45NTEgMzQ3LjkzNiwgODAzLjAxNiAzNTQuOTYwIEMgODA2Ljg0OCAzNjcuOTkyLCA4MDYuNjkwIDM2OC41MzQsIDc4Ni45MzYgNDEwIEMgNzY0LjUxNyA0NTcuMDYxLCA3MjQuMzIzIDUzNy45NTksIDcyMi4xNzAgNTQwLjM1MiBDIDcxOS4zMTEgNTQzLjUzMiwgNzE2LjA5NiA1NDQuNjYwLCA2OTAuNDQ4IDU1MS40ODEgQyA2NzYuNzI3IDU1NS4xMzAsIDY1NC43MDAgNTYwLjk5MSwgNjQxLjUwMCA1NjQuNTA0IEMgNTgxLjE0MiA1ODAuNTY4LCA1NTYuMDY3IDU4NywgNTUzLjgwMCA1ODcgQyA1NTIuNDUyIDU4NywgNTUwLjMzNyA1ODUuOTIzLCA1NDkuMTAxIDU4NC42MDggTCA1NDYuODUzIDU4Mi4yMTUgNTQ3LjIxMSA1MzEuMzU4IEMgNTQ3LjQ1OSA0OTYuMDEyLCA1NDcuOTE4IDQ3OS42OTYsIDU0OC43MTYgNDc3Ljg2NSBDIDU0OS4zNDcgNDc2LjQxNSwgNTUxLjM1NyA0NzMuODIwLCA1NTMuMTgyIDQ3Mi4wOTggQyA1NTYuMjQ3IDQ2OS4yMDUsIDU5Mi4yOTkgNDQ1LjU5MCwgNTk1LjU2MCA0NDQuMzM5IEMgNTk2LjM1MiA0NDQuMDM1LCA1OTcgNDQzLjM3NSwgNTk3IDQ0Mi44NzIgQyA1OTcgNDQyLjMyNywgNTYyLjMwNyA0NDEuOTg0LCA1MTEgNDQyLjAyMiBDIDQ2My43MDAgNDQyLjA1NywgNDI1IDQ0Mi40NTcsIDQyNSA0NDIuOTEwIEMgNDI1IDQ0My4zNjMsIDQzMi43NjIgNDQ4LjU4NiwgNDQyLjI1MCA0NTQuNTE2IEMgNDY3LjE3MyA0NzAuMDk0LCA0NzEuOTQxIDQ3My42MjksIDQ3My43NTYgNDc3Ljg3NCBDIDQ3NS45NTcgNDgzLjAyMSwgNDc3LjgxMiA1NzguNTI2LCA0NzUuNzkzIDU4Mi43NTggQyA0NzMuMTk1IDU4OC4yMDYsIDQ3OC4wMjggNTg5LjIyMSwgMzc0LjUwMCA1NjEuNDc4IEMgMzQ2LjQ1MCA1NTMuOTYxLCAzMjEuMTAxIDU0Ny4xNzQsIDMxOC4xNjggNTQ2LjM5NyBDIDMwOS4wNjMgNTQzLjk4MiwgMzA3LjI4OSA1NDIuMzY4LCAzMDEuMjUyIDUzMSBDIDI5OS4wNjIgNTI2Ljg3NSwgMjg5Ljg0OCA1MDkuNTUwLCAyODAuNzc3IDQ5Mi41MDAgQyAyNjAuNTA0IDQ1NC4zOTMsIDIzOS4yMzQgNDEzLjQ2NSwgMjI3LjEyNSAzODkuMjYxIEMgMjE5LjM4MiAzNzMuNzg0LCAyMTggMzcwLjI4NiwgMjE4IDM2Ni4xNjUgQyAyMTggMzYzLjEyNiwgMjIwLjYzNiAzNTIuMTgyLCAyMjUuMDQ3IDMzNi45MDUgQyAyNjEuMTE2IDIxMS45OTksIDI3MS41NzEgMTc2LjQ4MywgMjczLjY5MCAxNzEuNjY5IEMgMjc0LjYyMiAxNjkuNTUyLCAyNzguMDg5IDE2NS40OTAsIDI4MS40MzggMTYyLjU4OSBDIDI4OC44NTYgMTU2LjE2NiwgMzQ4LjE0MiAxMDguMDYyLCAzNjAuMjk5IDk4LjYwNCBDIDM2OC4xODUgOTIuNDY3LCAzNjguOTEyIDkxLjYzMiwgMzY3LjI5OSA5MC41NDcgQyAzNTguNjI2IDg0LjcxNCwgMzQyLjczMyA3NiwgMzQwLjc2NyA3NiBDIDMzOS40MjEgNzYsIDMzMS44NDggODAuMDUwLCAzMjMuOTExIDg1LjAxNiIgc3Ryb2tlPSJub25lIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(3000%) hue-rotate(240deg) brightness(100%) contrast(50%); margin-right: 5px;"> Quad
                </span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showRing" checked>
                <span style="color: #e2e200; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDIiIGhlaWdodD0iNTI2IiB2aWV3Qm94PSIwIDAgNzAyIDUyNiIgdmVyc2lvbj0iMS4xIj4KCTxwYXRoIGQ9Ik0gMzAyIDIuNTExIEMgMjc0Ljc0NSA0Ljc4MCwgMjUzLjUwNSA3LjUzOCwgMjM2IDExLjA4MCBDIDIzMy41MjUgMTEuNTgxLCAyMjguODAwIDEyLjQzMSwgMjI1LjUwMCAxMi45NjkgQyAyMjAuMTYzIDEzLjgzOSwgMTk5Ljg4NyAxOC44OTQsIDE4My42NzggMjMuMzk1IEMgMTc2LjA4MyAyNS41MDQsIDE1Ny4zMzEgMzEuNzc5LCAxNTMuNTAwIDMzLjQ5MyBDIDE1MS44NTAgMzQuMjMxLCAxNDcuNjU3IDM1LjgxMiwgMTQ0LjE4MiAzNy4wMDcgQyAxNDAuNzA2IDM4LjIwMiwgMTM1LjM3MyA0MC40ODksIDEzMi4zMzAgNDIuMDg5IEMgMTI5LjI4NyA0My42OTAsIDEyNi4zMzggNDUsIDEyNS43NzcgNDUgQyAxMjQuMTUxIDQ1LCAxMDMuOTE4IDU1LjA4MSwgOTkuMzIwIDU4LjE4MSBDIDk3LjAyMSA1OS43MzIsIDk0LjgzMyA2MSwgOTQuNDU4IDYxIEMgOTMuMjk0IDYxLCA3NC45MzAgNzMuOTQ1LCA2NiA4MS4wNjAgQyA1NC43MjEgOTAuMDQ3LCAzMy43NzcgMTExLjQ2NCwgMjYuMTg1IDEyMS43NzQgQyAyMC44OTkgMTI4Ljk1MywgMTEgMTQ3LjE4NywgMTEgMTQ5Ljc0NSBDIDExIDE1MC4yMjksIDEwLjE1NSAxNTIuMzk2LCA5LjEyMSAxNTQuNTYyIEMgNi41NDkgMTU5Ljk1NSwgMy4yMjEgMTc0LjczOSwgMi4wMjYgMTg2LjA4NyBDIDAuNzQ1IDE5OC4yNTMsIDAuNzEyIDMyNS42NzUsIDEuOTg3IDMzNy41MDAgQyAzLjYxOCAzNTIuNjI3LCA2Ljg1MCAzNjUuOTM2LCAxMS40NTcgMzc2LjUwMCBDIDEyLjE3NyAzNzguMTUwLCAxMy4zNTMgMzgxLjA3NSwgMTQuMDcxIDM4MyBDIDE0Ljc5MCAzODQuOTI1LCAxNi41MTUgMzg4LjMwMCwgMTcuOTA2IDM5MC41MDAgQyAxOS4yOTYgMzkyLjcwMCwgMjEuMjYxIDM5Ni4wMDcsIDIyLjI3MiAzOTcuODQ5IEMgMjYuNzA5IDQwNS45MzQsIDQwLjk5OCA0MjIuMDk5LCA1NCA0MzMuNzQzIEMgNjIuNzYyIDQ0MS41OTAsIDg1LjA1NyA0NTksIDg2LjM0NCA0NTkgQyA4Ni42NTAgNDU5LCA4OC45MDAgNDYwLjM1MCwgOTEuMzQ1IDQ2MiBDIDkzLjc5MCA0NjMuNjUwLCA5Ni4wNDIgNDY1LCA5Ni4zNTEgNDY1IEMgOTYuNjU5IDQ2NSwgOTguNTU1IDQ2Ni4xMTYsIDEwMC41NjUgNDY3LjQ3OSBDIDEwNC42MTUgNDcwLjIyOCwgMTMwLjIzNSA0ODMsIDEzMS42OTggNDgzIEMgMTMyLjIwNyA0ODMsIDEzNC40ODcgNDgzLjkwMCwgMTM2Ljc2NCA0ODUgQyAxMzkuMDQxIDQ4Ni4xMDAsIDE0MS41MTAgNDg3LCAxNDIuMjUyIDQ4NyBDIDE0Mi45OTMgNDg3LCAxNDQuMDI4IDQ4Ny4zOTgsIDE0NC41NTAgNDg3Ljg4NCBDIDE0NS4wNzMgNDg4LjM2OSwgMTQ4LjQyNSA0ODkuNzU3LCAxNTIgNDkwLjk2NyBDIDE1NS41NzUgNDkyLjE3NywgMTYwLjQwOCA0OTQuMDMwLCAxNjIuNzM5IDQ5NS4wODQgQyAxNjUuMDcxIDQ5Ni4xMzgsIDE2Ny44ODkgNDk3LCAxNjkuMDAzIDQ5NyBDIDE3MC4xMTYgNDk3LCAxNzEuODA5IDQ5Ny40MDQsIDE3Mi43NjQgNDk3Ljg5NyBDIDE3NC40MDYgNDk4Ljc0NiwgMTc5LjMzNSA1MDAuMjU1LCAxOTUuNTAwIDUwNC44NTkgQyAyMDYuMTgwIDUwNy45MDEsIDIyMi43MzIgNTExLjc2MiwgMjMwLjE5NiA1MTIuOTUzIEMgMjMzLjg3OCA1MTMuNTQwLCAyMzcuNDc4IDUxNC4yMzAsIDIzOC4xOTYgNTE0LjQ4NSBDIDI0MS45MjQgNTE1LjgxMywgMjg0LjU2NyA1MjEuMjQxLCAzMDEuNzQ4IDUyMi41NzYgQyAzMjUuMjU3IDUyNC40MDIsIDM4MS4xMDUgNTI0LjY1NCwgMzk1IDUyMi45OTcgQyA0MDAuMjI1IDUyMi4zNzMsIDQwOSA1MjEuNDc4LCA0MTQuNTAwIDUyMS4wMDYgQyA0MzUuODM1IDUxOS4xNzksIDQ2MS40MDQgNTE1LjM5MCwgNDgxLjUwMCA1MTEuMDc3IEMgNDgzLjcwMCA1MTAuNjA1LCA0ODcuOTc1IDUwOS43MTgsIDQ5MSA1MDkuMTA1IEMgNDk0LjAyNSA1MDguNDkzLCA0OTguOTc1IDUwNy4yODcsIDUwMiA1MDYuNDI2IEMgNTA1LjAyNSA1MDUuNTY1LCA1MDkuMDc1IDUwNC40NjYsIDUxMSA1MDMuOTg0IEMgNTE2Ljk2MiA1MDIuNDkwLCA1NDIuOTYxIDQ5NC4xMDgsIDU0Ni4zMTggNDkyLjU5NyBDIDU0OC4wNjggNDkxLjgwOSwgNTUyLjQyNSA0OTAuMTc1LCA1NTYgNDg4Ljk2NiBDIDU1OS41NzUgNDg3Ljc1NywgNTYyLjkyNyA0ODYuMzY5LCA1NjMuNDUwIDQ4NS44ODQgQyA1NjMuOTcyIDQ4NS4zOTgsIDU2NS4wMjkgNDg1LCA1NjUuNzk4IDQ4NSBDIDU2Ny4wNTQgNDg1LCA1NzUuNDY5IDQ4MS4yNjIsIDU4OCA0NzUuMTM5IEMgNTk3LjQ1NyA0NzAuNTE4LCA2MDguODk1IDQ2NC4wODgsIDYxMy44MzcgNDYwLjYxNSBDIDYxNi42NjUgNDU4LjYyNywgNjE5LjIzMSA0NTcsIDYxOS41MzggNDU3IEMgNjE5Ljg0NSA0NTcsIDYyNC42ODcgNDUzLjU1NiwgNjMwLjI5OCA0NDkuMzQ2IEMgNjQzLjg4OSA0MzkuMTQ5LCA2NzEuMjYxIDQxMS43NDAsIDY3Ny42MDggNDAxLjk3MiBDIDY4NC45MzIgMzkwLjcwMCwgNjg0Ljg1MiAzOTAuODM1LCA2ODcuMTQzIDM4NiBDIDY4OC4zMTYgMzgzLjUyNSwgNjkwLjExNCAzNzkuNzcwLCA2OTEuMTM4IDM3Ny42NTUgQyA2OTIuMTYyIDM3NS41NDEsIDY5MyAzNzIuOTgwLCA2OTMgMzcxLjk2NSBDIDY5MyAzNzAuOTQ5LCA2OTMuNDUwIDM2OS44NDAsIDY5NCAzNjkuNTAwIEMgNjk0LjU1MCAzNjkuMTYwLCA2OTUgMzY3LjgxMCwgNjk1IDM2Ni41MDAgQyA2OTUgMzY1LjE5MCwgNjk1LjM4OSAzNjMuODc3LCA2OTUuODY1IDM2My41ODMgQyA2OTYuMzQxIDM2My4yODksIDY5Ny4wNjIgMzYxLjM1MCwgNjk3LjQ2NyAzNTkuMjc0IEMgNjk3Ljg3MyAzNTcuMTk4LCA2OTguNjc1IDM1My4wMjUsIDY5OS4yNTEgMzUwIEMgNjk5LjkwNCAzNDYuNTcyLCA3MDAuNDQxIDMxNC41NTcsIDcwMC42NzcgMjY1IEMgNzAxLjA0MyAxODguMTQwLCA3MDAuNzU3IDE3Ny42NzEsIDY5OC4wMzUgMTY4LjUwMCBDIDY5NC41NDMgMTU2LjczMCwgNjkyLjUxMSAxNTAuODE2LCA2OTEuODEyIDE1MC4zODQgQyA2OTEuMzY1IDE1MC4xMDgsIDY5MSAxNDkuMjIxLCA2OTEgMTQ4LjQxMyBDIDY5MSAxNDcuNjA0LCA2ODkuNDUyIDE0My42OTMsIDY4Ny41NjEgMTM5LjcyMiBDIDY3OC4yNjMgMTIwLjE5OCwgNjU2Ljk0NSA5Ni4wMTgsIDYzMi45NzQgNzcuODAzIEMgNjIzLjIwNiA3MC4zODEsIDYxMi40NDEgNjMsIDYxMS4zODQgNjMgQyA2MTAuOTg0IDYzLCA2MDkuOTIxIDYyLjMzNCwgNjA5LjAyMSA2MS41MTkgQyA2MDYuNDY0IDU5LjIwNSwgNTcwLjM1NCA0MS4yNDgsIDU2My41NzYgMzguOTIwIEMgNTYwLjIzNCAzNy43NzIsIDU1NS41OTIgMzUuOTcwLCA1NTMuMjYxIDM0LjkxNiBDIDU1MC45MjkgMzMuODYyLCA1NDguMzY4IDMzLCA1NDcuNTcwIDMzIEMgNTQ2Ljc3MSAzMywgNTQ1Ljg0MCAzMi41NTAsIDU0NS41MDAgMzIgQyA1NDUuMTYwIDMxLjQ1MCwgNTQzLjgxMCAzMSwgNTQyLjUwMCAzMSBDIDU0MS4xOTAgMzEsIDUzOS44NDAgMzAuNTUwLCA1MzkuNTAwIDMwIEMgNTM5LjE2MCAyOS40NTAsIDUzNy44MTAgMjksIDUzNi41MDAgMjkgQyA1MzUuMTkwIDI5LCA1MzMuODQwIDI4LjU1MCwgNTMzLjUwMCAyOCBDIDUzMy4xNjAgMjcuNDUwLCA1MzIuMDAyIDI3LCA1MzAuOTI3IDI3IEMgNTI5Ljg1MiAyNywgNTI4LjE5MSAyNi41ODgsIDUyNy4yMzYgMjYuMDg1IEMgNTI1LjYxNSAyNS4yMjksIDUxNC45NzAgMjIuMDUzLCA1MDcgMjAuMDQ2IEMgNDk3LjIzMSAxNy41ODcsIDQ5NS4wNzggMTcuMDE4LCA0OTAgMTUuNTU4IEMgNDg2Ljk3NSAxNC42ODksIDQ4MS41NzUgMTMuNTcxLCA0NzggMTMuMDc0IEMgNDc0LjQyNSAxMi41NzgsIDQ2OC4zNTAgMTEuNDk3LCA0NjQuNTAwIDEwLjY3MyBDIDQ0OS4xNDAgNy4zODYsIDQyNi44NzQgNC41MzEsIDQwMyAyLjc4OCBDIDM4MC44MjQgMS4xNjksIDMyMC4xMTcgMS4wMDIsIDMwMiAyLjUxMSBNIDMyOS41MDAgODguMTM4IEMgMzE4LjUwMCA4OC41NTQsIDMwMi45NzUgODkuNjE1LCAyOTUgOTAuNDk1IEMgMjg3LjAyNSA5MS4zNzUsIDI3Ny44MDAgOTIuMzIwLCAyNzQuNTAwIDkyLjU5NSBDIDI3MS4yMDAgOTIuODcwLCAyNjYuOTI1IDkzLjQ5MiwgMjY1IDkzLjk3OCBDIDI2My4wNzUgOTQuNDYzLCAyNTguMTI1IDk1LjM5MSwgMjU0IDk2LjAzOSBDIDI0Ni42NzMgOTcuMTkxLCAyMzYuNTI2IDk5LjE5NiwgMjI4LjUwMCAxMDEuMDc4IEMgMjI2LjMwMCAxMDEuNTk0LCAyMjIuOTI1IDEwMi4yNzMsIDIyMSAxMDIuNTg4IEMgMjE5LjA3NSAxMDIuOTAyLCAyMTYuNjAwIDEwMy41MjgsIDIxNS41MDAgMTAzLjk3OCBDIDIxNC40MDAgMTA0LjQyOSwgMjEwLjEyNSAxMDUuNzUzLCAyMDYgMTA2LjkyMiBDIDE5My42OTggMTEwLjQwNywgMTg1Ljc1NCAxMTMuMDIzLCAxODEuMjYxIDExNS4wNzAgQyAxNzguOTI5IDExNi4xMzEsIDE3Ni40MzIgMTE3LCAxNzUuNzExIDExNyBDIDE3NC45OTAgMTE3LCAxNzMuOTcyIDExNy4zNzgsIDE3My40NTAgMTE3Ljg0MCBDIDE3Mi45MjcgMTE4LjMwMiwgMTcwLjkyNSAxMTkuMjU1LCAxNjkgMTE5Ljk1NyBDIDE2Mi45NjkgMTIyLjE2MCwgMTQ3Ljc2MCAxMjkuOTU4LCAxNDEuNTAwIDEzNC4wNTcgQyAxMzguMjAwIDEzNi4yMTgsIDEzNC44MjUgMTM4LjMwMiwgMTM0IDEzOC42ODggQyAxMzMuMTc1IDEzOS4wNzQsIDEyOCAxNDIuNjI4LCAxMjIuNTAwIDE0Ni41ODYgQyAxMDcuMzA5IDE1Ny41MTgsIDEwMC4yNjEgMTY1LjUxNSwgOTIuMTcwIDE4MSBDIDg5LjA1MiAxODYuOTY5LCA4OC43NjMgMTg4LjI3NywgODguNjM3IDE5NyBDIDg4LjUwNyAyMDYuMDM1LCA4OC42NjkgMjA2LjgxOCwgOTEuOTUyIDIxMyBDIDk1LjcxNiAyMjAuMDg2LCAxMDIuODIwIDIyOS41NzUsIDEwOC4zMDggMjM0Ljg0NSBMIDExMS43OTEgMjM4LjE5MCAxMTkuMzY3IDIzNC41OTUgQyAxMjMuNTM0IDIzMi42MTgsIDEyNy4yOTggMjMxLCAxMjcuNzMzIDIzMSBDIDEyOC4xNjcgMjMxLCAxMzIuMTE3IDIyOS4yMTEsIDEzNi41MTEgMjI3LjAyNSBDIDE0MC45MDUgMjI0LjgzOSwgMTQ1LjE5OCAyMjMuMDM5LCAxNDYuMDUwIDIyMy4wMjUgQyAxNDYuOTAzIDIyMy4wMTEsIDE0OC4wMjggMjIyLjYwMiwgMTQ4LjU1MCAyMjIuMTE2IEMgMTQ5LjA3MyAyMjEuNjMxLCAxNTIuNDI1IDIyMC4yNTksIDE1NiAyMTkuMDY5IEMgMTU5LjU3NSAyMTcuODc5LCAxNjMuMjgxIDIxNi40NzcsIDE2NC4yMzYgMjE1Ljk1MyBDIDE2NS4xOTEgMjE1LjQyOSwgMTY2Ljg1MiAyMTUsIDE2Ny45MjcgMjE1IEMgMTY5LjAwMiAyMTUsIDE3MC4xNjAgMjE0LjU1MCwgMTcwLjUwMCAyMTQgQyAxNzAuODQwIDIxMy40NTAsIDE3MS45OTggMjEzLCAxNzMuMDczIDIxMyBDIDE3NC4xNDggMjEzLCAxNzUuODA5IDIxMi41OTYsIDE3Ni43NjQgMjEyLjEwMyBDIDE3Ny43MTkgMjExLjYwOSwgMTgxLjY1MCAyMTAuMjg5LCAxODUuNTAwIDIwOS4xNjkgQyAxODkuMzUwIDIwOC4wNDgsIDE5NS4yMDAgMjA2LjM0NCwgMTk4LjUwMCAyMDUuMzgxIEMgMjAxLjgwMCAyMDQuNDE5LCAyMDYuMzAwIDIwMy4yODMsIDIwOC41MDAgMjAyLjg1OSBDIDIxMy42MjggMjAxLjg2OSwgMjI2LjQ3MiAxOTkuMDk0LCAyMzEgMTk3Ljk5OCBDIDIzNi41NjggMTk2LjY1MCwgMjUxLjk3MCAxOTQuMDI3LCAyNjAuNTg3IDE5Mi45NTkgQyAyNjQuOTM5IDE5Mi40MTksIDI3NS45MjUgMTkxLjA1NCwgMjg1IDE4OS45MjYgQyAzMDkuMjg5IDE4Ni45MDUsIDM2OC44NTQgMTg2LjE0NSwgNDAwLjUwMCAxODguNDUzIEMgNDEzLjE1MCAxODkuMzc1LCA0MjYuNDI1IDE5MC41NzcsIDQzMCAxOTEuMTIzIEMgNDMzLjU3NSAxOTEuNjY5LCA0MzkuNDI1IDE5Mi41NTQsIDQ0MyAxOTMuMDkxIEMgNDQ2LjU3NSAxOTMuNjI3LCA0NTEuOTc1IDE5NC40ODAsIDQ1NSAxOTQuOTg4IEMgNDU4LjAyNSAxOTUuNDk1LCA0NjMuNTYxIDE5Ni4zNjYsIDQ2Ny4zMDMgMTk2LjkyMyBDIDQ3MS4wNDUgMTk3LjQ4MCwgNDc1Ljc3MCAxOTguNDQ2LCA0NzcuODAzIDE5OS4wNzEgQyA0NzkuODM2IDE5OS42OTUsIDQ4My41MjUgMjAwLjU4MCwgNDg2IDIwMS4wMzcgQyA0OTguMTA2IDIwMy4yNzMsIDUwOS45MTEgMjA2LjMyNywgNTEzLjIzNiAyMDguMDgzIEMgNTE0LjE5MSAyMDguNTg3LCA1MTUuNjkxIDIwOSwgNTE2LjU3MCAyMDkgQyA1MTguNzUwIDIwOSwgNTQ4LjI2NSAyMTguOTU1LCA1NDkuNDUwIDIyMC4wOTAgQyA1NDkuOTcyIDIyMC41OTEsIDU1MS4wMDcgMjIxLCA1NTEuNzQ4IDIyMSBDIDU1Mi40OTAgMjIxLCA1NTQuOTU5IDIyMS45MDAsIDU1Ny4yMzYgMjIzIEMgNTU5LjUxMyAyMjQuMTAwLCA1NjEuODA0IDIyNSwgNTYyLjMyNyAyMjUgQyA1NjIuODUxIDIyNSwgNTY4LjcyOCAyMjcuNjYyLCA1NzUuMzg5IDIzMC45MTUgQyA1ODIuMDUwIDIzNC4xNjgsIDU4OC40MzggMjM3LjEwMCwgNTg5LjU4NCAyMzcuNDMwIEMgNTkzLjM1NyAyMzguNTE1LCA2MDQuOTMyIDIyNC44MzcsIDYxMS44MTIgMjExLjE2NCBDIDYxNC40MzMgMjA1Ljk1NSwgNjE1IDIwMy42NTUsIDYxNSAxOTguMjM1IEMgNjE1IDE5MC44MjMsIDYxMy45ODcgMTg3LjMwNywgNjA5LjIwOSAxNzguMTM1IEMgNjA0LjE4NyAxNjguNDk0LCA1OTguNzQ4IDE2MS42OTksIDU5MC4yMjQgMTU0LjQxMyBDIDU4My41ODMgMTQ4LjczNiwgNTcyLjkxMiAxNDAuODk0LCA1NjcuMjEzIDEzNy41MDAgQyA1NjYuMjg5IDEzNi45NTAsIDU2My42NDQgMTM1LjI2MiwgNTYxLjMzNiAxMzMuNzUwIEMgNTU5LjAyOCAxMzIuMjM3LCA1NTYuODM2IDEzMSwgNTU2LjQ2NSAxMzEgQyA1NTYuMDk0IDEzMSwgNTUzLjc5MCAxMjkuNjUwLCA1NTEuMzQ1IDEyOCBDIDU0OC45MDAgMTI2LjM1MCwgNTQ2LjM2MCAxMjQuOTg2LCA1NDUuNzAwIDEyNC45NjkgQyA1NDUuMDQwIDEyNC45NTEsIDU0MS44MTEgMTIzLjYwMSwgNTM4LjUyNSAxMjEuOTY5IEMgNTM1LjIzOSAxMjAuMzM2LCA1MzIuMTk3IDExOSwgNTMxLjc2NSAxMTkgQyA1MzEuMzMyIDExOSwgNTI5LjA3MSAxMTguMTI2LCA1MjYuNzM5IDExNy4wNTcgQyA1MTcuOTcwIDExMy4wMzcsIDQ4Ny42NTQgMTAzLjc3NSwgNDc0IDEwMC45NDUgQyA0NzEuNTI1IDEwMC40MzIsIDQ2Ny40NzUgOTkuNTI4LCA0NjUgOTguOTM2IEMgNDU5Ljc1OSA5Ny42ODMsIDQ1NS41MzkgOTYuOTUyLCA0MzYuNTAwIDkzLjk5OCBDIDQxNy44MjggOTEuMTAwLCA0MTkuMzg3IDkxLjI2OSwgMzk1LjUwMCA4OS41NjMgQyAzNjcuMjA3IDg3LjU0MywgMzUzLjE5OCA4Ny4yNDEsIDMyOS41MDAgODguMTM4IE0gMzI3LjUwMCAyNTIuMDUyIEMgMzE1Ljk1MCAyNTIuNDgxLCAzMDMuODAwIDI1My4xMjgsIDMwMC41MDAgMjUzLjQ5MCBDIDI5Ny4yMDAgMjUzLjg1MSwgMjkwLjY3NSAyNTQuNTQyLCAyODYgMjU1LjAyNCBDIDI3Ny4zODYgMjU1LjkxNCwgMjY5Ljc3NyAyNTYuOTkwLCAyNTggMjU4Ljk4NiBDIDI1NC40MjUgMjU5LjU5MiwgMjQ5LjcwMCAyNjAuMzI5LCAyNDcuNTAwIDI2MC42MjQgQyAyNDUuMzAwIDI2MC45MTksIDI0Mi4zNzUgMjYxLjUyNiwgMjQxIDI2MS45NzMgQyAyMzkuNjI1IDI2Mi40MjAsIDIzNS44MDAgMjYzLjMxOCwgMjMyLjUwMCAyNjMuOTY4IEMgMjIyLjA0OCAyNjYuMDI2LCAyMTEuMDU5IDI2OS4wMzMsIDE5NC41NzYgMjc0LjM0NSBDIDE4NC44MTEgMjc3LjQ5MiwgMTgyLjA1NCAyNzkuNDI1LCAxODUuNjY3IDI4MC41OTAgQyAxODYuNjc1IDI4MC45MTUsIDE4OC40MDAgMjgxLjU2NywgMTg5LjUwMCAyODIuMDM5IEMgMTkxLjczMyAyODIuOTk3LCAyMDAuOTE0IDI4NS44MzQsIDIxMS41MDAgMjg4LjgzNiBDIDIyMi44NTcgMjkyLjA1OCwgMjQwLjk3NyAyOTUuOTc4LCAyNjEgMjk5LjU0NiBDIDMwOS4zODUgMzA4LjE2OCwgMzkyLjIyMSAzMDcuOTI5LCA0NDUuNTAwIDI5OS4wMTIgQyA0NDkuMzUwIDI5OC4zNjgsIDQ1NC43NTAgMjk3LjQ3MywgNDU3LjUwMCAyOTcuMDI0IEMgNDYwLjI1MCAyOTYuNTc1LCA0NjQuOTc1IDI5NS40OTEsIDQ2OCAyOTQuNjE1IEMgNDcxLjAyNSAyOTMuNzQwLCA0NzQuNzQ0IDI5My4wMTgsIDQ3Ni4yNjQgMjkzLjAxMiBDIDQ3Ny43ODQgMjkzLjAwNSwgNDc5LjgwOSAyOTIuNTk0LCA0ODAuNzY0IDI5Mi4wOTcgQyA0ODEuNzE5IDI5MS42MDEsIDQ4NC41MjUgMjkwLjY3MCwgNDg3IDI5MC4wMjggQyA0ODkuNDc1IDI4OS4zODYsIDQ5NC4yNTkgMjg3Ljk5MiwgNDk3LjYzMSAyODYuOTMwIEMgNTAxLjAwMyAyODUuODY5LCA1MDQuNjI2IDI4NSwgNTA1LjY4MSAyODUgQyA1MDYuNzM3IDI4NSwgNTA4LjAyNyAyODQuNjA5LCA1MDguNTUwIDI4NC4xMzEgQyA1MDkuMDcyIDI4My42NTQsIDUxMS42MzcgMjgyLjQ2OCwgNTE0LjI1MCAyODEuNDk2IEMgNTE2Ljg2MiAyODAuNTI0LCA1MTkgMjc5LjQwMSwgNTE5IDI3OSBDIDUxOSAyNzguNTk5LCA1MTYuODYyIDI3Ny40NzYsIDUxNC4yNTAgMjc2LjUwNCBDIDUxMS42MzcgMjc1LjUzMiwgNTA5LjA3MiAyNzQuMzQ2LCA1MDguNTUwIDI3My44NjkgQyA1MDguMDI3IDI3My4zOTEsIDUwNi43MzcgMjczLCA1MDUuNjgxIDI3MyBDIDUwNC42MjYgMjczLCA1MDEuMDAzIDI3Mi4xMzEsIDQ5Ny42MzEgMjcxLjA3MCBDIDQ5NC4yNTkgMjcwLjAwOCwgNDg5LjQ3NSAyNjguNjE0LCA0ODcgMjY3Ljk3MiBDIDQ4NC41MjUgMjY3LjMzMCwgNDgxLjcxOSAyNjYuMzk5LCA0ODAuNzY0IDI2NS45MDMgQyA0NzkuODA5IDI2NS40MDYsIDQ3Ny43ODQgMjY0Ljk4NCwgNDc2LjI2NCAyNjQuOTY0IEMgNDc0Ljc0NCAyNjQuOTQ1LCA0NzAuODAwIDI2NC4yNDksIDQ2Ny41MDAgMjYzLjQxOSBDIDQ0Mi4wOTggMjU3LjAyNywgNDA3LjE0NCAyNTMuMjI3LCAzNTkgMjUxLjYyMiBDIDM1My4yMjUgMjUxLjQyOSwgMzM5LjA1MCAyNTEuNjIzLCAzMjcuNTAwIDI1Mi4wNTIiIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg==" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(74%) sepia(96%) saturate(300%) hue-rotate(10deg) brightness(93%) contrast(93%); margin-right: 5px;"> Ring
                </span>
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="showPent" checked>
                <span style="color: #AA0000; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTIiIGhlaWdodD0iNzcyIiB2aWV3Qm94PSIwIDAgNzUyIDc3MiIgdmVyc2lvbj0iMS4xIj4KCTxwYXRoIGQ9Ik0gMzY4LjUwMCA3LjEyNiBDIDM2NC42NTAgOC44MDYsIDM0NS43NTAgMTYuODQ4LCAzMjYuNTAwIDI0Ljk5NyBDIDI2NS40MjEgNTAuODUyLCAxNzAuOTAxIDkxLjgzOSwgMTM3IDEwNy4xNzAgTCAxMTguNTAwIDExNS41MzcgMTAxLjQ0MiAxNTQuMDE4IEMgODMuMDI5IDE5NS41NTcsIDUxLjk0MCAyNjYuMDI4LCAzMy45NTMgMzA3IEMgMjcuNzk3IDMyMS4wMjUsIDE4LjMxMyAzNDIuNTI3LCAxMi44ODAgMzU0Ljc4MyBDIDcuNDQ2IDM2Ny4wMzksIDIuOTk5IDM3Ny42MTQsIDIuOTk4IDM3OC4yODMgQyAyLjk5NyAzNzguOTUyLCAyNy4xODUgNDQwLjExNiwgNTYuNzQ4IDUxNC4yMDEgTCAxMTAuNTAwIDY0OC45MDIgMTIwLjUwMCA2NTMuNTcyIEMgMTMxLjg0MSA2NTguODY5LCAxNTkuOTk2IDY3MS42MjcsIDIzMy41MDAgNzA0Ljc4MSBDIDI2MS41NTAgNzE3LjQzMywgMjg5LjkwMCA3MzAuMjU4LCAyOTYuNTAwIDczMy4yODEgQyAzMDMuMTAwIDczNi4zMDQsIDMyMS43NzUgNzQ0LjczMiwgMzM4IDc1Mi4wMTAgQyAzNTQuMjI1IDc1OS4yODcsIDM2OS42MjEgNzY2LjI2NCwgMzcyLjIxMyA3NjcuNTEzIEwgMzc2LjkyNSA3NjkuNzgzIDQwNC4yMTMgNzU3LjUzMSBDIDQxOS4yMjEgNzUwLjc5MiwgNDQ5LjUwMCA3MzcuMDY5LCA0NzEuNTAwIDcyNy4wMzUgQyA0OTMuNTAwIDcxNy4wMDIsIDUzNi43MDAgNjk3LjQxMCwgNTY3LjUwMCA2ODMuNDk4IEMgNTk4LjMwMCA2NjkuNTg1LCA2MjguMjI1IDY1NS45NzYsIDYzNCA2NTMuMjU1IEwgNjQ0LjUwMCA2NDguMzA4IDY1Ny44OTAgNjEzLjkwNCBDIDY2NS4yNTQgNTk0Ljk4MiwgNjg0LjU0MCA1NDUuNzUwLCA3MDAuNzQ4IDUwNC41MDAgQyA3MzkuNjcxIDQwNS40MzgsIDc1MCAzNzguNzc1LCA3NTAgMzc3LjM2NCBDIDc1MCAzNzYuNzIwLCA3NDUuOTg4IDM2Ny4yNjEsIDc0MS4wODQgMzU2LjM0NiBDIDcyNy40NTAgMzI2LjAwMiwgNjg1LjQ2OCAyMzEuMzA4LCA2NjkuOTk1IDE5NiBDIDY2Mi40MDIgMTc4LjY3NSwgNjUxLjIxOSAxNTMuNDc1LCA2NDUuMTQzIDE0MCBMIDYzNC4wOTYgMTE1LjUwMCA2MjQuNzk4IDExMS4xNDEgQyA2MTkuNjg0IDEwOC43NDQsIDU5My4yMjUgOTcuMTA1LCA1NjYgODUuMjc4IEMgNDAxLjUxNiAxMy44MTgsIDM3OC42MDAgMy45ODIsIDM3Ni43MzUgNC4wMzYgQyAzNzYuMDU2IDQuMDU2LCAzNzIuMzUwIDUuNDQ2LCAzNjguNTAwIDcuMTI2IE0gMzUxLjUwMCA4My4zODkgQyAyODAuMDgxIDExNS4xOTIsIDIyNi44MDYgMTM4LjgzMCwgMjA5LjE5NCAxNDYuNTMwIEwgMTk0Ljg4OCAxNTIuNzg0IDE5OC4xOTQgMTU1LjA5OSBDIDIwMC4wMTIgMTU2LjM3MywgMjEzLjAyNSAxNjUuOTg0LCAyMjcuMTExIDE3Ni40NTcgQyAzMDYuMTcxIDIzNS4yNDEsIDM2NC4xNzEgMjc3LjkzNSwgMzY1IDI3Ny45NTggQyAzNjUuMjc1IDI3Ny45NjUsIDM3OS45MTkgMjY2LjYxNiwgMzk3LjU0MyAyNTIuNzM2IEMgNDQ3LjY3MSAyMTMuMjU3LCA0NzguNTgxIDE4OS4xMDUsIDQ5MCAxODAuNDkyIEMgNTA0Ljc4MCAxNjkuMzQ0LCA1MzUuNDUwIDE0NC45OTQsIDUzNS43NTQgMTQ0LjE2NiBDIDUzNS45NzQgMTQzLjU2OSwgNDk4Ljg2MSAxMjYuOTA1LCA0MDAuNjkwIDgzLjUyMiBDIDM4Ny41OTQgNzcuNzM1LCAzNzYuMzQ0IDczLjAzMywgMzc1LjY5MCA3My4wNzQgQyAzNzUuMDM1IDczLjExNCwgMzY0LjE1MCA3Ny43NTYsIDM1MS41MDAgODMuMzg5IE0gNTY3LjAzNyAxNjguNzUwIEMgNTY0LjcxMyAxNzUuMjEzLCA1NTAuOTczIDIxNS4zNzUsIDUzNi41MDUgMjU4IEMgNTIyLjAzNyAzMDAuNjI1LCA1MDcuMjE0IDM0NC4yNTYsIDUwMy41NjYgMzU0Ljk1OCBDIDQ5OS45MTggMzY1LjY2MCwgNDk3LjA2MSAzNzQuOTYzLCA0OTcuMjE3IDM3NS42MzMgQyA0OTcuNjU2IDM3Ny41MjAsIDYzOS4yMDcgNDgzLjE5NSwgNjQwLjA5MSA0ODIuMjk1IEMgNjQwLjUyMSA0ODEuODU4LCA2NDUuMzY2IDQ2OS41NzUsIDY1MC44NTggNDU1IEMgNjU2LjM0OSA0NDAuNDI1LCA2NjUuMTUyIDQxNy40NzUsIDY3MC40MjAgNDA0IEMgNjc1LjY4OCAzOTAuNTI1LCA2NzkuOTk4IDM3OC45NzcsIDY3OS45OTkgMzc4LjMzNyBDIDY4MC4wMDEgMzc2LjM0NSwgNjQ5LjM3MCAzMDUuNjc0LCA2MjAuNDQ1IDI0MC45MzMgQyA2MTEuMjQ2IDIyMC4zNDUsIDYwMC44MjAgMTk2Ljk3NSwgNTk3LjI3NSAxODkgQyA1OTMuNzMxIDE4MS4wMjUsIDU4OS44MTUgMTcyLjI1MCwgNTg4LjU3MyAxNjkuNTAwIEMgNTg2LjYxNCAxNjUuMTYxLCA1ODUuNDE3IDE2NC4wMDQsIDU3OS41MjYgMTYwLjc1MCBDIDU3NS43OTIgMTU4LjY4OCwgNTcyLjQwNSAxNTcsIDU3MS45OTkgMTU3IEMgNTcxLjU5NCAxNTcsIDU2OS4zNjEgMTYyLjI4NywgNTY3LjAzNyAxNjguNzUwIE0gMTU4LjA0MSAxODUuMjQ2IEMgMTU1LjYxNCAxOTAuODg2LCAxNDguMDQwIDIwNy44NzUsIDE0MS4yMDggMjIzIEMgMTM0LjM3NyAyMzguMTI1LCAxMTguNzU1IDI3MywgMTA2LjQ5MSAzMDAuNTAwIEMgOTQuMjI4IDMyOCwgODEuNjc2IDM1Ni4wNDgsIDc4LjU5NyAzNjIuODI5IEMgNzUuNTE5IDM2OS42MTAsIDczIDM3Ni4xOTUsIDczIDM3Ny40NjMgQyA3MyAzNzguNzMxLCA3OS43ODYgMzk2LjU4MywgODguMDgwIDQxNy4xMzQgQyA5Ni4zNzUgNDM3LjY4NiwgMTA1LjAwNSA0NTkuNjc1LCAxMDcuMjU4IDQ2NiBDIDEwOS41MTIgNDcyLjMyNSwgMTExLjUwNSA0NzcuNjkyLCAxMTEuNjg4IDQ3Ny45MjcgQyAxMTEuODcxIDQ3OC4xNjIsIDExMy4yNTQgNDc3LjIxNiwgMTE0Ljc2MCA0NzUuODI1IEMgMTE2LjI2NyA0NzQuNDM0LCAxMjIgNDY5Ljg3NywgMTI3LjUwMCA0NjUuNjk4IEMgMTMzIDQ2MS41MjAsIDE1MS40NTAgNDQ3LjA0NiwgMTY4LjUwMCA0MzMuNTM0IEMgMTg1LjU1MCA0MjAuMDIxLCAyMDcuNTI2IDQwMi43ODYsIDIxNy4zMzcgMzk1LjIzMyBDIDIyNy4xNDcgMzg3LjY4MCwgMjM2LjA5NyAzODAuNzc2LCAyMzcuMjI2IDM3OS44OTEgTCAyMzkuMjc5IDM3OC4yODEgMjM3LjIxNCAzNzIuMzkxIEMgMjMyLjE5NSAzNTguMDczLCAyMTcuOTUwIDMyMC4wNjAsIDIwMi4wMjggMjc4LjUwMCBDIDE5Mi41NDYgMjUzLjc1MCwgMTgwLjA2NSAyMjEuMTI1LCAxNzQuMjkxIDIwNiBDIDE2OC41MTcgMTkwLjg3NSwgMTYzLjQ5MSAxNzcuNzExLCAxNjMuMTIzIDE3Ni43NDYgQyAxNjIuNjQ1IDE3NS40OTQsIDE2MS4xODkgMTc3LjkyOSwgMTU4LjA0MSAxODUuMjQ2IE0gNTA0Ljk0MiAyMDguNjQzIEMgNDk0Ljc5OSAyMTYuNjY5LCA0NzEuMjU2IDIzNS4yMjAsIDQ1Mi42MjQgMjQ5Ljg2NyBDIDQzMy45OTIgMjY0LjUxNSwgNDEyLjg0MiAyODEuMTQ2LCA0MDUuNjI0IDI4Ni44MjQgQyAzOTguNDA2IDI5Mi41MDIsIDM5Mi41MDAgMjk3LjU0NywgMzkyLjUwMCAyOTguMDM2IEMgMzkyLjUwMCAyOTguODg4LCA0MDIuMjUzIDMwNi4zMDcsIDQzOC4wMDYgMzMyLjY1NSBDIDQ3Mi43NTEgMzU4LjI1OSwgNDY5LjM5NSAzNTYuMDc5LCA0NzAuMzM3IDM1My42NTQgQyA0NzIuNjE0IDM0Ny43OTEsIDUyMy44OTUgMTk0LjU2MSwgNTIzLjY1OCAxOTQuMzI1IEMgNTIzLjUwOCAxOTQuMTc1LCA1MTUuMDg2IDIwMC42MTgsIDUwNC45NDIgMjA4LjY0MyBNIDIwNy40MjggMjAzLjU4NiBDIDIwNy44NTAgMjA0LjYzOSwgMjEzLjgxNSAyMjAuMTI1LCAyMjAuNjgzIDIzOCBDIDIyNy41NTIgMjU1Ljg3NSwgMjM3LjIzOSAyODEuMDc1LCAyNDIuMjExIDI5NCBDIDI0Ny4xODMgMzA2LjkyNSwgMjU0LjQ4NSAzMjYuMzgzLCAyNTguNDM5IDMzNy4yNDEgTCAyNjUuNjI4IDM1Ni45ODEgMjg0Ljk1OSAzNDEuOTAzIEMgMzEwLjk3NCAzMjEuNjEyLCAzMzkuMjI4IDI5OC44NzksIDMzOC44MjYgMjk4LjU2MiBDIDMzOC42NDcgMjk4LjQyMSwgMzI1LjgxMyAyODkuMDIwLCAzMTAuMzA2IDI3Ny42NzEgQyAyOTQuNzk5IDI2Ni4zMjMsIDI3MC43MjQgMjQ4LjU2NywgMjU2LjgwNiAyMzguMjE0IEMgMjMxLjI0MSAyMTkuMTk3LCAyMTAuNjg3IDIwNC4xNTIsIDIwOC4wODAgMjAyLjU0NiBDIDIwNi45NjkgMjAxLjg2MiwgMjA2LjgyNyAyMDIuMDg5LCAyMDcuNDI4IDIwMy41ODYgTSAzNDQuODY1IDMzNC43NzUgQyAzMzQuMDY2IDM0My40MjQsIDMxNS42MTYgMzU4LjA0MCwgMzAzLjg2NSAzNjcuMjU2IEMgMjkyLjExNCAzNzYuNDczLCAyODEuNDIyIDM4NC45MjMsIDI4MC4xMDMgMzg2LjAzNSBMIDI3Ny43MDcgMzg4LjA1OCAyODAuMzExIDM5NC43NzkgQyAyODMuMDYwIDQwMS44NzUsIDMwNS43NjkgNDYxLjQwOCwgMzEwLjQzNCA0NzMuNzUwIEwgMzEzLjE3NSA0ODEgMzcwLjQ1MCA0ODEgTCA0MjcuNzI1IDQ4MSA0MzIuNTQ1IDQ2Ny4yNTAgQyA0MzUuMTk2IDQ1OS42ODgsIDQzOS4yNjggNDQ3LjY1MCwgNDQxLjU5MiA0NDAuNTAwIEMgNDQzLjkxNyA0MzMuMzUwLCA0NDguNzc3IDQxOC45NTAsIDQ1Mi4zOTIgNDA4LjUwMCBDIDQ1Ni4wMDcgMzk4LjA1MCwgNDU4Ljk3MyAzODkuMTc1LCA0NTguOTgyIDM4OC43NzcgQyA0NTkuMDA3IDM4Ny43NjAsIDM2OC4wMzIgMzE5LjgwNCwgMzY2LjA5MCAzMTkuMzg5IEMgMzY1LjE5NSAzMTkuMTk4LCAzNTUuOTE4IDMyNS45MjIsIDM0NC44NjUgMzM0Ljc3NSBNIDQ3OS4xNTQgNDI3LjI1MCBDIDQ3NS43MjQgNDM3LjgzNywgNDcwLjI1MSA0NTQuMTI4LCA0NjYuOTkyIDQ2My40NTAgQyA0NjMuNzMzIDQ3Mi43NzMsIDQ2MS4yMDUgNDgwLjUzOSwgNDYxLjM3NSA0ODAuNzA4IEMgNDYxLjU0NCA0ODAuODc3LCA0ODguOTg5IDQ4MC45MDAsIDUyMi4zNjQgNDgwLjc1OCBMIDU4My4wNDYgNDgwLjUwMCA1MzQuNjU1IDQ0NC4yNTAgQyA1MDguMDQwIDQyNC4zMTMsIDQ4Ni4wNjggNDA4LCA0ODUuODI4IDQwOCBDIDQ4NS41ODggNDA4LCA0ODIuNTg0IDQxNi42NjMsIDQ3OS4xNTQgNDI3LjI1MCBNIDIwOS4zNjMgNDQxLjgzNCBDIDE4Ni43MzcgNDU5LjgwMCwgMTY2LjQ4NyA0NzUuOTQ3LCAxNjQuMzYzIDQ3Ny43MTYgTCAxNjAuNTAwIDQ4MC45MzMgMjE5Ljc1MCA0ODAuOTY2IEMgMjUyLjMzOCA0ODAuOTg1LCAyNzguOTkzIDQ4MC44ODcsIDI3OC45ODUgNDgwLjc1MCBDIDI3OC44ODMgNDc5LjA2MSwgMjUxLjk0MiA0MDkuNTA0LCAyNTEuMzM1IDQwOS4zNjIgQyAyNTAuODc2IDQwOS4yNTUsIDIzMS45ODggNDIzLjg2OCwgMjA5LjM2MyA0NDEuODM0IE0gMTI4LjEzMiA1MTguMjUwIEMgMTI5LjI4OCA1MjEuMTM4LCAxMzYuMDM4IDUzOC4zNTAsIDE0My4xMzIgNTU2LjUwMCBDIDE1MC4yMjYgNTc0LjY1MCwgMTU3LjA0MiA1OTEuOTM4LCAxNTguMjc5IDU5NC45MTcgTCAxNjAuNTI4IDYwMC4zMzQgMTgxLjUxNCA2MDkuNzYwIEMgMTkzLjA1NiA2MTQuOTQ0LCAyMjcuMDI1IDYzMC4yMzIsIDI1NyA2NDMuNzMzIEMgMjg2Ljk3NSA2NTcuMjMzLCAzMjAuMDUwIDY3Mi4wODcsIDMzMC41MDAgNjc2Ljc0MSBDIDM0MC45NTAgNjgxLjM5NSwgMzUxLjE4OCA2ODYuMDE3LCAzNTMuMjUwIDY4Ny4wMTEgQyAzNTUuMzEzIDY4OC4wMDUsIDM1NyA2ODguNTcyLCAzNTcgNjg4LjI3MiBDIDM1NyA2ODcuOTcxLCAzNTMuODczIDY3OS41NzQsIDM1MC4wNTAgNjY5LjYxMiBDIDM0Mi4yNzIgNjQ5LjM0MSwgMzAyLjkwMCA1NDUuNDg1LCAyOTUuNTEyIDUyNS43NTAgTCAyOTAuNzM4IDUxMyAyMDguMzg0IDUxMyBMIDEyNi4wMjkgNTEzIDEyOC4xMzIgNTE4LjI1MCBNIDMyNSA1MTMuMzgzIEMgMzI1IDUxMy41OTQsIDMyOC4wOTcgNTIxLjgwNiwgMzMxLjg4MyA1MzEuNjMzIEMgMzM1LjY2OSA1NDEuNDYwLCAzNDUuODYwIDU2OC40MDAsIDM1NC41MzEgNTkxLjUwMCBDIDM3Mi43MTQgNjM5LjkzOSwgMzczLjU4MiA2NDIuMDY2LCAzNzQuMzE1IDY0MCBDIDM3NC42MDggNjM5LjE3NSwgMzgwLjAwOCA2MjIuOTc1LCAzODYuMzE0IDYwNCBDIDM5Mi42MjEgNTg1LjAyNSwgNDAyLjEwNSA1NTcuMDI2LCA0MDcuMzkwIDU0MS43ODAgQyA0MTIuNjc2IDUyNi41MzQsIDQxNyA1MTMuODIxLCA0MTcgNTEzLjUzMCBDIDQxNyA1MTMuMjM4LCAzOTYuMzAwIDUxMywgMzcxIDUxMyBDIDM0NS43MDAgNTEzLCAzMjUgNTEzLjE3MiwgMzI1IDUxMy4zODMgTSA0NDkuMDU4IDUxNy4yNTAgQyA0NDYuODQwIDUyNC43MzcsIDQwMC43OTkgNjU5LjE4MCwgMzk0LjA3OCA2NzcuNzk1IEMgMzkxLjgzNSA2ODQuMDA4LCAzOTAgNjg5LjQ2NSwgMzkwIDY4OS45MjMgQyAzOTAgNjkwLjc3NiwgNDE3LjYwNyA2NzguODA3LCA0NzcuNTAwIDY1MS45ODcgQyA0OTYuMjAwIDY0My42MTMsIDUyOC44MjUgNjI5LjE4MSwgNTUwIDYxOS45MTUgQyA1NzEuMTc1IDYxMC42NDksIDU5MC4wMTIgNjAyLjI2NSwgNTkxLjg2MSA2MDEuMjg0IEMgNTk1LjAxOCA1OTkuNjA4LCA1OTUuNzU0IDU5OC4wNzYsIDYwMy45OTcgNTc2IEMgNjExLjE2NSA1NTYuODA2LCA2MjUuNDY3IDUxOS41MjYsIDYyNy42ODggNTE0LjI1MCBDIDYyOC4xMDYgNTEzLjI1NSwgNjEwLjAzOCA1MTMsIDUzOS4yNjUgNTEzIEwgNDUwLjMxNyA1MTMgNDQ5LjA1OCA1MTcuMjUwIiBzdHJva2U9Im5vbmUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgo8L3N2Zz4=" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(10%) sepia(83%) saturate(5738%) hue-rotate(359deg) brightness(96%) contrast(114%); margin-right: 5px;"> Pent
                </span>
            </label>
        </div>
        
        <hr>
        
        <div class="checkbox-group">
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showWeapons" checked>
                <span>Show Weapons</span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showRocketLauncher" checked>
                <span style="color: #FF7700; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwMjQiIHdpZHRoPSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik03MTYuNzM3IDEyNC4wNTYwMDAwMDAwMDAwNGMtNzEuOTI2IDQxLjY4Ni0xNDguMDQxIDk2LjEzLTIxOC40MzYgMTY2LjU1NS00NSA0NS4wMzEtODEuMjEzIDg4Ljc4LTExMC4zOSAxMjkuNzc4TDIwOS41MzggNDUzLjM1IDAuMDQ3IDY2Mi45OTdsMTg2LjgxOCA1LjgxNSAxMzEuNTYyLTEzMS41NjJjLTQ2LjQzOSA5Ni4yMjQtNTAuNTM2IDE2MC4wMTktNTAuNTM2IDE2MC4wMTlsNTguODU0IDU4Ljc5MmMwIDAgNjUuODI3LTYuMjU1IDE2Mi43MzctNTMuMTYzTDM1NS4xMDcgODM3LjExOWw1Ljg4IDE4Ni44ODEgMjA5LjU4NS0yMDkuNTIxIDMzLjA4Ni0xNzkuMjUyYzQxLjQwMy0yOS4wMiA4NS4xODUtNjUuMDQ2IDEyOS43MTYtMTA5LjU0NSA3MC40MjUtNzAuNDU1IDEyNC44MzctMTQ2LjU0MSAxNjYuNTU1LTIxOC40NjYtNDUuOTctOS4zNTEtODguMTI1LTI4LjQ4OC0xMjEuMzk3LTYxLjY2OEM3NDUuMjU3IDIxMi4xODEwMDAwMDAwMDAwNCA3MjUuOTk0IDE3MC4wMjQ5OTk5OTk5OTk5OCA3MTYuNzM3IDEyNC4wNTYwMDAwMDAwMDAwNHpNNzg2LjE2MSA4Ni44NDI5OTk5OTk5OTk5NmM1LjAwNCA0NSAxOS45NTIgODEuMjc0IDQ0Ljc4IDEwNS45OCAyNC43NjkgMjQuOTg1IDYwLjk4IDM5LjkwMiAxMDYuMTM4IDQ0Ljg0NEMxMDAzLjA2MyAxMDQuMzIyOTk5OTk5OTk5OTggMTAyMy45NTMgMCAxMDIzLjk1MyAwUzkxOS42MyAyMC44NTc5OTk5OTk5OTk5NDcgNzg2LjE2MSA4Ni44NDI5OTk5OTk5OTk5NnoiIC8+Cjwvc3ZnPgo=" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(46%) sepia(82%) saturate(1648%) hue-rotate(360deg) brightness(103%) contrast(106%); margin-right: 5px;"> Rocket Launcher
                </span>
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="showLightningGun" checked>
                <span style="color: #ffffff; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDU2MC4zMTcgNTYwLjMxNiINCgkgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTIwNy41MjMsNTYwLjMxNmMwLDAsMTk0LjQyLTQyMS45MjUsMTk0LjQ0NC00MjEuOTg2bDEwLjc5LTIzLjk5N2MtNDEuODI0LDEyLjAyLTEzNS4yNzEsMzQuOTAyLTEzNS41NywzNS44MzMNCgkJCUMyODYuOTYsMTIyLjgxNiwzMjkuMDE3LDAsMzMwLjgyOSwwYy0zOS45NzYsMC03OS45NTIsMC0xMTkuOTI3LDBsLTEyLjE2Nyw1Ny45MzhsLTUxLjE3NiwyMDkuOTk1bDEzNS4xOTEtMzYuODA2DQoJCQlMMjA3LjUyMyw1NjAuMzE2eiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg==" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(95deg) brightness(104%) contrast(102%); margin-right: 5px;"> Lightning Gun
                </span>
            </label>
        </div>
        
        <hr>
        
        <div class="checkbox-group">
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showFlags" checked>
                <span>Show Flags</span>
            </label>
            <label class="checkbox-label" style="margin-right: 15px;">
                <input type="checkbox" id="showRedFlag" checked>
                <span style="color: #AA0000; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik01Ljc1IDFDNi4xNjQyMSAxIDYuNSAxLjMzNTc5IDYuNSAxLjc1VjMuNkw4LjIyMDY3IDMuMjU1ODdDOS44NzEyIDIuOTI1NzYgMTEuNTgyMSAzLjA4Mjg0IDEzLjE0NDkgMy43MDc5N0wxMy4zNDg2IDMuNzg5NDNDMTQuOTA5NyA0LjQxMzg5IDE2LjYyOCA0LjUzMDUxIDE4LjI1OTIgNC4xMjI3QzE5LjAxNjUgMy45MzMzOSAxOS43NSA0LjUwNjEzIDE5Ljc1IDUuMjg2NjlWMTIuNjUzN0MxOS43NSAxMy4yOTggMTkuMzExNSAxMy44NTk2IDE4LjY4NjQgMTQuMDE1OUwxOC40NzIgMTQuMDY5NUMxNi43MDI0IDE0LjUxMTkgMTQuODM4NSAxNC4zODU0IDEzLjE0NDkgMTMuNzA4QzExLjU4MjEgMTMuMDgyOCA5Ljg3MTIgMTIuOTI1OCA4LjIyMDY3IDEzLjI1NTlMNi41IDEzLjZWMjEuNzVDNi41IDIyLjE2NDIgNi4xNjQyMSAyMi41IDUuNzUgMjIuNUM1LjMzNTc5IDIyLjUgNSAyMi4xNjQyIDUgMjEuNzVWMS43NUM1IDEuMzM1NzkgNS4zMzU3OSAxIDUuNzUgMVoiIGZpbGw9IiMxQzI3NEMiLz4NCjwvc3ZnPg==" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(10%) sepia(83%) saturate(5738%) hue-rotate(359deg) brightness(96%) contrast(114%); margin-right: 5px;"> Red Flag
                </span>
            </label>
            <label class="checkbox-label">
                <input type="checkbox" id="showBlueFlag" checked>
                <span style="color: #44448a; display: inline-flex; align-items: center;">
                    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik01Ljc1IDFDNi4xNjQyMSAxIDYuNSAxLjMzNTc5IDYuNSAxLjc1VjMuNkw4LjIyMDY3IDMuMjU1ODdDOS44NzEyIDIuOTI1NzYgMTEuNTgyMSAzLjA4Mjg0IDEzLjE0NDkgMy43MDc5N0wxMy4zNDg2IDMuNzg5NDNDMTQuOTA5NyA0LjQxMzg5IDE2LjYyOCA0LjUzMDUxIDE4LjI1OTIgNC4xMjI3QzE5LjAxNjUgMy45MzMzOSAxOS43NSA0LjUwNjEzIDE5Ljc1IDUuMjg2NjlWMTIuNjUzN0MxOS43NSAxMy4yOTggMTkuMzExNSAxMy44NTk2IDE4LjY4NjQgMTQuMDE1OUwxOC40NzIgMTQuMDY5NUMxNi43MDI0IDE0LjUxMTkgMTQuODM4NSAxNC4zODU0IDEzLjE0NDkgMTMuNzA4QzExLjU4MjEgMTMuMDgyOCA5Ljg3MTIgMTIuOTI1OCA4LjIyMDY3IDEzLjI1NTlMNi41IDEzLjZWMjEuNzVDNi41IDIyLjE2NDIgNi4xNjQyMSAyMi41IDUuNzUgMjIuNUM1LjMzNTc5IDIyLjUgNSAyMi4xNjQyIDUgMjEuNzVWMS43NUM1IDEuMzM1NzkgNS4zMzU3OSAxIDUuNzUgMVoiIGZpbGw9IiMxQzI3NEMiLz4NCjwvc3ZnPg==" width="14" height="14" style="filter: brightness(0) saturate(100%) invert(8%) sepia(100%) saturate(3000%) hue-rotate(240deg) brightness(100%) contrast(50%); margin-right: 5px;"> Blue Flag
                </span>
            </label>
        </div>
        
        
        <div id="status" class="status" style="display: none;"></div>
        
        <div class="svg-container" id="svgContainer"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const bspFileInput = document.getElementById('bspFile');
            const entFileInput = document.getElementById('entFile');
            const resetEntButton = document.getElementById('resetEntButton');
            const generateButton = document.getElementById('generateButton');
            const downloadButton = document.getElementById('downloadButton');
            const statusDiv = document.getElementById('status');
            const svgContainer = document.getElementById('svgContainer');
            const fileDropArea = document.querySelectorAll('.file-drop-area');
            
            // Setup drag and drop for file inputs
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                fileDropArea.forEach(area => {
                    area.addEventListener(eventName, preventDefaults, false);
                });
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                fileDropArea.forEach(area => {
                    area.addEventListener(eventName, function() {
                        this.classList.add('drag-over');
                    }, false);
                });
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                fileDropArea.forEach(area => {
                    area.addEventListener(eventName, function() {
                        this.classList.remove('drag-over');
                    }, false);
                });
            });
            
            fileDropArea[0].addEventListener('drop', handleBspDrop, false);
            fileDropArea[1].addEventListener('drop', handleEntDrop, false);
            
            function handleBspDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                if (files.length) {
                    bspFileInput.files = files;
                    handleBspFiles(files);
                }
            }
            
            function handleEntDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                if (files.length) {
                    entFileInput.files = files;
                    handleEntFiles(files);
                }
            }
            
            bspFileInput.addEventListener('change', function(e) {
                handleBspFiles(this.files);
            });
            
            entFileInput.addEventListener('change', function(e) {
                handleEntFiles(this.files);
            });
            
            let bspFile = null;
            let entFile = null;
            
            function handleBspFiles(files) {
                if (files.length) {
                    bspFile = files[0];
                    // Update the text inside the dropper
                    document.querySelectorAll('.file-drop-area')[0].querySelector('.file-msg').textContent = bspFile.name;
                    // Update the icon to show a selected file
                    document.querySelectorAll('.file-drop-area')[0].querySelector('.file-drop-icon i').className = 'fas fa-file-circle-check';
                    
                    generateButton.disabled = false;
                    downloadButton.disabled = true;
                    svgContainer.innerHTML = '';
                    statusDiv.style.display = 'none';
                }
            }
            
            function handleEntFiles(files) {
                if (files.length) {
                    entFile = files[0];
                    // Update the text inside the dropper
                    document.querySelectorAll('.file-drop-area')[1].querySelector('.file-msg').textContent = entFile.name;
                    // Update the icon to show a selected file
                    document.querySelectorAll('.file-drop-area')[1].querySelector('.file-drop-icon i').className = 'fas fa-file-circle-check';
                    // Enable and style the reset button
                    resetEntButton.disabled = false;
                    resetEntButton.style.backgroundColor = '#674331';
                    resetEntButton.style.cursor = 'pointer';
                }
            }
            
            // Reset ENT button
            resetEntButton.addEventListener('click', () => {
                entFile = null;
                entFileInput.value = '';
                document.querySelectorAll('.file-drop-area')[1].querySelector('.file-msg').textContent = 'Select or Drop ENT File (Optional)';
                document.querySelectorAll('.file-drop-area')[1].querySelector('.file-drop-icon i').className = 'fas fa-file-code';
                // Disable and style the reset button
                resetEntButton.disabled = true;
                resetEntButton.style.backgroundColor = '#555';
                resetEntButton.style.cursor = 'not-allowed';
            });
            
            // BSP file constants
            const HEADER_LUMPS = 15;
            const LUMP_ENTITIES = 0;
            const LUMP_PLANES = 1;
            const LUMP_TEXTURES = 2;
            const LUMP_VERTICES = 3;
            const LUMP_VISIBILITY = 4;
            const LUMP_NODES = 5;
            const LUMP_TEXINFO = 6;
            const LUMP_FACES = 7;
            const LUMP_LIGHTING = 8;
            const LUMP_CLIPNODES = 9;
            const LUMP_LEAVES = 10;
            const LUMP_MARKSURFACES = 11;
            const LUMP_EDGES = 12;
            const LUMP_SURFEDGES = 13;
            const LUMP_MODELS = 14;
            
            let svgContent = null;
            let useColors = true; // Track color preference
            let colorOpacity = 0.65; // Default opacity value
            let showArmors = true; // Show armor pickups
            let showGreenArmor = true;
            let showYellowArmor = true;
            let showRedArmor = true;
            let showMegaHealth = true; // Show mega health
            
            // Powerup display options
            let showPowerups = true;
            let showQuad = true;
            let showRing = true;
            let showPent = true;
            
            // Weapon display options
            let showRocketLauncher = true;
            let showLightningGun = true;
            
            // Flag display options
            let showFlags = true;
            let showRedFlag = true;
            let showBlueFlag = true;
            
            // Generate SVG button
            generateButton.addEventListener('click', async () => {
                try {
                    statusDiv.textContent = 'Processing BSP file...';
                    statusDiv.className = 'status';
                    statusDiv.style.display = 'block';
                    svgContainer.innerHTML = '';
                    
                    // Adjust SVG container style for better visibility with dark theme
                    // Match the SVG background to the container color
                    svgContainer.style.backgroundColor = '#333';
                    svgContainer.style.border = 'none';
                    
                    // Get current options
                    useColors = document.getElementById('useColors').checked;
                    colorOpacity = parseFloat(document.getElementById('opacitySlider').value);
                    showArmors = document.getElementById('showArmors').checked;
                    showGreenArmor = document.getElementById('showGreenArmor').checked;
                    showYellowArmor = document.getElementById('showYellowArmor').checked;
                    showRedArmor = document.getElementById('showRedArmor').checked;
                    showMegaHealth = document.getElementById('showMegaHealth').checked;
                    
                    // Get powerup display options
                    showPowerups = document.getElementById('showPowerups').checked;
                    showQuad = document.getElementById('showQuad').checked;
                    showRing = document.getElementById('showRing').checked;
                    showPent = document.getElementById('showPent').checked;
                    
                    // Get weapon display options
                    showRocketLauncher = document.getElementById('showRocketLauncher').checked;
                    showLightningGun = document.getElementById('showLightningGun').checked;
                    
                    // Get flag display options
                    showFlags = document.getElementById('showFlags').checked;
                    showRedFlag = document.getElementById('showRedFlag').checked;
                    showBlueFlag = document.getElementById('showBlueFlag').checked;
                    
                    // Read BSP file
                    const bspData = await readFile(bspFile);
                    
                    // Process and generate SVG
                    svgContent = await processBspFile(bspData);
                    svgContainer.innerHTML = svgContent;
                    
                    let successMsg = 'SVG generated successfully!';
                    if (entFile) {
                        successMsg += ' Using entities from ' + entFile.name;
                    } else {
                        successMsg += ' Using entities from BSP file';
                    }
                    
                    statusDiv.textContent = successMsg;
                    statusDiv.className = 'status success';
                    downloadButton.disabled = false;
                } catch (error) {
                    console.error('Error:', error);
                    statusDiv.textContent = `Error: ${error.message}`;
                    statusDiv.className = 'status error';
                }
            });
            
            // Monitor color checkbox for changes and regenerate if needed
            document.getElementById('useColors').addEventListener('change', () => {
                if (svgContent) {
                    generateButton.click(); // Regenerate SVG with new color settings
                }
            });
            
            // Update opacity value display when slider changes
            document.getElementById('opacitySlider').addEventListener('input', function() {
                document.getElementById('opacityValue').textContent = this.value;
                if (svgContent) {
                    generateButton.click(); // Regenerate SVG with new opacity
                }
            });
            
            // Toggle all armor display when the main checkbox changes
            document.getElementById('showArmors').addEventListener('change', function() {
                const checked = this.checked;
                document.getElementById('showGreenArmor').checked = checked;
                document.getElementById('showYellowArmor').checked = checked;
                document.getElementById('showRedArmor').checked = checked;
                document.getElementById('showMegaHealth').checked = checked;
                if (svgContent) {
                    generateButton.click(); // Regenerate SVG with new settings
                }
            });
            
            // Update display when individual armor checkboxes change
            document.getElementById('showGreenArmor').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            document.getElementById('showYellowArmor').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            document.getElementById('showRedArmor').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            
            // Update display when mega health checkbox changes
            document.getElementById('showMegaHealth').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            
            // Toggle all powerup display when the main checkbox changes
            document.getElementById('showPowerups').addEventListener('change', function() {
                const checked = this.checked;
                document.getElementById('showQuad').checked = checked;
                document.getElementById('showRing').checked = checked;
                document.getElementById('showPent').checked = checked;
                if (svgContent) {
                    generateButton.click(); // Regenerate SVG with new settings
                }
            });
            
            // Update display when individual powerup checkboxes change
            document.getElementById('showQuad').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            document.getElementById('showRing').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            document.getElementById('showPent').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            
            // Toggle all weapon display when the main checkbox changes
            document.getElementById('showWeapons').addEventListener('change', function() {
                const checked = this.checked;
                document.getElementById('showRocketLauncher').checked = checked;
                document.getElementById('showLightningGun').checked = checked;
                if (svgContent) {
                    generateButton.click(); // Regenerate SVG with new settings
                }
            });
            
            // Toggle all flag display when the main checkbox changes
            document.getElementById('showFlags').addEventListener('change', function() {
                const checked = this.checked;
                document.getElementById('showRedFlag').checked = checked;
                document.getElementById('showBlueFlag').checked = checked;
                if (svgContent) {
                    generateButton.click(); // Regenerate SVG with new settings
                }
            });
            
            // Update display when individual weapon checkboxes change
            document.getElementById('showRocketLauncher').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            document.getElementById('showLightningGun').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            
            // Update display when individual flag checkboxes change
            document.getElementById('showRedFlag').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            document.getElementById('showBlueFlag').addEventListener('change', function() {
                if (svgContent) {
                    generateButton.click();
                }
            });
            
            // Download SVG
            downloadButton.addEventListener('click', () => {
                if (svgContent) {
                    downloadSvg(svgContent, bspFile.name.replace('.bsp', '.svg'));
                }
            });
            
            // Read file as ArrayBuffer
            function readFile(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => resolve(reader.result);
                    reader.onerror = () => reject(new Error('Failed to read file'));
                    reader.readAsArrayBuffer(file);
                });
            }
            
            // Process BSP file and generate SVG similar to bsputil --svg
            async function processBspFile(bspData) {
                const bspView = new DataView(bspData);
                
                // Parse BSP header
                const header = parseBspHeader(bspView);
                
                // Collect debug statistics
                const debugStats = {
                    skippedVertices: 0,
                    skippedEdges: 0,
                    skippedFaces: 0,
                    invalidCoords: 0
                };
                
                // Extract data from BSP
                const vertices = extractVertices(bspView, header);
                const edges = extractEdges(bspView, header);
                const surfEdges = extractSurfEdges(bspView, header);
                const faces = extractFaces(bspView, header);
                const texinfo = extractTexinfo(bspView, header);
                const entities = await extractEntities(bspView, header, bspData);
                const planes = extractPlanes(bspView, header);
                
                // Extract miptex (texture names and data)
                const miptex = extractMiptex(bspView, header);
                
                // Link textures to faces
                linkTexturesToFaces(faces, texinfo, miptex);
                
                // Calculate bounds
                const bounds = calculateBounds(vertices);
                
                // Generate the SVG with debug information
                return generateTopDownSvg(vertices, edges, surfEdges, faces, texinfo, planes, entities, bounds, debugStats, header);
            }
            
            // Parse BSP header
            function parseBspHeader(bspView) {
                const header = {
                    version: bspView.getInt32(0, true),
                    lumps: []
                };
                
                for (let i = 0; i < HEADER_LUMPS; i++) {
                    const offset = 4 + i * 8; // Lump entries start immediately after the 4-byte version
                    header.lumps.push({
                        offset: bspView.getInt32(offset, true),
                        size: bspView.getInt32(offset + 4, true)
                    });
                }
                
                return header;
            }
            
            // Extract vertices with validation
            function extractVertices(bspView, header) {
                const lump = header.lumps[LUMP_VERTICES];
                
                // Validate lump
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                // Safety check for count
                const count = Math.floor(lump.size / 12); // Each vertex is 3 floats (12 bytes)
                if (count <= 0 || count > 65536) { // Sanity upper limit
                    return [];
                }
                
                const vertices = [];
                
                for (let i = 0; i < count; i++) {
                    try {
                        const offset = lump.offset + i * 12;
                        
                        // Check if we're going beyond buffer bounds
                        if (offset + 12 > bspView.byteLength) {
                            break;
                        }
                        
                        // Extract vertex components
                        const x = bspView.getFloat32(offset, true);
                        const y = bspView.getFloat32(offset + 4, true);
                        const z = bspView.getFloat32(offset + 8, true);
                        
                        // Validate vertex coordinates
                        if (!isFinite(x) || !isFinite(y) || !isFinite(z) ||
                            isNaN(x) || isNaN(y) || isNaN(z)) {
                            continue; // Skip this vertex
                        }
                        
                        vertices.push({ x, y, z });
                    } catch (e) {
                        // Skip on error
                    }
                }
                
                return vertices;
            }
            
            // Extract edges with validation
            function extractEdges(bspView, header) {
                const lump = header.lumps[LUMP_EDGES];
                
                // Validate lump
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                // Safety check for count
                const count = Math.floor(lump.size / 4); // Each edge is 2 uint16 (4 bytes)
                if (count <= 0 || count > 128000) { // Sanity upper limit
                    return [];
                }
                
                const edges = [];
                
                for (let i = 0; i < count; i++) {
                    try {
                        const offset = lump.offset + i * 4;
                        
                        // Check if we're going beyond buffer bounds
                        if (offset + 4 > bspView.byteLength) {
                            break;
                        }
                        
                        const v1 = bspView.getUint16(offset, true);
                        const v2 = bspView.getUint16(offset + 2, true);
                        
                        edges.push([v1, v2]);
                    } catch (e) {
                        // Skip on error
                    }
                }
                
                return edges;
            }
            
            // Extract surfedges with validation
            function extractSurfEdges(bspView, header) {
                const lump = header.lumps[LUMP_SURFEDGES];
                
                // Validate lump
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                // Safety check for count
                const count = Math.floor(lump.size / 4); // Each surfedge is an int32 (4 bytes)
                if (count <= 0 || count > 256000) { // Sanity upper limit
                    return [];
                }
                
                const surfEdges = [];
                
                for (let i = 0; i < count; i++) {
                    try {
                        const offset = lump.offset + i * 4;
                        
                        // Check if we're going beyond buffer bounds
                        if (offset + 4 > bspView.byteLength) {
                            break;
                        }
                        
                        const surfEdge = bspView.getInt32(offset, true);
                        surfEdges.push(surfEdge);
                    } catch (e) {
                        // Skip on error
                    }
                }
                
                return surfEdges;
            }
            
            // Extract faces with validation
            function extractFaces(bspView, header) {
                const lump = header.lumps[LUMP_FACES];
                
                // Validate lump
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                const faceSize = 20; // Size of face structure in bytes
                
                // Safety check for count
                const count = Math.floor(lump.size / faceSize);
                if (count <= 0 || count > 65536) { // Sanity upper limit
                    return [];
                }
                
                const faces = [];
                
                for (let i = 0; i < count; i++) {
                    try {
                        const offset = lump.offset + i * faceSize;
                        
                        // Check if we're going beyond buffer bounds
                        if (offset + faceSize > bspView.byteLength) {
                            break;
                        }
                        
                        faces.push({
                            planenum: bspView.getUint16(offset, true),
                            side: bspView.getUint16(offset + 2, true),
                            firstedge: bspView.getInt32(offset + 4, true),
                            numedges: bspView.getInt16(offset + 8, true),
                            texinfo: bspView.getInt16(offset + 10, true),
                            // Texture name will be added later
                            textureName: null
                        });
                    } catch (e) {
                        // Skip on error
                    }
                }
                
                return faces;
            }
            
            // Extract texinfo with more complete data
            function extractTexinfo(bspView, header) {
                const lump = header.lumps[LUMP_TEXINFO];
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                const texinfoSize = 40; // Size of texinfo structure
                const count = Math.floor(lump.size / texinfoSize);
                if (count <= 0 || count > 16384) { // Sanity upper limit
                    return [];
                }
                
                const texinfo = [];
                
                for (let i = 0; i < count; i++) {
                    try {
                        const offset = lump.offset + i * texinfoSize;
                        
                        if (offset + texinfoSize > bspView.byteLength) {
                            break;
                        }
                        
                        // Each texinfo has vectors for S and T textures planes, offsets, and miptex index
                        const miptexIndex = bspView.getInt32(offset + 32, true); // Index into miptex array
                        const flags = bspView.getInt32(offset + 36, true); // Flags
                        
                        texinfo.push({
                            miptexIndex: miptexIndex,
                            flags: flags
                        });
                    } catch (e) {
                        // Skip on error
                    }
                }
                
                return texinfo;
            }
            
            // Extract miptex (texture names and data)
            function extractMiptex(bspView, header) {
                const lump = header.lumps[LUMP_TEXTURES];
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                try {
                    // First parse the miptex header
                    const numtex = bspView.getInt32(lump.offset, true);
                    if (numtex <= 0 || numtex > 1024) { // Sanity check
                        return [];
                    }
                    
                    const miptex = [];
                    
                    // Create Quake color palette
                    const quakePalette = createQuakePalette();
                    
                    // Read offset table
                    for (let i = 0; i < numtex; i++) {
                        const offsetPos = lump.offset + 4 + (i * 4);
                        if (offsetPos + 4 > bspView.byteLength) break;
                        
                        const texOffset = bspView.getInt32(offsetPos, true);
                        if (texOffset <= 0) {
                            miptex.push(null); // Null texture
                            continue;
                        }
                        
                        const absOffset = lump.offset + texOffset;
                        if (absOffset + 40 > bspView.byteLength) {
                            miptex.push(null);
                            continue;
                        }
                        
                        // Read texture name (16 bytes, null-terminated)
                        let name = "";
                        for (let j = 0; j < 16; j++) {
                            const charCode = bspView.getUint8(absOffset + j);
                            if (charCode === 0) break;
                            name += String.fromCharCode(charCode);
                        }
                        
                        // Read texture dimensions
                        const width = bspView.getUint32(absOffset + 16, true);
                        const height = bspView.getUint32(absOffset + 20, true);
                        
                        // Read miptex offsets - we only need the first one (full size)
                        const mip0Offset = bspView.getUint32(absOffset + 24, true);
                        
                        // Validate dimensions and offset
                        if (width > 0 && width <= 512 && height > 0 && height <= 512 && mip0Offset > 0) {
                            const pixelDataOffset = absOffset + mip0Offset;
                            
                            // Check if we have enough data for the texture
                            if (pixelDataOffset + (width * height) <= bspView.byteLength) {
                                // Calculate the average color of the texture
                                const averageColor = calculateTextureAverageColor(
                                    bspView, 
                                    pixelDataOffset, 
                                    width, 
                                    height,
                                    quakePalette
                                );
                                
                                miptex.push({
                                    name: name,
                                    width: width,
                                    height: height,
                                    averageColor: averageColor
                                });
                                continue;
                            }
                        }
                        
                        // If we can't extract texture data, fall back to hash-based color
                        const hash = simpleHash(name);
                        const color = generateColorFromHash(hash);
                        
                        miptex.push({
                            name: name,
                            averageColor: color
                        });
                    }
                    
                    return miptex;
                } catch (e) {
                    console.error("Error extracting textures:", e);
                    return [];
                }
            }
            
            // Creates the standard Quake palette (256 colors)
            function createQuakePalette() {
                // This is the standard Quake palette
                return [
                    [0, 0, 0], [15, 15, 15], [31, 31, 31], [47, 47, 47], 
                    [63, 63, 63], [75, 75, 75], [91, 91, 91], [107, 107, 107], 
                    [123, 123, 123], [139, 139, 139], [155, 155, 155], [171, 171, 171], 
                    [187, 187, 187], [203, 203, 203], [219, 219, 219], [235, 235, 235], 
                    [15, 11, 7], [23, 15, 11], [31, 23, 11], [39, 27, 15], 
                    [47, 35, 19], [55, 43, 23], [63, 47, 23], [75, 55, 27], 
                    [83, 59, 27], [91, 67, 31], [99, 75, 31], [107, 83, 31], 
                    [115, 87, 31], [123, 95, 35], [131, 103, 35], [143, 111, 35], 
                    [11, 11, 15], [19, 19, 27], [27, 27, 39], [39, 39, 51], 
                    [47, 47, 63], [55, 55, 75], [63, 63, 87], [71, 71, 103], 
                    [79, 79, 115], [91, 91, 127], [99, 99, 139], [107, 107, 151], 
                    [115, 115, 163], [123, 123, 175], [131, 131, 187], [139, 139, 203], 
                    [0, 0, 0], [7, 7, 0], [11, 11, 0], [19, 19, 0], 
                    [27, 27, 0], [35, 35, 0], [43, 43, 7], [47, 47, 7], 
                    [55, 55, 7], [63, 63, 7], [71, 71, 7], [75, 75, 11], 
                    [83, 83, 11], [91, 91, 11], [99, 99, 11], [107, 107, 15], 
                    [7, 0, 0], [15, 0, 0], [23, 0, 0], [31, 0, 0], 
                    [39, 0, 0], [47, 0, 0], [55, 0, 0], [63, 0, 0], 
                    [71, 0, 0], [79, 0, 0], [87, 0, 0], [95, 0, 0], 
                    [103, 0, 0], [111, 0, 0], [119, 0, 0], [127, 0, 0], 
                    [19, 19, 0], [27, 27, 0], [35, 35, 0], [47, 43, 0], 
                    [55, 47, 0], [67, 55, 0], [75, 59, 7], [87, 67, 7], 
                    [95, 71, 7], [107, 75, 11], [119, 83, 15], [131, 87, 19], 
                    [139, 91, 19], [151, 95, 27], [163, 99, 31], [175, 103, 35], 
                    [35, 19, 7], [47, 23, 11], [59, 31, 15], [75, 35, 19], 
                    [87, 43, 23], [99, 47, 31], [115, 55, 35], [127, 59, 43], 
                    [143, 67, 51], [159, 79, 51], [175, 99, 47], [191, 119, 47], 
                    [207, 143, 43], [223, 171, 39], [239, 203, 31], [255, 243, 27], 
                    [11, 7, 0], [27, 19, 0], [43, 35, 15], [55, 43, 19], 
                    [71, 51, 27], [83, 55, 35], [99, 63, 43], [111, 71, 51], 
                    [127, 83, 63], [139, 95, 71], [155, 107, 83], [167, 123, 95], 
                    [183, 135, 107], [195, 147, 123], [211, 163, 139], [227, 179, 151], 
                    [171, 139, 163], [159, 127, 151], [147, 115, 135], [139, 103, 123], 
                    [127, 91, 111], [119, 83, 99], [107, 75, 87], [95, 63, 75], 
                    [87, 55, 67], [75, 47, 55], [67, 39, 47], [55, 31, 35], 
                    [43, 23, 27], [35, 19, 19], [23, 11, 11], [15, 7, 7], 
                    [187, 115, 159], [175, 107, 143], [163, 95, 131], [151, 87, 119], 
                    [139, 79, 107], [127, 75, 95], [115, 67, 83], [107, 59, 75], 
                    [95, 51, 63], [83, 43, 55], [71, 35, 43], [59, 31, 35], 
                    [47, 23, 27], [35, 19, 19], [23, 11, 11], [15, 7, 7], 
                    [219, 195, 187], [203, 179, 167], [191, 163, 155], [175, 151, 139], 
                    [163, 135, 123], [151, 123, 111], [135, 111, 95], [123, 99, 83], 
                    [107, 87, 71], [95, 75, 59], [83, 63, 51], [67, 51, 39], 
                    [55, 43, 31], [39, 31, 23], [27, 19, 15], [15, 11, 7], 
                    [111, 131, 123], [103, 123, 111], [95, 115, 103], [87, 107, 95], 
                    [79, 99, 87], [71, 91, 79], [63, 83, 71], [55, 75, 63], 
                    [47, 67, 55], [43, 59, 47], [35, 51, 39], [31, 43, 31], 
                    [23, 35, 23], [15, 27, 19], [11, 19, 11], [7, 11, 7], 
                    [255, 243, 27], [239, 223, 23], [219, 203, 19], [203, 183, 15], 
                    [187, 167, 15], [171, 151, 11], [155, 131, 7], [139, 115, 7], 
                    [123, 99, 7], [107, 83, 0], [91, 71, 0], [75, 55, 0], 
                    [59, 43, 0], [43, 31, 0], [27, 15, 0], [11, 7, 0], 
                    [0, 0, 255], [11, 11, 239], [19, 19, 223], [27, 27, 207], 
                    [35, 35, 191], [43, 43, 175], [47, 47, 159], [47, 47, 143], 
                    [47, 47, 127], [47, 47, 111], [47, 47, 95], [43, 43, 79], 
                    [35, 35, 63], [27, 27, 47], [19, 19, 31], [11, 11, 15], 
                    [43, 0, 0], [59, 0, 0], [75, 7, 0], [95, 7, 0], 
                    [111, 15, 0], [127, 23, 7], [147, 31, 7], [163, 39, 11], 
                    [183, 51, 15], [195, 75, 27], [207, 99, 43], [219, 127, 59], 
                    [227, 151, 79], [231, 171, 95], [239, 191, 119], [247, 211, 139], 
                    [167, 123, 59], [183, 155, 55], [199, 195, 55], [231, 227, 87], 
                    [127, 191, 255], [171, 231, 255], [215, 255, 255], [103, 0, 0], 
                    [139, 0, 0], [179, 0, 0], [215, 0, 0], [255, 0, 0], 
                    [255, 243, 147], [255, 247, 199], [255, 255, 255], [159, 91, 83]
                ];
            }
            
            // Calculate the average color of a texture using the palette
            function calculateTextureAverageColor(bspView, offset, width, height, palette) {
                try {
                    // For performance, sample at most 1000 pixels
                    const maxSamples = 1000;
                    const pixelCount = width * height;
                    const sampleRate = Math.max(1, Math.floor(pixelCount / maxSamples));
                    
                    let r = 0, g = 0, b = 0;
                    let sampleCount = 0;
                    
                    // Sample pixels at regular intervals
                    for (let i = 0; i < pixelCount; i += sampleRate) {
                        // Get palette index
                        const paletteIndex = bspView.getUint8(offset + i);
                        
                        // Skip transparent pixels (index 255 is often transparent)
                        if (paletteIndex === 255) {
                            continue;
                        }
                        
                        // Get RGB color from palette
                        if (paletteIndex < palette.length) {
                            const color = palette[paletteIndex];
                            r += color[0];
                            g += color[1];
                            b += color[2];
                            sampleCount++;
                        }
                    }
                    
                    // Calculate average
                    if (sampleCount > 0) {
                        return {
                            r: Math.round(r / sampleCount),
                            g: Math.round(g / sampleCount),
                            b: Math.round(b / sampleCount)
                        };
                    }
                    
                    // Default color if something went wrong
                    return { r: 128, g: 128, b: 128 };
                } catch (e) {
                    console.error("Error calculating texture average color:", e);
                    return { r: 128, g: 128, b: 128 };
                }
            }
            
            // Simple string hash function
            function simpleHash(str) {
                let hash = 0;
                for (let i = 0; i < str.length; i++) {
                    hash = ((hash << 5) - hash) + str.charCodeAt(i);
                    hash = hash & hash; // Convert to 32bit integer
                }
                return Math.abs(hash);
            }
            
            // Generate a deterministic color from a hash
            function generateColorFromHash(hash) {
                // Use much brighter base colors to match bsputil better
                // bsputil starts with white and darkens with the z-height factor
                const baseColors = [
                    { r: 220, g: 200, b: 180 },  // Light tan (common wall texture color)
                    { r: 200, g: 180, b: 160 },  // Beige
                    { r: 210, g: 190, b: 150 },  // Sandy
                    { r: 180, g: 160, b: 140 },  // Medium tan
                    { r: 200, g: 170, b: 140 },  // Light brown
                    { r: 170, g: 180, b: 190 },  // Bluish gray
                    { r: 190, g: 190, b: 170 },  // Light gray
                    { r: 170, g: 160, b: 150 }   // Medium gray
                ];
                
                // Select base color from hash
                const baseColorIndex = hash % baseColors.length;
                const baseColor = baseColors[baseColorIndex];
                
                // Add a slight variation based on hash
                const variation = 20;
                return {
                    r: Math.min(255, Math.max(0, baseColor.r + ((hash >> 8) % variation) - (variation / 2))),
                    g: Math.min(255, Math.max(0, baseColor.g + ((hash >> 16) % variation) - (variation / 2))),
                    b: Math.min(255, Math.max(0, baseColor.b + ((hash >> 24) % variation) - (variation / 2)))
                };
            }
            
            // Generate a dynamic sky color based on the texture name
            function generateSkyColor(textureName) {
                // Early exit if no texture name
                if (!textureName) {
                    return { r: 80, g: 130, b: 230 }; // Default blue
                }
                
                // Convert to lowercase for case-insensitive matching
                const lowerName = textureName.toLowerCase();
                
                // Color-specific sky textures
                const colorSkyMap = {
                    'redsky': { r: 178, g: 34, b: 34 },        // Red sky
                    'greensky': { r: 34, g: 139, b: 34 },      // Green sky
                    'blusky': { r: 65, g: 105, b: 225 },       // Blue (abbreviated)
                    'bluesky': { r: 70, g: 130, b: 230 },      // Standard blue sky
                    'purplesky': { r: 148, g: 0, b: 211 },     // Purple sky
                    'yellowsky': { r: 218, g: 165, b: 32 },    // Yellow/golden sky
                    'orangesky': { r: 255, g: 140, b: 0 },     // Orange sky
                    'cyansky': { r: 0, g: 139, b: 139 },       // Cyan sky
                    'graysky': { r: 119, g: 136, b: 153 },     // Gray/overcast
                    'blacksky': { r: 25, g: 25, b: 50 },       // Very dark "black" sky
                    'whitesky': { r: 220, g: 220, b: 255 },    // Bright white/blue sky
                    'pinksky': { r: 255, g: 105, b: 180 },     // Pink sky
                    'brownsky': { r: 139, g: 69, b: 19 },      // Brown sky (dust storm?)
                }
                
                // Time of day specific skies
                const timeOfDaySkyMap = {
                    'daysky': { r: 135, g: 206, b: 235 },      // Day sky (light blue)
                    'nightsky': { r: 25, g: 25, b: 112 },      // Night sky (dark blue)
                    'twilight': { r: 119, g: 136, b: 153 },    // Twilight/dusk
                    'dusk': { r: 65, g: 105, b: 225 },         // Dusk
                    'dawn': { r: 255, g: 127, b: 80 },         // Dawn/sunrise
                    'sunset': { r: 255, g: 99, b: 71 },        // Sunset (reddish)
                    'sunrise': { r: 255, g: 127, b: 80 },      // Sunrise (orange)
                }
                
                // Standard number-indexed skies (usually blue variants)
                const standardSkyMap = {
                    'sky1': { r: 80, g: 130, b: 230 },         // Default blue
                    'sky2': { r: 70, g: 120, b: 210 },         // Slightly darker blue
                    'sky3': { r: 100, g: 140, b: 210 },        // Lighter blue
                    'sky4': { r: 60, g: 110, b: 190 },         // Deep blue
                    'skybox': { r: 90, g: 140, b: 230 },       // Standard skybox blue
                    'sky_': { r: 80, g: 130, b: 210 },         // Generic sky prefix
                }
                
                // Check for color-specific skies first
                for (const [colorName, color] of Object.entries(colorSkyMap)) {
                    // Check if the sky name contains a color reference (e.g., "redsky", "sky_green", etc.)
                    if (lowerName.includes(colorName) || 
                        (colorName.startsWith('red') && lowerName.includes('red') && lowerName.includes('sky')) ||
                        (colorName.startsWith('green') && lowerName.includes('green') && lowerName.includes('sky')) ||
                        (colorName.startsWith('blue') && lowerName.includes('blue') && lowerName.includes('sky')) ||
                        (colorName.startsWith('purple') && lowerName.includes('purple') && lowerName.includes('sky')) ||
                        (colorName.startsWith('yellow') && lowerName.includes('yellow') && lowerName.includes('sky')) ||
                        (colorName.startsWith('orange') && lowerName.includes('orange') && lowerName.includes('sky')) ||
                        (colorName.startsWith('cyan') && lowerName.includes('cyan') && lowerName.includes('sky')) ||
                        (colorName.startsWith('gray') && lowerName.includes('gray') && lowerName.includes('sky')) ||
                        (colorName.startsWith('black') && lowerName.includes('black') && lowerName.includes('sky')) ||
                        (colorName.startsWith('white') && lowerName.includes('white') && lowerName.includes('sky')) ||
                        (colorName.startsWith('pink') && lowerName.includes('pink') && lowerName.includes('sky')) ||
                        (colorName.startsWith('brown') && lowerName.includes('brown') && lowerName.includes('sky'))) {
                        return color;
                    }
                }
                
                // Check for time-specific skies next
                for (const [timeName, color] of Object.entries(timeOfDaySkyMap)) {
                    if (lowerName.includes(timeName)) {
                        return color;
                    }
                }
                
                // Check standard numbered skies
                for (const [skyName, color] of Object.entries(standardSkyMap)) {
                    if (lowerName === skyName || lowerName === '*' + skyName + '*' || lowerName.startsWith(skyName)) {
                        return color;
                    }
                }
                
                // For other sky textures, use a hash-based approach for consistent but varied colors
                let hash = simpleHash(textureName);
                
                // By default, sky textures should be predominantly blue
                // But also check if the name contains color hints
                if (lowerName.includes('red')) {
                    // Red-tinted sky
                    const r = 180 + (hash % 75);               // 180-255 range (high red)
                    const g = 40 + ((hash >> 8) % 60);         // 40-100 range (low green)
                    const b = 40 + ((hash >> 16) % 60);        // 40-100 range (low blue)
                    return { r, g, b };
                } else if (lowerName.includes('green')) {
                    // Green-tinted sky
                    const r = 40 + (hash % 60);                // 40-100 range (low red)
                    const g = 180 + ((hash >> 8) % 75);        // 180-255 range (high green)
                    const b = 40 + ((hash >> 16) % 60);        // 40-100 range (low blue)
                    return { r, g, b };
                } else if (lowerName.includes('purple') || lowerName.includes('violet')) {
                    // Purple-tinted sky
                    const r = 100 + (hash % 100);              // 100-200 range (medium red)
                    const g = 40 + ((hash >> 8) % 60);         // 40-100 range (low green)
                    const b = 180 + ((hash >> 16) % 75);       // 180-255 range (high blue)
                    return { r, g, b };
                } else if (lowerName.includes('yellow') || lowerName.includes('gold')) {
                    // Yellow/gold-tinted sky
                    const r = 180 + (hash % 75);               // 180-255 range (high red)
                    const g = 180 + ((hash >> 8) % 75);        // 180-255 range (high green)
                    const b = 40 + ((hash >> 16) % 60);        // 40-100 range (low blue)
                    return { r, g, b };
                } else {
                    // Default blue-tinted sky for any other sky texture
                    const r = 40 + (hash % 60);                // 40-100 range (low red)
                    const g = 100 + ((hash >> 8) % 60);        // 100-160 range (medium green)
                    const b = 180 + ((hash >> 16) % 75);       // 180-255 range (high blue)
                    return { r, g, b };
                }
            }
            
            // Link textures to faces
            function linkTexturesToFaces(faces, texinfo, miptex) {
                for (let i = 0; i < faces.length; i++) {
                    const face = faces[i];
                    if (face.texinfo >= 0 && face.texinfo < texinfo.length) {
                        const ti = texinfo[face.texinfo];
                        if (ti.miptexIndex >= 0 && ti.miptexIndex < miptex.length && miptex[ti.miptexIndex]) {
                            face.textureName = miptex[ti.miptexIndex].name;
                            face.textureColor = miptex[ti.miptexIndex].averageColor;
                        }
                    }
                }
                return faces;
            }
            
            // Extract and parse entities
            function extractEntities(bspView, header, bspData) {
                // Check if we have a separate .ent file
                if (entFile) {
                    return new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = () => {
                            try {
                                const entitiesText = reader.result;
                                const parsedEntities = parseEntities(entitiesText);
                                console.log("Using entities from .ent file:", parsedEntities.length);
                                statusDiv.textContent = `Processing BSP file with entities from ${entFile.name}...`;
                                resolve(parsedEntities);
                            } catch (error) {
                                console.error("Error extracting entities from .ent file:", error);
                                statusDiv.textContent = `Failed to parse ${entFile.name}, falling back to BSP entities...`;
                                // Fall back to BSP entities if .ent parsing fails
                                extractEntitiesFromBsp(bspView, header, bspData)
                                    .then(resolve)
                                    .catch(reject);
                            }
                        };
                        reader.onerror = () => {
                            console.error("Failed to read .ent file");
                            statusDiv.textContent = `Failed to read ${entFile.name}, falling back to BSP entities...`;
                            // Fall back to BSP entities if .ent file can't be read
                            extractEntitiesFromBsp(bspView, header, bspData)
                                .then(resolve)
                                .catch(reject);
                        };
                        reader.readAsText(entFile);
                    });
                } else {
                    // No .ent file, use entities from BSP
                    return extractEntitiesFromBsp(bspView, header, bspData);
                }
            }
            
            // Extract entities from BSP file
            function extractEntitiesFromBsp(bspView, header, bspData) {
                const lump = header.lumps[LUMP_ENTITIES];
                
                // Check if lump is valid
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return Promise.resolve([]); // Return empty array if no entities
                }
                
                try {
                    const entitiesText = new TextDecoder('utf-8').decode(
                        new Uint8Array(bspData, lump.offset, lump.size)
                    );
                    
                    return Promise.resolve(parseEntities(entitiesText));
                } catch (error) {
                    console.error("Error extracting entities from BSP:", error);
                    return Promise.resolve([]);
                }
            }
            
            // Parse entities text
            function parseEntities(entitiesText) {
                const entities = [];
                let currentEntity = null;
                let inEntity = false;
                let key = '';
                let value = '';
                let inQuotes = false;
                let collectingKey = true;
                
                // State machine to parse entities
                for (let i = 0; i < entitiesText.length; i++) {
                    const char = entitiesText[i];
                    
                    if (char === '{' && !inEntity) {
                        inEntity = true;
                        currentEntity = {};
                        continue;
                    }
                    
                    if (char === '}' && inEntity) {
                        inEntity = false;
                        if (currentEntity) {
                            entities.push(currentEntity);
                        }
                        currentEntity = null;
                        key = '';
                        value = '';
                        collectingKey = true;
                        continue;
                    }
                    
                    if (!inEntity) continue;
                    
                    if (char === '"') {
                        if (inQuotes) {
                            inQuotes = false;
                            if (collectingKey) {
                                key = key.trim();
                                collectingKey = false;
                            } else {
                                value = value.trim();
                                if (currentEntity && key) {
                                    currentEntity[key] = value;
                                }
                                key = '';
                                value = '';
                                collectingKey = true;
                            }
                        } else {
                            inQuotes = true;
                        }
                        continue;
                    }
                    
                    if (inQuotes) {
                        if (collectingKey) {
                            key += char;
                        } else {
                            value += char;
                        }
                    }
                }
                
                return entities;
            }
            
            // Calculate bounding box
            function calculateBounds(vertices) {
                if (vertices.length === 0) {
                    return { minX: 0, minY: 0, minZ: 0, maxX: 10, maxY: 10, maxZ: 10 }; // Default bounds
                }
                
                const bounds = {
                    minX: Infinity,
                    minY: Infinity,
                    minZ: Infinity,
                    maxX: -Infinity,
                    maxY: -Infinity,
                    maxZ: -Infinity
                };
                
                vertices.forEach(vertex => {
                    bounds.minX = Math.min(bounds.minX, vertex.x);
                    bounds.minY = Math.min(bounds.minY, vertex.y);
                    bounds.minZ = Math.min(bounds.minZ, vertex.z);
                    bounds.maxX = Math.max(bounds.maxX, vertex.x);
                    bounds.maxY = Math.max(bounds.maxY, vertex.y);
                    bounds.maxZ = Math.max(bounds.maxZ, vertex.z);
                });
                
                return bounds;
            }
            
            // Extract planes lump
            function extractPlanes(bspView, header) {
                const lump = header.lumps[LUMP_PLANES];
                
                // Validate lump
                if (!lump || lump.offset <= 0 || lump.size <= 0) {
                    return [];
                }
                
                const planeSize = 20; // Each plane is 5 floats (normal xyz, distance, type)
                const count = Math.floor(lump.size / planeSize);
                
                if (count <= 0 || count > 65536) { // Sanity check
                    return [];
                }
                
                const planes = [];
                
                for (let i = 0; i < count; i++) {
                    try {
                        const offset = lump.offset + i * planeSize;
                        
                        if (offset + planeSize > bspView.byteLength) {
                            break;
                        }
                        
                        const nx = bspView.getFloat32(offset, true);
                        const ny = bspView.getFloat32(offset + 4, true);
                        const nz = bspView.getFloat32(offset + 8, true);
                        const dist = bspView.getFloat32(offset + 12, true);
                        const type = bspView.getInt32(offset + 16, true);
                        
                        planes.push({
                            normal: { x: nx, y: ny, z: nz },
                            dist: dist,
                            type: type
                        });
                    } catch (e) {
                        // Skip on error
                    }
                }
                
                return planes;
            }
            
            // Calculate face normal vector
            function calculateFaceNormal(face, vertices, edges, surfEdges) {
                try {
                    // Need at least 3 vertices to define a plane
                    if (face.numedges < 3) {
                        return null;
                    }
                    
                    // Get 3 points on the face
                    const points = [];
                    
                    for (let i = 0; i < face.numedges && points.length < 3; i++) {
                        const surfEdgeIdx = face.firstedge + i;
                        if (surfEdgeIdx < 0 || surfEdgeIdx >= surfEdges.length) continue;
                        
                        const surfEdge = surfEdges[surfEdgeIdx];
                        const edgeIdx = Math.abs(surfEdge);
                        if (edgeIdx >= edges.length) continue;
                        
                        let vertIdx;
                        if (surfEdge > 0) {
                            vertIdx = edges[edgeIdx][0];
                        } else {
                            vertIdx = edges[edgeIdx][1];
                        }
                        
                        if (vertIdx >= 0 && vertIdx < vertices.length) {
                            points.push(vertices[vertIdx]);
                        }
                    }
                    
                    if (points.length < 3) {
                        return null;
                    }
                    
                    // Calculate normal using cross product
                    const v1 = {
                        x: points[1].x - points[0].x,
                        y: points[1].y - points[0].y,
                        z: points[1].z - points[0].z
                    };
                    
                    const v2 = {
                        x: points[2].x - points[0].x,
                        y: points[2].y - points[0].y,
                        z: points[2].z - points[0].z
                    };
                    
                    // Cross product
                    const normal = {
                        x: v1.y * v2.z - v1.z * v2.y,
                        y: v1.z * v2.x - v1.x * v2.z,
                        z: v1.x * v2.y - v1.y * v2.x
                    };
                    
                    // Normalize
                    const length = Math.sqrt(normal.x * normal.x + normal.y * normal.y + normal.z * normal.z);
                    if (length === 0) return null;
                    
                    normal.x /= length;
                    normal.y /= length;
                    normal.z /= length;
                    
                    return normal;
                } catch (e) {
                    return null;
                }
            }
            
            // Check if a face should be rendered in top-down view
            function isFaceVisibleFromTop(face, vertices, edges, surfEdges, planes, texinfo) {
                // Check for null face
                if (!face) return false;
                
                // If we have plane info, use that
                if (planes && planes.length > 0 && face.planenum >= 0 && face.planenum < planes.length) {
                    const plane = planes[face.planenum];
                    
                    // For top down view, we want faces with normals pointing upward (positive Z)
                    // Use side to determine if normal is flipped
                    let normalZ = plane.normal.z;
                    if (face.side !== 0) {
                        normalZ = -normalZ;
                    }
                    
                    // The face must be facing upward with significant Z component
                    const EPSILON = 0.01;
                    return normalZ > EPSILON;
                }
                
                // Fallback to calculating normal
                const normal = calculateFaceNormal(face, vertices, edges, surfEdges);
                if (!normal) return false;
                
                // Must point upward significantly (similar to bsputil epsilon 0.01)
                return normal.z > 0.01;
            }
            
            // Check if face has nodraw or trigger texture
            function shouldSkipFace(face, texinfo, miptex) {
                // Check texinfo flags
                if (texinfo && face.texinfo >= 0 && face.texinfo < texinfo.length) {
                    const ti = texinfo[face.texinfo];
                    
                    // Skip nodraw faces
                    if (ti.flags & 0x800) { // SURF_NODRAW (0x800 in Quake)
                        return true;
                    }
                }
                
                // Check texture name (trigger)
                if (face.textureName === 'trigger') {
                    return true;
                }
                
                return false;
            }
            
            // Generate SVG similar to bsputil --svg (top-down view)
            function generateTopDownSvg(vertices, edges, surfEdges, faces, texinfo, planes, entities, bounds, debugStats, header) {
                try {
                    // Use completely fixed dimensions with no calculations
                    const svgWidth = 800;
                    const svgHeight = 800;
                    const padding = 50;
                    
                    // Check if bounds are valid, use fallback if not
                    if (!isFinite(bounds.minX) || !isFinite(bounds.minY) || 
                        !isFinite(bounds.maxX) || !isFinite(bounds.maxY)) {
                        console.warn("Invalid bounds detected, using fallback values");
                        bounds = { minX: -1000, minY: -1000, maxX: 1000, maxY: 1000, minZ: 0, maxZ: 100 };
                    }
                    
                    // Use safe values
                    const xo = bounds.minX;
                    const yo = bounds.minY;
                    const mapWidth = Math.max(100, bounds.maxX - bounds.minX);
                    const mapHeight = Math.max(100, bounds.maxY - bounds.minY);
                    
                    let scale = 1.0;
                    try {
                        const scaleX = (svgWidth - 2 * padding) / mapWidth;
                        const scaleY = (svgHeight - 2 * padding) / mapHeight;
                        scale = Math.min(scaleX, scaleY);
                        if (!isFinite(scale) || scale <= 0) scale = 0.01;
                    } catch (e) {
                        scale = 0.01; // Fallback scale
                    }
                    
                    // Safe offset calculations with fallbacks
                    let offsetX = padding;
                    let offsetY = padding;
                    try {
                        offsetX = (svgWidth - mapWidth * scale) / 2;
                        offsetY = (svgHeight - mapHeight * scale) / 2;
                        if (!isFinite(offsetX)) offsetX = padding;
                        if (!isFinite(offsetY)) offsetY = padding;
                    } catch (e) {
                        // Use default padding
                    }
                    
                    // Add SVG content header
                    let svg = `<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="800" viewBox="0 0 800 800">\n`;
                    
                    // Add background
                    svg += '<rect width="800" height="800" fill="#ffffff" />\n';
                    
                    // Create a defs section for reusable elements
                    svg += '<defs>\n';
                    
                    // Add color filters for SVG images
                    svg += `
                    <!-- Color filters -->
                    <filter id="red-filter">
                        <feColorMatrix type="matrix" values="0 0 0 0 0.67
                                                                    0 0 0 0 0
                                                                    0 0 0 0 0
                                                                    0 0 0 1 0"/>
                    </filter>
                    <filter id="green-filter">
                        <feColorMatrix type="matrix" values="0 0 0 0 0
                                                                    0 0 0 0 0.67
                                                                    0 0 0 0 0
                                                                    0 0 0 1 0"/>
                    </filter>
                    <filter id="blue-filter">
                        <feColorMatrix type="matrix" values="0 0 0 0 0.145
                                                                    0 0 0 0 0.145
                                                                    0 0 0 0 0.87
                                                                    0 0 0 1 0"/>
                    </filter>
                    <filter id="yellow-filter">
                        <feColorMatrix type="matrix" values="0 0 0 0 0.67
                                                                    0 0 0 0 0.67
                                                                    0 0 0 0 0
                                                                    0 0 0 1 0"/>
                    </filter>
                    <filter id="gold-filter">
                        <feColorMatrix type="matrix" values="0 0 0 0 0.67
                                                                    0 0 0 0 0.67
                                                                    0 0 0 0 0
                                                                    0 0 0 1 0"/>
                    </filter>
                    `;
                    
                    svg += '<g id="bsp">\n';
                    
                    // Safe coordinate transform function
                    function transformCoord(x, y) {
                        try {
                            let tx = ((x - xo) * scale) + offsetX;
                            let ty = svgHeight - (((y - yo) * scale) + offsetY);
                            
                            // Fallback to center if invalid
                            if (!isFinite(tx) || isNaN(tx)) tx = svgWidth / 2;
                            if (!isFinite(ty) || isNaN(ty)) ty = svgHeight / 2;
                            
                            return { x: tx, y: ty };
                        } catch (e) {
                            return { x: svgWidth / 2, y: svgHeight / 2 };
                        }
                    }
                    
                    // Try to draw walls - with robust error handling
                    let polygonCount = 0;
                    try {
                        // Find visible faces (like bsputil's addSubModel)
                        const visibleFaces = [];
                        
                        faces.forEach((face, faceIndex) => {
                            try {
                                // Skip face if it doesn't meet criteria for a top-down view
                                if (!isFaceVisibleFromTop(face, vertices, edges, surfEdges, planes, texinfo)) {
                                    return;
                                }
                                
                                // Skip nodraw/trigger textures
                                if (shouldSkipFace(face, texinfo, null)) {
                                    return;
                                }
                                
                                // Collect vertices for this face
                                const faceVertices = [];
                                for (let i = 0; i < face.numedges; i++) {
                                    try {
                                        const surfEdgeIdx = face.firstedge + i;
                                        if (surfEdgeIdx < 0 || surfEdgeIdx >= surfEdges.length) {
                                            debugStats.skippedEdges++;
                                            continue;
                                        }
                                        
                                        const surfEdge = surfEdges[surfEdgeIdx];
                                        const edgeIdx = Math.abs(surfEdge);
                                        if (edgeIdx >= edges.length) {
                                            debugStats.skippedEdges++;
                                            continue;
                                        }
                                        
                                        let vertIdx;
                                        if (surfEdge > 0) {
                                            vertIdx = edges[edgeIdx][0];
                                        } else {
                                            vertIdx = edges[edgeIdx][1];
                                        }
                                        
                                        if (vertIdx < 0 || vertIdx >= vertices.length) {
                                            debugStats.skippedVertices++;
                                            continue;
                                        }
                                        
                                        faceVertices.push(vertices[vertIdx]);
                                    } catch (e) {
                                        // Skip error
                                    }
                                }
                                
                                if (faceVertices.length < 3) {
                                    debugStats.skippedFaces++;
                                    return;
                                }
                                
                                // Save face with its vertices
                                visibleFaces.push({
                                    face: face,
                                    faceIndex: faceIndex,
                                    vertices: faceVertices
                                });
                            } catch (e) {
                                // Skip error
                            }
                        });
                        
                        // Sort by max Z height (just like bsputil)
                        visibleFaces.sort((a, b) => {
                            // Find max Z of face a
                            let maxZA = -Infinity;
                            for (const v of a.vertices) {
                                maxZA = Math.max(maxZA, v.z);
                            }
                            
                            // Find max Z of face b
                            let maxZB = -Infinity;
                            for (const v of b.vertices) {
                                maxZB = Math.max(maxZB, v.z);
                            }
                            
                            // Sort ascending by Z (floor to ceiling)
                            return maxZA - maxZB;
                        });
                        
                        // Calculate global min/max Z for proper scaling
                        let low_z = Infinity;
                        let high_z = -Infinity;
                        
                        for (const visibleFace of visibleFaces) {
                            for (const vertex of visibleFace.vertices) {
                                low_z = Math.min(low_z, vertex.z);
                                high_z = Math.max(high_z, vertex.z);
                            }
                        }
                        
                        // Now render the sorted faces
                        for (const visibleFace of visibleFaces) {
                            const face = visibleFace.face;
                            const faceIndex = visibleFace.faceIndex;
                            const faceVertices = visibleFace.vertices;
                            
                            // Create path with transformed coordinates
                            let points = [];
                            faceVertices.forEach(vertex => {
                                try {
                                    const point = transformCoord(vertex.x, vertex.y);
                                    points.push(point);
                                } catch (e) {
                                    // Skip error
                                }
                            });
                            
                            // Only proceed if we have enough valid points
                            if (points.length >= 3) {
                                // Build path data string safely
                                let pathData = "";
                                try {
                                    // First check if ANY point contains NaN or infinite values
                                    let hasInvalidPoints = false;
                                    for (let i = 0; i < points.length; i++) {
                                        if (isNaN(points[i].x) || !isFinite(points[i].x) || 
                                            isNaN(points[i].y) || !isFinite(points[i].y)) {
                                            hasInvalidPoints = true;
                                            break;
                                        }
                                    }
                                    
                                    if (hasInvalidPoints) {
                                        debugStats.invalidCoords++;
                                        throw new Error("Invalid coordinates in points array");
                                    }
                                    
                                    // Start path with the first point
                                    pathData = `M ${points[0].x.toFixed(1)} ${points[0].y.toFixed(1)} `;
                                    
                                    // Add line segments to each subsequent point
                                    for (let i = 1; i < points.length; i++) {
                                        pathData += `L ${points[i].x.toFixed(1)} ${points[i].y.toFixed(1)} `;
                                    }
                                    
                                    // Close the path
                                    pathData += "Z";
                                    
                                    // Verify the final path string doesn't contain "NaN" text
                                    if (pathData.includes("NaN") || pathData.includes("Infinity")) {
                                        debugStats.invalidCoords++;
                                        throw new Error("Path data contains invalid values");
                                    }
                                    
                                    // Mimic how bsputil gets colors from textures
                                    let color;
                                    
                                    if (useColors) {
                                        // PRIORITY 1: Always use the texture's real color if we have it
                                        if (face.textureColor) {
                                            // Actual extracted texture color has highest priority
                                            color = face.textureColor;
                                        } 
                                        // PRIORITY 2: If no texture color but we have a sky texture name
                                        else if (face.textureName && 
                                            (face.textureName.toLowerCase().startsWith('sky') || 
                                            face.textureName.toLowerCase().includes('sky') ||
                                            face.textureName.toLowerCase() === '*sky*')) {
                                            // Generate a dynamic sky color based on the texture name as fallback
                                            color = generateSkyColor(face.textureName);
                                        }
                                        // PRIORITY 3: Use texinfo flags for special surfaces
                                        else if (texinfo && face.texinfo >= 0 && face.texinfo < texinfo.length) {
                                            const texFlags = texinfo[face.texinfo].flags;
                                            
                                            // Special colors for specific texture types
                                            if (texFlags & 1) { // SKY flag
                                                color = { r: 80, g: 130, b: 230 }; // Default sky blue
                                            } else if (texFlags & 2) { // SLIME flag
                                                color = { r: 124, g: 252, b: 0 }; // Slime green
                                            } else if (texFlags & 4) { // WATER flag
                                                color = { r: 30, g: 144, b: 255 }; // Water blue
                                            } else if (texFlags & 8) { // TRANS flag
                                                color = { r: 218, g: 165, b: 32 }; // Gold
                                            } else {
                                                // PRIORITY 4: Default white as bsputil does
                                                color = { r: 255, g: 255, b: 255 }; // White default
                                            }
                                        }
                                        // PRIORITY 4: Default white
                                        else {
                                            color = { r: 255, g: 255, b: 255 }; // White default
                                        }
                                    } else {
                                        // Use grayscale if colors are disabled
                                        color = { r: 180, g: 180, b: 180 }; // Light gray for all faces
                                    }
                                    
                                    // Calculate Z-height values for darkening
                                    let nz = 0;
                                    for (const v of faceVertices) {
                                        nz = Math.max(nz, v.z);
                                    }
                                    
                                    // Apply a slightly lighter darkening formula
                                    const z_scale = (nz - low_z) / (high_z - low_z || 1);
                                    const d = 0.6 + (z_scale * 0.4); // 0.6-1.0 range instead of 0.5-1.0 for lighter colors
                                    
                                    // Apply darkening factor to color
                                    const darkenedColor = {
                                        r: Math.floor(color.r * d),
                                        g: Math.floor(color.g * d),
                                        b: Math.floor(color.b * d)
                                    };
                                    
                                    // Format color with opacity to make colors lighter
                                    const opacity = 0.85; // 85% opacity makes colors appear lighter
                                    const fill = `rgba(${darkenedColor.r}, ${darkenedColor.g}, ${darkenedColor.b}, ${colorOpacity})`;
                                    
                                    // Add the path to SVG
                                    svg += `<path d="${pathData}" fill="${fill}" stroke="#333" stroke-width="0.5" />\n`;
                                    polygonCount++;
                                } catch (e) {
                                    // Skip error
                                }
                            } else {
                                debugStats.skippedFaces++;
                            }
                        }
                    } catch (e) {
                        // Skip error
                    }
                    
                    // Close the defs group
                    svg += '</g>\n</defs>\n';
                    
                    // First use: thick black outlines
                    svg += '<use href="#bsp" fill="none" stroke="black" stroke-width="3" stroke-linejoin="round" />\n';
                    
                    // Second use: filled areas with thin outline but semi-transparent fill
                    svg += `<use href="#bsp" stroke="black" stroke-width="0.5" fill-opacity="${colorOpacity}" />\n`;
                    
                    // Border
                    svg += `<rect width="800" height="800" fill="none" stroke="#000" stroke-width="1" />\n`;
                    
                    // Add armor positions AFTER all map elements to ensure visibility
                    if (showArmors) {
                        const armors = findArmors(entities);
                        console.log(`Processing armors - Red: ${armors.red.length}, Yellow: ${armors.yellow.length}, Green: ${armors.green.length}`);
                        
                        // Add green armors with shield icon
                        if (showGreenArmor && armors.green.length > 0) {
    const base64Shield = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMwMC40NjAgMTQ4LjAxNSBDIDI5MS4wMDcgMTUwLjU1NywgMjc2LjAyNyAxNTUuODM3LCAyNzMuMjY0IDE1Ny42MDEgQyAyNzIuMDM0IDE1OC4zODYsIDI3MC4zNDggMTYwLjA2NSwgMjY5LjUxNyAxNjEuMzMzIEMgMjY3LjIwMyAxNjQuODY1LCAyNjEuMzk5IDE5OC4wNzEsIDI1Ny4wNzggMjMyLjUwMCBDIDI1MS44MzEgMjc0LjMwMiwgMjUxLjU0MyAyODAuMTA1LCAyNTEuNDI1IDM0Ni41MDAgQyAyNTEuMzE1IDQwOC40NzMsIDI1MS4yNzggNDA5LjU5MCwgMjQ5LjE2MCA0MTUuMDQ5IEMgMjQyLjkzNSA0MzEuMDkxLCAyMzAuNTYzIDQ0MC45NjAsIDIxMSA0NDUuNDg5IEMgMTk3LjIyMyA0NDguNjc5LCAxOTYuMzI3IDQ0OC45ODEsIDE5NC40MjggNDUxLjA4MCBDIDE5MS4zNTUgNDU0LjQ3NSwgMTkyLjIwMCA0NTkuNjUxLCAxOTcuNzAxIDQ3MS4xMzcgQyAyMDMuNTk5IDQ4My40NTQsIDIwOC44MDYgNDkxLjcwMSwgMjE5Ljk4NyA1MDYuNDM4IEMgMjMxLjI5OSA1MjEuMzQ4LCAyMzcuMzk0IDUzMC44NDcsIDI0Mi40ODUgNTQxLjUwMCBDIDI2My4wNjAgNTg0LjU2MiwgMjcyLjA2MSA2NDEuMjcxLCAyNjguMDI5IDcwMi40NTAgQyAyNjYuNTI4IDcyNS4yMTQsIDI2Ni41NjAgNzI1LjMyNiwgMjc2LjM5OCA3MzEuNzYzIEMgMzA3LjU2NCA3NTIuMTU3LCAzNzcuNTkxIDc3MS4zNDQsIDQ0NSA3NzcuOTYwIEMgNDk0LjE5NyA3ODIuNzg4LCA1NTUuNDc4IDc4Mi4yMDgsIDYwMyA3NzYuNDY0IEMgNjYxLjc3OCA3NjkuMzU5LCA3MTUuMjUzIDc1NC40MDYsIDc0OC4wOTcgNzM1Ljg5MSBDIDc2NC40MjcgNzI2LjY4NiwgNzY1LjEwMyA3MjUuNTE1LCA3NjMuOTAzIDcwOC41MDAgQyA3NjIuNzc1IDY5Mi41MTksIDc2Mi44NTUgNjQ1LjQ2NSwgNzY0LjAzMyA2MzEuNTAwIEMgNzY4LjQzNCA1NzkuMzMxLCA3NzkuOTA5IDU0My4xNzQsIDgwMS45NDggNTEyLjAyNiBDIDgxOS41NjIgNDg3LjEzMiwgODI4LjE3MyA0NzIuNDUxLCA4MzEuNjgyIDQ2MS4zMzQgQyA4MzMuMDU5IDQ1Ni45NzAsIDgzMy4xMTIgNDU1LjY4NCwgODMyLjAxOSA0NTMuMDQ2IEMgODMwLjQ5MyA0NDkuMzYzLCA4MjkuMDM2IDQ0OC40NzEsIDgyMyA0NDcuNTMyIEMgODAxLjg1NCA0NDQuMjM5LCA3ODUuNjUxIDQzNC45NjEsIDc3OC42ODEgNDIyLjE1NiBDIDc3My4yMDcgNDEyLjA5OCwgNzczLjA0MiA0MTAuMDIwLCA3NzMuMjQ4IDM1NCBDIDc3My40MzcgMzAyLjc2NiwgNzczLjAwMyAyOTEuNzE5LCA3NjkuNDQyIDI1NyBDIDc2Ni4zMDkgMjI2LjQ2NiwgNzU2Ljk1MiAxNjguMDYzLCA3NTQuMzAxIDE2Mi41MDUgQyA3NTMuNDM5IDE2MC42OTgsIDc1MS4xMDYgMTU4LjMxOCwgNzQ5LjExNyAxNTcuMjE3IEMgNzQ0LjQ2MiAxNTQuNjQxLCA3MjEuMjczIDE0Ny4xMzYsIDcxNS41NDMgMTQ2LjM1MSBDIDcwNy44MjUgMTQ1LjI5MywgNzA2LjYxNSAxNDYuMTExLCA2OTkuMzgwIDE1Ny4yNjcgQyA2OTEuODM3IDE2OC44OTgsIDY4Mi4yMDIgMTc4LjkxMCwgNjczLjQxNCAxODQuMjQ5IEMgNjUwLjA3NyAxOTguNDI1LCA2MTEuMjgyIDIwNS41MzEsIDU0My40NDQgMjA4LjA1NyBDIDQ5MC41MTcgMjEwLjAyNywgNDI1LjM5NiAyMDYuMjczLCAzOTIuNTUyIDE5OS4zNTggQyAzNTcuMjMzIDE5MS45MjIsIDM0MS4wMjUgMTgyLjA0MywgMzI1LjQ1MiAxNTguNDU5IEMgMzIxLjM3MyAxNTIuMjgyLCAzMTcuMzE1IDE0Ni45NTEsIDMxNi40MzYgMTQ2LjYxNCBDIDMxMy42NDQgMTQ1LjU0MiwgMzA3LjcyMiAxNDYuMDYyLCAzMDAuNDYwIDE0OC4wMTUgTSAyMjAgMTYyLjM0NCBDIDIwMC4yMTcgMTcwLjYwNiwgMTI5LjMzNCAyMDUuMzY4LCAxMDYuODAwIDIxNy44NTkgQyA4OS44MzYgMjI3LjI2MywgNTkuOTQ0IDI0NS4xMDEsIDU1LjM5NyAyNDguNTM1IEMgNTMuNjkwIDI0OS44MjQsIDUxLjcyMyAyNTIuMjU2LCA1MS4wMjUgMjUzLjkzOSBDIDQ4Ljc5OSAyNTkuMzEzLCA1MC43MjAgMjYxLjYyNiwgNjUuMDY1IDI3MC44NTMgQyAxMTAuNDA4IDMwMC4wMTYsIDEzOC40NjkgMzM0LjgyNywgMTU5LjQ5NCAzODggQyAxNjYuODgxIDQwNi42ODQsIDE2Ny4zNTIgNDA3LjU0NCwgMTcxLjc3OCA0MTAuNDYzIEMgMTc2LjMzNyA0MTMuNDcwLCAyMDIuMTgzIDQyMC4wMzIsIDIxMC4wMzIgNDIwLjE3NiBDIDIxOS4wMDUgNDIwLjM0MCwgMjI0LjgyMCA0MTYuMDk1LCAyMjcuMDcxIDQwNy43MzYgQyAyMjcuOTEwIDQwNC42MTksIDIyNy42OTMgMzk5LjcyNSwgMjI2LjA5MCAzODUuNjE3IEMgMjIzLjYxOSAzNjMuODgyLCAyMjEuOTk5IDMzNi45NDMsIDIyMi4wMDIgMzE3LjYzOSBDIDIyMi4wMDcgMjg2LjQyNCwgMjI1LjYxMSAyNDEuNjQ0LCAyMzEuMTQ3IDIwNCBDIDIzNi40ODEgMTY3LjczMywgMjM2LjUyMCAxNjcuMzQwLCAyMzUuMDgwIDE2NC42NTAgQyAyMzMuNzIwIDE2Mi4xMDgsIDIzMC4xMDIgMTU5Ljk4MywgMjI3LjIwMyAxNjAuMDI0IEMgMjI2LjI2NiAxNjAuMDM3LCAyMjMuMDI1IDE2MS4wODEsIDIyMCAxNjIuMzQ0IE0gNzkzLjM1NyAxNjAuOTkyIEMgNzkwLjMzOSAxNjIuMjA5LCA3ODggMTY1LjkxNCwgNzg4LjAwMSAxNjkuNDczIEMgNzg4LjAwMiAxNzEuMTM4LCA3ODguNjg1IDE3Ni4zMjUsIDc4OS41MTkgMTgxIEMgNzkyLjk3NyAyMDAuMzg3LCA3OTcuODQxIDIzNy45MzUsIDgwMC4yMDUgMjYzLjUwMCBDIDgwMS4wMTAgMjcyLjIwMywgODAxLjUwMCAyOTIuNjM1LCA4MDEuNTAwIDMxNy41MDAgQyA4MDEuNTAwIDM1MC44MzMsIDgwMS4xNjcgMzYwLjUwMCwgNzk5LjUwMCAzNzUuNTAwIEMgNzk4LjQwMCAzODUuNDAwLCA3OTcuNTAwIDM5Ny4xMzUsIDc5Ny41MDAgNDAxLjU3OCBDIDc5Ny41MDAgNDA4Ljg4NywgNzk3Ljc2NyA0MTAuMDA3LCA4MDAuMzAyIDQxMy4zMjkgQyA4MDYuMTI1IDQyMC45NjMsIDgxMi44NzggNDIxLjcyOCwgODMyLjY3NSA0MTYuOTk3IEMgODQ2LjczOSA0MTMuNjM2LCA4NTQuMTQ3IDQxMC4xNDYsIDg1Ni45MTUgNDA1LjU3NyBDIDg1Ny45NDAgNDAzLjg4NSwgODYwLjY4NSAzOTcuMzI1LCA4NjMuMDE0IDM5MSBDIDg2OC43MjcgMzc1LjQ4NywgODgwLjMzNCAzNTEuODA0LCA4ODguNDk5IDMzOSBDIDkwNS45MDEgMzExLjcxMiwgOTI5LjUzMyAyODguMzk1LCA5NTguOTM2IDI2OS41MDAgQyA5NzIuMjE3IDI2MC45NjUsIDk3NC4yNzUgMjU4LjM1NywgOTcxLjY3NiAyNTMuMzUzIEMgOTY5Ljg0NSAyNDkuODI2LCA5NjcuOTA3IDI0OC4zOTMsIDk0OS45MDAgMjM3LjI1NCBDIDkyMy4zOTQgMjIwLjg1NiwgODY0Ljk2NCAxOTAuNjIwLCA4MTcuNTAwIDE2OC43MzkgQyA3OTcuMTI3IDE1OS4zNDcsIDc5Ny4yOTYgMTU5LjQwMiwgNzkzLjM1NyAxNjAuOTkyIE0gNDUzLjMxOSAzMTkuMTAxIEMgNDQ4LjcyNiAzMjAuNDMwLCA0NDMuMjMyIDMyNy4yNjksIDQ0Mi40MjMgMzMyLjY2NCBDIDQ0MS44OTMgMzM2LjIwMSwgNDQyLjIzMCAzMzcuOTczLCA0NDQuMTQ0IDM0MS42OTEgQyA0NDkuMTg3IDM1MS40OTAsIDQ1NS4xNDQgMzUyLjI2NSwgNTIyIDM1MS44MTQgQyA1NjcuNzM1IDM1MS41MDUsIDU2OC41NjggMzUxLjQ2NCwgNTcyLjYyNCAzNDkuMjk0IEMgNTgwLjc3MyAzNDQuOTM1LCA1ODQuMzIwIDMzNy42NTgsIDU4MS45MzggMzMwLjE4OCBDIDU4MC4zNzkgMzI1LjI5OCwgNTc1LjQzMiAzMjAuMjE1LCA1NzEuMDQ0IDMxOC45OTYgQyA1NjYuNTEzIDMxNy43MzcsIDQ1Ny42OTYgMzE3LjgzNCwgNDUzLjMxOSAzMTkuMTAxIE0gNDYyIDM5OC45MTcgQyA0NTcuODc1IDM5OS4zMDUsIDQ1My4wNzcgNDAwLjM3MywgNDUxLjMzOCA0MDEuMjkxIEMgNDM5Ljk2OSA0MDcuMjkzLCA0MzkuNjE1IDQyNC4yNjgsIDQ1MC43NDkgNDI5LjU1MSBDIDQ1Ny4wNjEgNDMyLjU0NiwgNDcwLjE4MiA0MzMuMTY3LCA1MjAgNDMyLjgyOSBMIDU2OC41MDAgNDMyLjUwMCA1NzMuNTAwIDQzMCBDIDU4MC4wMTggNDI2Ljc0MSwgNTgzLjU3NSA0MjAuMzE4LCA1ODIuNTcwIDQxMy42MjAgQyA1ODEuNzM4IDQwOC4wNzMsIDU3Ni41NzUgNDAxLjg1OSwgNTcxLjMzOSA0MDAuMTAzIEMgNTY3LjAwMiAzOTguNjQ5LCA0NzUuNDM1IDM5Ny42NTYsIDQ2MiAzOTguOTE3IE0gNDk5IDUxNi42MDAgQyA0NjguNDE4IDUxOS4xOTksIDQ1NS44MjEgNTIxLjM5NSwgNDM4LjUwMCA1MjcuMTQ4IEMgNDEzLjQ3NCA1MzUuNDYxLCAzOTIuNDcyIDU0Ny42NjAsIDM3Ni4zMTUgNTYzLjI3MSBDIDM1Ny4zOTcgNTgxLjU0OSwgMzQ4IDU5OS42MDUsIDM0OCA2MTcuNjgwIEMgMzQ4IDYyNy4yNTQsIDM1NC4xMDEgNjU5LjQzOCwgMzYxLjYxNSA2ODkuNTAwIEMgMzY1LjU1MCA3MDUuMjQyLCAzNjkuMTcxIDcxMC44OTAsIDM3OC41MDAgNzE1LjgzOCBDIDM4Mi45MzkgNzE4LjE5MywgMzg0LjU2NiA3MTguNDgyLCAzOTMgNzE4LjQxOCBDIDM5OC4yMjUgNzE4LjM3OCwgNDEzLjUyNSA3MTcuMTQ0LCA0MjcgNzE1LjY3NSBDIDQ4Ny4xNzUgNzA5LjExOSwgNTQwLjAzMSA3MDkuNzg0LCA2MTkgNzE4LjA5NSBDIDYzMy4yMTkgNzE5LjU5MSwgNjM5Ljk4NyA3MTguODIxLCA2NDYuNzk4IDcxNC45MzEgQyA2NTUuMTQyIDcxMC4xNjUsIDY1OC4zNzEgNzA0LjMwMiwgNjYzLjA3OCA2ODUuMzYxIEMgNjY3LjQyNyA2NjcuODYyLCA2NzUuNDkxIDYyOC42MzMsIDY3Ni41MTggNjE5Ljk4MyBDIDY3Ny43ODYgNjA5LjI4OSwgNjczLjQ0MSA1OTQuNTY3LCA2NjUuNDMzIDU4Mi40MjkgQyA2NjAuMjE2IDU3NC41MjEsIDY0Ni4zMDYgNTYwLjE2MCwgNjM3LjI5NiA1NTMuMzc5IEMgNjEyLjU0NSA1MzQuNzUxLCA1ODAuMjczIDUyMi40OTMsIDU0NS42NDQgNTE4LjU2OCBDIDUzMS44ODQgNTE3LjAwOSwgNTA2LjY5NyA1MTUuOTQ2LCA0OTkgNTE2LjYwMCBNIDQ4Ny45MDggNTQzLjk3MSBDIDQ2Ni42OTUgNTQ2LjA0NCwgNDQxLjA2OCA1NTMuMjY1LCA0MjMuNjcwIDU2Mi4wNzAgQyA0MDIuMzExIDU3Mi44ODAsIDM4OS4wODYgNTg1LjA4MCwgMzgwLjkyNSA2MDEuNTAwIEMgMzc2LjA2NSA2MTEuMjc4LCAzNzUuMTQ5IDYxOC43MDksIDM3Ny4zNDkgNjMwLjUwMCBDIDM4Mi40NjQgNjU3LjkwNSwgMzg5LjEyOSA2ODcuNDg1LCAzOTAuNTQwIDY4OS4wNDUgQyAzOTQuMTIxIDY5My4wMDEsIDM5Ny4wMDcgNjkzLjI5NiwgNDEwLjY1NyA2OTEuMTAwIEMgNDc3Ljc0OSA2ODAuMzA4LCA1NDEuNzYwIDY4MC4zMjgsIDYxMi42NDcgNjkxLjE2NSBDIDYyOC40NTggNjkzLjU4MywgNjMxLjg5OSA2OTMuMDk5LCA2MzQuNDA0IDY4OC4xMDkgQyA2MzUuNzY2IDY4NS4zOTgsIDYzNS44NzYgNjg0LjkyOSwgNjM5LjAyMSA2NjguNTAwIEMgNjQ3Ljk0NSA2MjEuODczLCA2NDguMjgyIDYxOC43MjgsIDY0NS40MDUgNjA4LjkzMiBDIDY0Mi42NDEgNTk5LjUyNCwgNjM3Ljg5NyA1OTEuOTI5LCA2MjkuNTAwIDU4My40NzIgQyA2MTAuMjA3IDU2NC4wNDAsIDU4MS40MDYgNTUxLjAyMCwgNTQ1LjUwMCA1NDUuNTAwIEMgNTMzLjYzNSA1NDMuNjc2LCA1MDAuMDUxIDU0Mi43ODQsIDQ4Ny45MDggNTQzLjk3MSBNIDI4Ny4zMjcgNzY0LjQ1NyBDIDI4NC41MTkgNzY2LjQ1OCwgMjg0LjAyMSA3NjguMTcwLCAyNzguNDEzIDc5NS4wOTYgQyAyNzUuNTY3IDgwOC43NTcsIDI3My45NjIgODE4LjcxMCwgMjc0LjM1MyA4MjAuMjY5IEMgMjc1LjM0NyA4MjQuMjMyLCAyNzkuOTQ2IDgyOC4xODcsIDI5MC42ODMgODM0LjMxMyBDIDMyOC41NTMgODU1LjkyMCwgMzgwLjYwMSA4NzIuODM5LCA0MzQgODgwLjkwMCBDIDQ2NC4xODYgODg1LjQ1NywgNDc5LjYwOCA4ODYuNDQxLCA1MjEgODg2LjQ1NSBDIDU2MS4zMzUgODg2LjQ2OSwgNTY4LjgxNyA4ODUuOTk4LCA2MDEgODgxLjQyNSBDIDY1NS43MjUgODczLjY0OSwgNzA4LjU5MyA4NTUuNjM1LCA3NDQuMzA0IDgzMi41OTggQyA3NTMuNzAxIDgyNi41MzYsIDc1Ni40MDIgODIzLjQxNCwgNzU2LjM5NyA4MTguNjIwIEMgNzU2LjM5NSA4MTYuOTA0LCA3NTQuMTgyIDgwNC43MDAsIDc1MS40NzkgNzkxLjUwMCBDIDc0NC44OTAgNzU5LjMyNiwgNzQ1LjI5MCA3NTkuNjk0LCA3MjUuNDM1IDc2Ny41NDcgQyA2NjUuMzY2IDc5MS4zMDUsIDU4OC41MjQgODAzLjEyMywgNTAzLjUwMCA4MDEuNjgwIEMgNDI3LjQ5NCA4MDAuMzkwLCAzNjMuOTk0IDc4OS43MDMsIDMwOC42NDMgNzY4Ljg4NiBDIDI5Mi45NjIgNzYyLjk4OCwgMjkwLjE5NSA3NjIuNDEzLCAyODcuMzI3IDc2NC40NTciIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg=='; // your full base64 string here

    armors.green.forEach(pos => {
        const point = transformCoord(pos.x, pos.y);
        svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Shield}" filter="url(#green-filter)" />\n`;
    });
}
                        
// Add yellow armors with shield icon
if (showYellowArmor && armors.yellow.length > 0) {
    const base64Shield = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMwMC40NjAgMTQ4LjAxNSBDIDI5MS4wMDcgMTUwLjU1NywgMjc2LjAyNyAxNTUuODM3LCAyNzMuMjY0IDE1Ny42MDEgQyAyNzIuMDM0IDE1OC4zODYsIDI3MC4zNDggMTYwLjA2NSwgMjY5LjUxNyAxNjEuMzMzIEMgMjY3LjIwMyAxNjQuODY1LCAyNjEuMzk5IDE5OC4wNzEsIDI1Ny4wNzggMjMyLjUwMCBDIDI1MS44MzEgMjc0LjMwMiwgMjUxLjU0MyAyODAuMTA1LCAyNTEuNDI1IDM0Ni41MDAgQyAyNTEuMzE1IDQwOC40NzMsIDI1MS4yNzggNDA5LjU5MCwgMjQ5LjE2MCA0MTUuMDQ5IEMgMjQyLjkzNSA0MzEuMDkxLCAyMzAuNTYzIDQ0MC45NjAsIDIxMSA0NDUuNDg5IEMgMTk3LjIyMyA0NDguNjc5LCAxOTYuMzI3IDQ0OC45ODEsIDE5NC40MjggNDUxLjA4MCBDIDE5MS4zNTUgNDU0LjQ3NSwgMTkyLjIwMCA0NTkuNjUxLCAxOTcuNzAxIDQ3MS4xMzcgQyAyMDMuNTk5IDQ4My40NTQsIDIwOC44MDYgNDkxLjcwMSwgMjE5Ljk4NyA1MDYuNDM4IEMgMjMxLjI5OSA1MjEuMzQ4LCAyMzcuMzk0IDUzMC44NDcsIDI0Mi40ODUgNTQxLjUwMCBDIDI2My4wNjAgNTg0LjU2MiwgMjcyLjA2MSA2NDEuMjcxLCAyNjguMDI5IDcwMi40NTAgQyAyNjYuNTI4IDcyNS4yMTQsIDI2Ni41NjAgNzI1LjMyNiwgMjc2LjM5OCA3MzEuNzYzIEMgMzA3LjU2NCA3NTIuMTU3LCAzNzcuNTkxIDc3MS4zNDQsIDQ0NSA3NzcuOTYwIEMgNDk0LjE5NyA3ODIuNzg4LCA1NTUuNDc4IDc4Mi4yMDgsIDYwMyA3NzYuNDY0IEMgNjYxLjc3OCA3NjkuMzU5LCA3MTUuMjUzIDc1NC40MDYsIDc0OC4wOTcgNzM1Ljg5MSBDIDc2NC40MjcgNzI2LjY4NiwgNzY1LjEwMyA3MjUuNTE1LCA3NjMuOTAzIDcwOC41MDAgQyA3NjIuNzc1IDY5Mi41MTksIDc2Mi44NTUgNjQ1LjQ2NSwgNzY0LjAzMyA2MzEuNTAwIEMgNzY4LjQzNCA1NzkuMzMxLCA3NzkuOTA5IDU0My4xNzQsIDgwMS45NDggNTEyLjAyNiBDIDgxOS41NjIgNDg3LjEzMiwgODI4LjE3MyA0NzIuNDUxLCA4MzEuNjgyIDQ2MS4zMzQgQyA4MzMuMDU5IDQ1Ni45NzAsIDgzMy4xMTIgNDU1LjY4NCwgODMyLjAxOSA0NTMuMDQ2IEMgODMwLjQ5MyA0NDkuMzYzLCA4MjkuMDM2IDQ0OC40NzEsIDgyMyA0NDcuNTMyIEMgODAxLjg1NCA0NDQuMjM5LCA3ODUuNjUxIDQzNC45NjEsIDc3OC42ODEgNDIyLjE1NiBDIDc3My4yMDcgNDEyLjA5OCwgNzczLjA0MiA0MTAuMDIwLCA3NzMuMjQ4IDM1NCBDIDc3My40MzcgMzAyLjc2NiwgNzczLjAwMyAyOTEuNzE5LCA3NjkuNDQyIDI1NyBDIDc2Ni4zMDkgMjI2LjQ2NiwgNzU2Ljk1MiAxNjguMDYzLCA3NTQuMzAxIDE2Mi41MDUgQyA3NTMuNDM5IDE2MC42OTgsIDc1MS4xMDYgMTU4LjMxOCwgNzQ5LjExNyAxNTcuMjE3IEMgNzQ0LjQ2MiAxNTQuNjQxLCA3MjEuMjczIDE0Ny4xMzYsIDcxNS41NDMgMTQ2LjM1MSBDIDcwNy44MjUgMTQ1LjI5MywgNzA2LjYxNSAxNDYuMTExLCA2OTkuMzgwIDE1Ny4yNjcgQyA2OTEuODM3IDE2OC44OTgsIDY4Mi4yMDIgMTc4LjkxMCwgNjczLjQxNCAxODQuMjQ5IEMgNjUwLjA3NyAxOTguNDI1LCA2MTEuMjgyIDIwNS41MzEsIDU0My40NDQgMjA4LjA1NyBDIDQ5MC41MTcgMjEwLjAyNywgNDI1LjM5NiAyMDYuMjczLCAzOTIuNTUyIDE5OS4zNTggQyAzNTcuMjMzIDE5MS45MjIsIDM0MS4wMjUgMTgyLjA0MywgMzI1LjQ1MiAxNTguNDU5IEMgMzIxLjM3MyAxNTIuMjgyLCAzMTcuMzE1IDE0Ni45NTEsIDMxNi40MzYgMTQ2LjYxNCBDIDMxMy42NDQgMTQ1LjU0MiwgMzA3LjcyMiAxNDYuMDYyLCAzMDAuNDYwIDE0OC4wMTUgTSAyMjAgMTYyLjM0NCBDIDIwMC4yMTcgMTcwLjYwNiwgMTI5LjMzNCAyMDUuMzY4LCAxMDYuODAwIDIxNy44NTkgQyA4OS44MzYgMjI3LjI2MywgNTkuOTQ0IDI0NS4xMDEsIDU1LjM5NyAyNDguNTM1IEMgNTMuNjkwIDI0OS44MjQsIDUxLjcyMyAyNTIuMjU2LCA1MS4wMjUgMjUzLjkzOSBDIDQ4Ljc5OSAyNTkuMzEzLCA1MC43MjAgMjYxLjYyNiwgNjUuMDY1IDI3MC44NTMgQyAxMTAuNDA4IDMwMC4wMTYsIDEzOC40NjkgMzM0LjgyNywgMTU5LjQ5NCAzODggQyAxNjYuODgxIDQwNi42ODQsIDE2Ny4zNTIgNDA3LjU0NCwgMTcxLjc3OCA0MTAuNDYzIEMgMTc2LjMzNyA0MTMuNDcwLCAyMDIuMTgzIDQyMC4wMzIsIDIxMC4wMzIgNDIwLjE3NiBDIDIxOS4wMDUgNDIwLjM0MCwgMjI0LjgyMCA0MTYuMDk1LCAyMjcuMDcxIDQwNy43MzYgQyAyMjcuOTEwIDQwNC42MTksIDIyNy42OTMgMzk5LjcyNSwgMjI2LjA5MCAzODUuNjE3IEMgMjIzLjYxOSAzNjMuODgyLCAyMjEuOTk5IDMzNi45NDMsIDIyMi4wMDIgMzE3LjYzOSBDIDIyMi4wMDcgMjg2LjQyNCwgMjI1LjYxMSAyNDEuNjQ0LCAyMzEuMTQ3IDIwNCBDIDIzNi40ODEgMTY3LjczMywgMjM2LjUyMCAxNjcuMzQwLCAyMzUuMDgwIDE2NC42NTAgQyAyMzMuNzIwIDE2Mi4xMDgsIDIzMC4xMDIgMTU5Ljk4MywgMjI3LjIwMyAxNjAuMDI0IEMgMjI2LjI2NiAxNjAuMDM3LCAyMjMuMDI1IDE2MS4wODEsIDIyMCAxNjIuMzQ0IE0gNzkzLjM1NyAxNjAuOTkyIEMgNzkwLjMzOSAxNjIuMjA5LCA3ODggMTY1LjkxNCwgNzg4LjAwMSAxNjkuNDczIEMgNzg4LjAwMiAxNzEuMTM4LCA3ODguNjg1IDE3Ni4zMjUsIDc4OS41MTkgMTgxIEMgNzkyLjk3NyAyMDAuMzg3LCA3OTcuODQxIDIzNy45MzUsIDgwMC4yMDUgMjYzLjUwMCBDIDgwMS4wMTAgMjcyLjIwMywgODAxLjUwMCAyOTIuNjM1LCA4MDEuNTAwIDMxNy41MDAgQyA4MDEuNTAwIDM1MC44MzMsIDgwMS4xNjcgMzYwLjUwMCwgNzk5LjUwMCAzNzUuNTAwIEMgNzk4LjQwMCAzODUuNDAwLCA3OTcuNTAwIDM5Ny4xMzUsIDc5Ny41MDAgNDAxLjU3OCBDIDc5Ny41MDAgNDA4Ljg4NywgNzk3Ljc2NyA0MTAuMDA3LCA4MDAuMzAyIDQxMy4zMjkgQyA4MDYuMTI1IDQyMC45NjMsIDgxMi44NzggNDIxLjcyOCwgODMyLjY3NSA0MTYuOTk3IEMgODQ2LjczOSA0MTMuNjM2LCA4NTQuMTQ3IDQxMC4xNDYsIDg1Ni45MTUgNDA1LjU3NyBDIDg1Ny45NDAgNDAzLjg4NSwgODYwLjY4NSAzOTcuMzI1LCA4NjMuMDE0IDM5MSBDIDg2OC43MjcgMzc1LjQ4NywgODgwLjMzNCAzNTEuODA0LCA4ODguNDk5IDMzOSBDIDkwNS45MDEgMzExLjcxMiwgOTI5LjUzMyAyODguMzk1LCA5NTguOTM2IDI2OS41MDAgQyA5NzIuMjE3IDI2MC45NjUsIDk3NC4yNzUgMjU4LjM1NywgOTcxLjY3NiAyNTMuMzUzIEMgOTY5Ljg0NSAyNDkuODI2LCA5NjcuOTA3IDI0OC4zOTMsIDk0OS45MDAgMjM3LjI1NCBDIDkyMy4zOTQgMjIwLjg1NiwgODY0Ljk2NCAxOTAuNjIwLCA4MTcuNTAwIDE2OC43MzkgQyA3OTcuMTI3IDE1OS4zNDcsIDc5Ny4yOTYgMTU5LjQwMiwgNzkzLjM1NyAxNjAuOTkyIE0gNDUzLjMxOSAzMTkuMTAxIEMgNDQ4LjcyNiAzMjAuNDMwLCA0NDMuMjMyIDMyNy4yNjksIDQ0Mi40MjMgMzMyLjY2NCBDIDQ0MS44OTMgMzM2LjIwMSwgNDQyLjIzMCAzMzcuOTczLCA0NDQuMTQ0IDM0MS42OTEgQyA0NDkuMTg3IDM1MS40OTAsIDQ1NS4xNDQgMzUyLjI2NSwgNTIyIDM1MS44MTQgQyA1NjcuNzM1IDM1MS41MDUsIDU2OC41NjggMzUxLjQ2NCwgNTcyLjYyNCAzNDkuMjk0IEMgNTgwLjc3MyAzNDQuOTM1LCA1ODQuMzIwIDMzNy42NTgsIDU4MS45MzggMzMwLjE4OCBDIDU4MC4zNzkgMzI1LjI5OCwgNTc1LjQzMiAzMjAuMjE1LCA1NzEuMDQ0IDMxOC45OTYgQyA1NjYuNTEzIDMxNy43MzcsIDQ1Ny42OTYgMzE3LjgzNCwgNDUzLjMxOSAzMTkuMTAxIE0gNDYyIDM5OC45MTcgQyA0NTcuODc1IDM5OS4zMDUsIDQ1My4wNzcgNDAwLjM3MywgNDUxLjMzOCA0MDEuMjkxIEMgNDM5Ljk2OSA0MDcuMjkzLCA0MzkuNjE1IDQyNC4yNjgsIDQ1MC43NDkgNDI5LjU1MSBDIDQ1Ny4wNjEgNDMyLjU0NiwgNDcwLjE4MiA0MzMuMTY3LCA1MjAgNDMyLjgyOSBMIDU2OC41MDAgNDMyLjUwMCA1NzMuNTAwIDQzMCBDIDU4MC4wMTggNDI2Ljc0MSwgNTgzLjU3NSA0MjAuMzE4LCA1ODIuNTcwIDQxMy42MjAgQyA1ODEuNzM4IDQwOC4wNzMsIDU3Ni41NzUgNDAxLjg1OSwgNTcxLjMzOSA0MDAuMTAzIEMgNTY3LjAwMiAzOTguNjQ5LCA0NzUuNDM1IDM5Ny42NTYsIDQ2MiAzOTguOTE3IE0gNDk5IDUxNi42MDAgQyA0NjguNDE4IDUxOS4xOTksIDQ1NS44MjEgNTIxLjM5NSwgNDM4LjUwMCA1MjcuMTQ4IEMgNDEzLjQ3NCA1MzUuNDYxLCAzOTIuNDcyIDU0Ny42NjAsIDM3Ni4zMTUgNTYzLjI3MSBDIDM1Ny4zOTcgNTgxLjU0OSwgMzQ4IDU5OS42MDUsIDM0OCA2MTcuNjgwIEMgMzQ4IDYyNy4yNTQsIDM1NC4xMDEgNjU5LjQzOCwgMzYxLjYxNSA2ODkuNTAwIEMgMzY1LjU1MCA3MDUuMjQyLCAzNjkuMTcxIDcxMC44OTAsIDM3OC41MDAgNzE1LjgzOCBDIDM4Mi45MzkgNzE4LjE5MywgMzg0LjU2NiA3MTguNDgyLCAzOTMgNzE4LjQxOCBDIDM5OC4yMjUgNzE4LjM3OCwgNDEzLjUyNSA3MTcuMTQ0LCA0MjcgNzE1LjY3NSBDIDQ4Ny4xNzUgNzA5LjExOSwgNTQwLjAzMSA3MDkuNzg0LCA2MTkgNzE4LjA5NSBDIDYzMy4yMTkgNzE5LjU5MSwgNjM5Ljk4NyA3MTguODIxLCA2NDYuNzk4IDcxNC45MzEgQyA2NTUuMTQyIDcxMC4xNjUsIDY1OC4zNzEgNzA0LjMwMiwgNjYzLjA3OCA2ODUuMzYxIEMgNjY3LjQyNyA2NjcuODYyLCA2NzUuNDkxIDYyOC42MzMsIDY3Ni41MTggNjE5Ljk4MyBDIDY3Ny43ODYgNjA5LjI4OSwgNjczLjQ0MSA1OTQuNTY3LCA2NjUuNDMzIDU4Mi40MjkgQyA2NjAuMjE2IDU3NC41MjEsIDY0Ni4zMDYgNTYwLjE2MCwgNjM3LjI5NiA1NTMuMzc5IEMgNjEyLjU0NSA1MzQuNzUxLCA1ODAuMjczIDUyMi40OTMsIDU0NS42NDQgNTE4LjU2OCBDIDUzMS44ODQgNTE3LjAwOSwgNTA2LjY5NyA1MTUuOTQ2LCA0OTkgNTE2LjYwMCBNIDQ4Ny45MDggNTQzLjk3MSBDIDQ2Ni42OTUgNTQ2LjA0NCwgNDQxLjA2OCA1NTMuMjY1LCA0MjMuNjcwIDU2Mi4wNzAgQyA0MDIuMzExIDU3Mi44ODAsIDM4OS4wODYgNTg1LjA4MCwgMzgwLjkyNSA2MDEuNTAwIEMgMzc2LjA2NSA2MTEuMjc4LCAzNzUuMTQ5IDYxOC43MDksIDM3Ny4zNDkgNjMwLjUwMCBDIDM4Mi40NjQgNjU3LjkwNSwgMzg5LjEyOSA2ODcuNDg1LCAzOTAuNTQwIDY4OS4wNDUgQyAzOTQuMTIxIDY5My4wMDEsIDM5Ny4wMDcgNjkzLjI5NiwgNDEwLjY1NyA2OTEuMTAwIEMgNDc3Ljc0OSA2ODAuMzA4LCA1NDEuNzYwIDY4MC4zMjgsIDYxMi42NDcgNjkxLjE2NSBDIDYyOC40NTggNjkzLjU4MywgNjMxLjg5OSA2OTMuMDk5LCA2MzQuNDA0IDY4OC4xMDkgQyA2MzUuNzY2IDY4NS4zOTgsIDYzNS44NzYgNjg0LjkyOSwgNjM5LjAyMSA2NjguNTAwIEMgNjQ3Ljk0NSA2MjEuODczLCA2NDguMjgyIDYxOC43MjgsIDY0NS40MDUgNjA4LjkzMiBDIDY0Mi42NDEgNTk5LjUyNCwgNjM3Ljg5NyA1OTEuOTI5LCA2MjkuNTAwIDU4My40NzIgQyA2MTAuMjA3IDU2NC4wNDAsIDU4MS40MDYgNTUxLjAyMCwgNTQ1LjUwMCA1NDUuNTAwIEMgNTMzLjYzNSA1NDMuNjc2LCA1MDAuMDUxIDU0Mi43ODQsIDQ4Ny45MDggNTQzLjk3MSBNIDI4Ny4zMjcgNzY0LjQ1NyBDIDI4NC41MTkgNzY2LjQ1OCwgMjg0LjAyMSA3NjguMTcwLCAyNzguNDEzIDc5NS4wOTYgQyAyNzUuNTY3IDgwOC43NTcsIDI3My45NjIgODE4LjcxMCwgMjc0LjM1MyA4MjAuMjY5IEMgMjc1LjM0NyA4MjQuMjMyLCAyNzkuOTQ2IDgyOC4xODcsIDI5MC42ODMgODM0LjMxMyBDIDMyOC41NTMgODU1LjkyMCwgMzgwLjYwMSA4NzIuODM5LCA0MzQgODgwLjkwMCBDIDQ2NC4xODYgODg1LjQ1NywgNDc5LjYwOCA4ODYuNDQxLCA1MjEgODg2LjQ1NSBDIDU2MS4zMzUgODg2LjQ2OSwgNTY4LjgxNyA4ODUuOTk4LCA2MDEgODgxLjQyNSBDIDY1NS43MjUgODczLjY0OSwgNzA4LjU5MyA4NTUuNjM1LCA3NDQuMzA0IDgzMi41OTggQyA3NTMuNzAxIDgyNi41MzYsIDc1Ni40MDIgODIzLjQxNCwgNzU2LjM5NyA4MTguNjIwIEMgNzU2LjM5NSA4MTYuOTA0LCA3NTQuMTgyIDgwNC43MDAsIDc1MS40NzkgNzkxLjUwMCBDIDc0NC44OTAgNzU5LjMyNiwgNzQ1LjI5MCA3NTkuNjk0LCA3MjUuNDM1IDc2Ny41NDcgQyA2NjUuMzY2IDc5MS4zMDUsIDU4OC41MjQgODAzLjEyMywgNTAzLjUwMCA4MDEuNjgwIEMgNDI3LjQ5NCA4MDAuMzkwLCAzNjMuOTk0IDc4OS43MDMsIDMwOC42NDMgNzY4Ljg4NiBDIDI5Mi45NjIgNzYyLjk4OCwgMjkwLjE5NSA3NjIuNDEzLCAyODcuMzI3IDc2NC40NTciIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg=='; // your base64-encoded SVG

    armors.yellow.forEach(pos => {
        const point = transformCoord(pos.x - 8, pos.y - 8);
        svg += `<image x="${point.x}" y="${point.y}" width="16" height="16" href="${base64Shield}" filter="url(#yellow-filter)" />\n`;
    });
}
                        
// Add red armors with shield icon
if (showRedArmor && armors.red.length > 0) {
    console.log(`Drawing ${armors.red.length} red armors`);
    const base64Shield = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMwMC40NjAgMTQ4LjAxNSBDIDI5MS4wMDcgMTUwLjU1NywgMjc2LjAyNyAxNTUuODM3LCAyNzMuMjY0IDE1Ny42MDEgQyAyNzIuMDM0IDE1OC4zODYsIDI3MC4zNDggMTYwLjA2NSwgMjY5LjUxNyAxNjEuMzMzIEMgMjY3LjIwMyAxNjQuODY1LCAyNjEuMzk5IDE5OC4wNzEsIDI1Ny4wNzggMjMyLjUwMCBDIDI1MS44MzEgMjc0LjMwMiwgMjUxLjU0MyAyODAuMTA1LCAyNTEuNDI1IDM0Ni41MDAgQyAyNTEuMzE1IDQwOC40NzMsIDI1MS4yNzggNDA5LjU5MCwgMjQ5LjE2MCA0MTUuMDQ5IEMgMjQyLjkzNSA0MzEuMDkxLCAyMzAuNTYzIDQ0MC45NjAsIDIxMSA0NDUuNDg5IEMgMTk3LjIyMyA0NDguNjc5LCAxOTYuMzI3IDQ0OC45ODEsIDE5NC40MjggNDUxLjA4MCBDIDE5MS4zNTUgNDU0LjQ3NSwgMTkyLjIwMCA0NTkuNjUxLCAxOTcuNzAxIDQ3MS4xMzcgQyAyMDMuNTk5IDQ4My40NTQsIDIwOC44MDYgNDkxLjcwMSwgMjE5Ljk4NyA1MDYuNDM4IEMgMjMxLjI5OSA1MjEuMzQ4LCAyMzcuMzk0IDUzMC44NDcsIDI0Mi40ODUgNTQxLjUwMCBDIDI2My4wNjAgNTg0LjU2MiwgMjcyLjA2MSA2NDEuMjcxLCAyNjguMDI5IDcwMi40NTAgQyAyNjYuNTI4IDcyNS4yMTQsIDI2Ni41NjAgNzI1LjMyNiwgMjc2LjM5OCA3MzEuNzYzIEMgMzA3LjU2NCA3NTIuMTU3LCAzNzcuNTkxIDc3MS4zNDQsIDQ0NSA3NzcuOTYwIEMgNDk0LjE5NyA3ODIuNzg4LCA1NTUuNDc4IDc4Mi4yMDgsIDYwMyA3NzYuNDY0IEMgNjYxLjc3OCA3NjkuMzU5LCA3MTUuMjUzIDc1NC40MDYsIDc0OC4wOTcgNzM1Ljg5MSBDIDc2NC40MjcgNzI2LjY4NiwgNzY1LjEwMyA3MjUuNTE1LCA3NjMuOTAzIDcwOC41MDAgQyA3NjIuNzc1IDY5Mi41MTksIDc2Mi44NTUgNjQ1LjQ2NSwgNzY0LjAzMyA2MzEuNTAwIEMgNzY4LjQzNCA1NzkuMzMxLCA3NzkuOTA5IDU0My4xNzQsIDgwMS45NDggNTEyLjAyNiBDIDgxOS41NjIgNDg3LjEzMiwgODI4LjE3MyA0NzIuNDUxLCA4MzEuNjgyIDQ2MS4zMzQgQyA4MzMuMDU5IDQ1Ni45NzAsIDgzMy4xMTIgNDU1LjY4NCwgODMyLjAxOSA0NTMuMDQ2IEMgODMwLjQ5MyA0NDkuMzYzLCA4MjkuMDM2IDQ0OC40NzEsIDgyMyA0NDcuNTMyIEMgODAxLjg1NCA0NDQuMjM5LCA3ODUuNjUxIDQzNC45NjEsIDc3OC42ODEgNDIyLjE1NiBDIDc3My4yMDcgNDEyLjA5OCwgNzczLjA0MiA0MTAuMDIwLCA3NzMuMjQ4IDM1NCBDIDc3My40MzcgMzAyLjc2NiwgNzczLjAwMyAyOTEuNzE5LCA3NjkuNDQyIDI1NyBDIDc2Ni4zMDkgMjI2LjQ2NiwgNzU2Ljk1MiAxNjguMDYzLCA3NTQuMzAxIDE2Mi41MDUgQyA3NTMuNDM5IDE2MC42OTgsIDc1MS4xMDYgMTU4LjMxOCwgNzQ5LjExNyAxNTcuMjE3IEMgNzQ0LjQ2MiAxNTQuNjQxLCA3MjEuMjczIDE0Ny4xMzYsIDcxNS41NDMgMTQ2LjM1MSBDIDcwNy44MjUgMTQ1LjI5MywgNzA2LjYxNSAxNDYuMTExLCA2OTkuMzgwIDE1Ny4yNjcgQyA2OTEuODM3IDE2OC44OTgsIDY4Mi4yMDIgMTc4LjkxMCwgNjczLjQxNCAxODQuMjQ5IEMgNjUwLjA3NyAxOTguNDI1LCA2MTEuMjgyIDIwNS41MzEsIDU0My40NDQgMjA4LjA1NyBDIDQ5MC41MTcgMjEwLjAyNywgNDI1LjM5NiAyMDYuMjczLCAzOTIuNTUyIDE5OS4zNTggQyAzNTcuMjMzIDE5MS45MjIsIDM0MS4wMjUgMTgyLjA0MywgMzI1LjQ1MiAxNTguNDU5IEMgMzIxLjM3MyAxNTIuMjgyLCAzMTcuMzE1IDE0Ni45NTEsIDMxNi40MzYgMTQ2LjYxNCBDIDMxMy42NDQgMTQ1LjU0MiwgMzA3LjcyMiAxNDYuMDYyLCAzMDAuNDYwIDE0OC4wMTUgTSAyMjAgMTYyLjM0NCBDIDIwMC4yMTcgMTcwLjYwNiwgMTI5LjMzNCAyMDUuMzY4LCAxMDYuODAwIDIxNy44NTkgQyA4OS44MzYgMjI3LjI2MywgNTkuOTQ0IDI0NS4xMDEsIDU1LjM5NyAyNDguNTM1IEMgNTMuNjkwIDI0OS44MjQsIDUxLjcyMyAyNTIuMjU2LCA1MS4wMjUgMjUzLjkzOSBDIDQ4Ljc5OSAyNTkuMzEzLCA1MC43MjAgMjYxLjYyNiwgNjUuMDY1IDI3MC44NTMgQyAxMTAuNDA4IDMwMC4wMTYsIDEzOC40NjkgMzM0LjgyNywgMTU5LjQ5NCAzODggQyAxNjYuODgxIDQwNi42ODQsIDE2Ny4zNTIgNDA3LjU0NCwgMTcxLjc3OCA0MTAuNDYzIEMgMTc2LjMzNyA0MTMuNDcwLCAyMDIuMTgzIDQyMC4wMzIsIDIxMC4wMzIgNDIwLjE3NiBDIDIxOS4wMDUgNDIwLjM0MCwgMjI0LjgyMCA0MTYuMDk1LCAyMjcuMDcxIDQwNy43MzYgQyAyMjcuOTEwIDQwNC42MTksIDIyNy42OTMgMzk5LjcyNSwgMjI2LjA5MCAzODUuNjE3IEMgMjIzLjYxOSAzNjMuODgyLCAyMjEuOTk5IDMzNi45NDMsIDIyMi4wMDIgMzE3LjYzOSBDIDIyMi4wMDcgMjg2LjQyNCwgMjI1LjYxMSAyNDEuNjQ0LCAyMzEuMTQ3IDIwNCBDIDIzNi40ODEgMTY3LjczMywgMjM2LjUyMCAxNjcuMzQwLCAyMzUuMDgwIDE2NC42NTAgQyAyMzMuNzIwIDE2Mi4xMDgsIDIzMC4xMDIgMTU5Ljk4MywgMjI3LjIwMyAxNjAuMDI0IEMgMjI2LjI2NiAxNjAuMDM3LCAyMjMuMDI1IDE2MS4wODEsIDIyMCAxNjIuMzQ0IE0gNzkzLjM1NyAxNjAuOTkyIEMgNzkwLjMzOSAxNjIuMjA5LCA3ODggMTY1LjkxNCwgNzg4LjAwMSAxNjkuNDczIEMgNzg4LjAwMiAxNzEuMTM4LCA3ODguNjg1IDE3Ni4zMjUsIDc4OS41MTkgMTgxIEMgNzkyLjk3NyAyMDAuMzg3LCA3OTcuODQxIDIzNy45MzUsIDgwMC4yMDUgMjYzLjUwMCBDIDgwMS4wMTAgMjcyLjIwMywgODAxLjUwMCAyOTIuNjM1LCA4MDEuNTAwIDMxNy41MDAgQyA4MDEuNTAwIDM1MC44MzMsIDgwMS4xNjcgMzYwLjUwMCwgNzk5LjUwMCAzNzUuNTAwIEMgNzk4LjQwMCAzODUuNDAwLCA3OTcuNTAwIDM5Ny4xMzUsIDc5Ny41MDAgNDAxLjU3OCBDIDc5Ny41MDAgNDA4Ljg4NywgNzk3Ljc2NyA0MTAuMDA3LCA4MDAuMzAyIDQxMy4zMjkgQyA4MDYuMTI1IDQyMC45NjMsIDgxMi44NzggNDIxLjcyOCwgODMyLjY3NSA0MTYuOTk3IEMgODQ2LjczOSA0MTMuNjM2LCA4NTQuMTQ3IDQxMC4xNDYsIDg1Ni45MTUgNDA1LjU3NyBDIDg1Ny45NDAgNDAzLjg4NSwgODYwLjY4NSAzOTcuMzI1LCA4NjMuMDE0IDM5MSBDIDg2OC43MjcgMzc1LjQ4NywgODgwLjMzNCAzNTEuODA0LCA4ODguNDk5IDMzOSBDIDkwNS45MDEgMzExLjcxMiwgOTI5LjUzMyAyODguMzk1LCA5NTguOTM2IDI2OS41MDAgQyA5NzIuMjE3IDI2MC45NjUsIDk3NC4yNzUgMjU4LjM1NywgOTcxLjY3NiAyNTMuMzUzIEMgOTY5Ljg0NSAyNDkuODI2LCA5NjcuOTA3IDI0OC4zOTMsIDk0OS45MDAgMjM3LjI1NCBDIDkyMy4zOTQgMjIwLjg1NiwgODY0Ljk2NCAxOTAuNjIwLCA4MTcuNTAwIDE2OC43MzkgQyA3OTcuMTI3IDE1OS4zNDcsIDc5Ny4yOTYgMTU5LjQwMiwgNzkzLjM1NyAxNjAuOTkyIE0gNDUzLjMxOSAzMTkuMTAxIEMgNDQ4LjcyNiAzMjAuNDMwLCA0NDMuMjMyIDMyNy4yNjksIDQ0Mi40MjMgMzMyLjY2NCBDIDQ0MS44OTMgMzM2LjIwMSwgNDQyLjIzMCAzMzcuOTczLCA0NDQuMTQ0IDM0MS42OTEgQyA0NDkuMTg3IDM1MS40OTAsIDQ1NS4xNDQgMzUyLjI2NSwgNTIyIDM1MS44MTQgQyA1NjcuNzM1IDM1MS41MDUsIDU2OC41NjggMzUxLjQ2NCwgNTcyLjYyNCAzNDkuMjk0IEMgNTgwLjc3MyAzNDQuOTM1LCA1ODQuMzIwIDMzNy42NTgsIDU4MS45MzggMzMwLjE4OCBDIDU4MC4zNzkgMzI1LjI5OCwgNTc1LjQzMiAzMjAuMjE1LCA1NzEuMDQ0IDMxOC45OTYgQyA1NjYuNTEzIDMxNy43MzcsIDQ1Ny42OTYgMzE3LjgzNCwgNDUzLjMxOSAzMTkuMTAxIE0gNDYyIDM5OC45MTcgQyA0NTcuODc1IDM5OS4zMDUsIDQ1My4wNzcgNDAwLjM3MywgNDUxLjMzOCA0MDEuMjkxIEMgNDM5Ljk2OSA0MDcuMjkzLCA0MzkuNjE1IDQyNC4yNjgsIDQ1MC43NDkgNDI5LjU1MSBDIDQ1Ny4wNjEgNDMyLjU0NiwgNDcwLjE4MiA0MzMuMTY3LCA1MjAgNDMyLjgyOSBMIDU2OC41MDAgNDMyLjUwMCA1NzMuNTAwIDQzMCBDIDU4MC4wMTggNDI2Ljc0MSwgNTgzLjU3NSA0MjAuMzE4LCA1ODIuNTcwIDQxMy42MjAgQyA1ODEuNzM4IDQwOC4wNzMsIDU3Ni41NzUgNDAxLjg1OSwgNTcxLjMzOSA0MDAuMTAzIEMgNTY3LjAwMiAzOTguNjQ5LCA0NzUuNDM1IDM5Ny42NTYsIDQ2MiAzOTguOTE3IE0gNDk5IDUxNi42MDAgQyA0NjguNDE4IDUxOS4xOTksIDQ1NS44MjEgNTIxLjM5NSwgNDM4LjUwMCA1MjcuMTQ4IEMgNDEzLjQ3NCA1MzUuNDYxLCAzOTIuNDcyIDU0Ny42NjAsIDM3Ni4zMTUgNTYzLjI3MSBDIDM1Ny4zOTcgNTgxLjU0OSwgMzQ4IDU5OS42MDUsIDM0OCA2MTcuNjgwIEMgMzQ4IDYyNy4yNTQsIDM1NC4xMDEgNjU5LjQzOCwgMzYxLjYxNSA2ODkuNTAwIEMgMzY1LjU1MCA3MDUuMjQyLCAzNjkuMTcxIDcxMC44OTAsIDM3OC41MDAgNzE1LjgzOCBDIDM4Mi45MzkgNzE4LjE5MywgMzg0LjU2NiA3MTguNDgyLCAzOTMgNzE4LjQxOCBDIDM5OC4yMjUgNzE4LjM3OCwgNDEzLjUyNSA3MTcuMTQ0LCA0MjcgNzE1LjY3NSBDIDQ4Ny4xNzUgNzA5LjExOSwgNTQwLjAzMSA3MDkuNzg0LCA2MTkgNzE4LjA5NSBDIDYzMy4yMTkgNzE5LjU5MSwgNjM5Ljk4NyA3MTguODIxLCA2NDYuNzk4IDcxNC45MzEgQyA2NTUuMTQyIDcxMC4xNjUsIDY1OC4zNzEgNzA0LjMwMiwgNjYzLjA3OCA2ODUuMzYxIEMgNjY3LjQyNyA2NjcuODYyLCA2NzUuNDkxIDYyOC42MzMsIDY3Ni41MTggNjE5Ljk4MyBDIDY3Ny43ODYgNjA5LjI4OSwgNjczLjQ0MSA1OTQuNTY3LCA2NjUuNDMzIDU4Mi40MjkgQyA2NjAuMjE2IDU3NC41MjEsIDY0Ni4zMDYgNTYwLjE2MCwgNjM3LjI5NiA1NTMuMzc5IEMgNjEyLjU0NSA1MzQuNzUxLCA1ODAuMjczIDUyMi40OTMsIDU0NS42NDQgNTE4LjU2OCBDIDUzMS44ODQgNTE3LjAwOSwgNTA2LjY5NyA1MTUuOTQ2LCA0OTkgNTE2LjYwMCBNIDQ4Ny45MDggNTQzLjk3MSBDIDQ2Ni42OTUgNTQ2LjA0NCwgNDQxLjA2OCA1NTMuMjY1LCA0MjMuNjcwIDU2Mi4wNzAgQyA0MDIuMzExIDU3Mi44ODAsIDM4OS4wODYgNTg1LjA4MCwgMzgwLjkyNSA2MDEuNTAwIEMgMzc2LjA2NSA2MTEuMjc4LCAzNzUuMTQ5IDYxOC43MDksIDM3Ny4zNDkgNjMwLjUwMCBDIDM4Mi40NjQgNjU3LjkwNSwgMzg5LjEyOSA2ODcuNDg1LCAzOTAuNTQwIDY4OS4wNDUgQyAzOTQuMTIxIDY5My4wMDEsIDM5Ny4wMDcgNjkzLjI5NiwgNDEwLjY1NyA2OTEuMTAwIEMgNDc3Ljc0OSA2ODAuMzA4LCA1NDEuNzYwIDY4MC4zMjgsIDYxMi42NDcgNjkxLjE2NSBDIDYyOC40NTggNjkzLjU4MywgNjMxLjg5OSA2OTMuMDk5LCA2MzQuNDA0IDY4OC4xMDkgQyA2MzUuNzY2IDY4NS4zOTgsIDYzNS44NzYgNjg0LjkyOSwgNjM5LjAyMSA2NjguNTAwIEMgNjQ3Ljk0NSA2MjEuODczLCA2NDguMjgyIDYxOC43MjgsIDY0NS40MDUgNjA4LjkzMiBDIDY0Mi42NDEgNTk5LjUyNCwgNjM3Ljg5NyA1OTEuOTI5LCA2MjkuNTAwIDU4My40NzIgQyA2MTAuMjA3IDU2NC4wNDAsIDU4MS40MDYgNTUxLjAyMCwgNTQ1LjUwMCA1NDUuNTAwIEMgNTMzLjYzNSA1NDMuNjc2LCA1MDAuMDUxIDU0Mi43ODQsIDQ4Ny45MDggNTQzLjk3MSBNIDI4Ny4zMjcgNzY0LjQ1NyBDIDI4NC41MTkgNzY2LjQ1OCwgMjg0LjAyMSA3NjguMTcwLCAyNzguNDEzIDc5NS4wOTYgQyAyNzUuNTY3IDgwOC43NTcsIDI3My45NjIgODE4LjcxMCwgMjc0LjM1MyA4MjAuMjY5IEMgMjc1LjM0NyA4MjQuMjMyLCAyNzkuOTQ2IDgyOC4xODcsIDI5MC42ODMgODM0LjMxMyBDIDMyOC41NTMgODU1LjkyMCwgMzgwLjYwMSA4NzIuODM5LCA0MzQgODgwLjkwMCBDIDQ2NC4xODYgODg1LjQ1NywgNDc5LjYwOCA4ODYuNDQxLCA1MjEgODg2LjQ1NSBDIDU2MS4zMzUgODg2LjQ2OSwgNTY4LjgxNyA4ODUuOTk4LCA2MDEgODgxLjQyNSBDIDY1NS43MjUgODczLjY0OSwgNzA4LjU5MyA4NTUuNjM1LCA3NDQuMzA0IDgzMi41OTggQyA3NTMuNzAxIDgyNi41MzYsIDc1Ni40MDIgODIzLjQxNCwgNzU2LjM5NyA4MTguNjIwIEMgNzU2LjM5NSA4MTYuOTA0LCA3NTQuMTgyIDgwNC43MDAsIDc1MS40NzkgNzkxLjUwMCBDIDc0NC44OTAgNzU5LjMyNiwgNzQ1LjI5MCA3NTkuNjk0LCA3MjUuNDM1IDc2Ny41NDcgQyA2NjUuMzY2IDc5MS4zMDUsIDU4OC41MjQgODAzLjEyMywgNTAzLjUwMCA4MDEuNjgwIEMgNDI3LjQ5NCA4MDAuMzkwLCAzNjMuOTk0IDc4OS43MDMsIDMwOC42NDMgNzY4Ljg4NiBDIDI5Mi45NjIgNzYyLjk4OCwgMjkwLjE5NSA3NjIuNDEzLCAyODcuMzI3IDc2NC40NTciIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg=='; // same base64 as before

    armors.red.forEach(pos => {
        const point = transformCoord(pos.x, pos.y);
        svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Shield}" filter="url(#red-filter)" />\n`;
    });
}
                        
                        // Add mega health with plus-square icon
                        if (showMegaHealth) {
    const megaHealthPositions = findMegaHealth(entities);
    console.log(`Drawing ${megaHealthPositions.length} mega health packs`);
    
    // Base64-encoded image (example: 16x16 red dot PNG)
    const base64Image = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDMxLjM1NyAzMS4zNTciDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0xNS42NzksMEM3LjAzMywwLDAuMDAxLDcuMDMzLDAuMDAxLDE1LjY3OGMwLDguNjQ2LDcuMDMyLDE1LjY4LDE1LjY3OCwxNS42OGM4LjY0NCwwLDE1LjY3Ny03LjAzMywxNS42NzctMTUuNjgNCgkJCUMzMS4zNTYsNy4wMzMsMjQuMzIzLDAsMTUuNjc5LDB6IE0xNS42NzksMjguODYxYy03LjI3LDAtMTMuMTgzLTUuOTEzLTEzLjE4My0xMy4xODRjMC03LjI2OCw1LjkxMy0xMy4xODMsMTMuMTgzLTEzLjE4Mw0KCQkJYzcuMjY5LDAsMTMuMTgyLDUuOTE1LDEzLjE4MiwxMy4xODNDMjguODYxLDIyLjk0OCwyMi45NDgsMjguODYxLDE1LjY3OSwyOC44NjF6Ii8+DQoJCTxwYXRoIGQ9Ik0xOS4yNDMsMTIuMzY4VjcuMzNjMC0wLjg2OC0wLjcwMy0xLjU3LTEuNTctMS41N2gtMy4zOTZjLTAuODY3LDAtMS41NjksMC43MDMtMS41NjksMS41N3Y1LjAzOGgtNS4wNA0KCQkJYy0wLjg2NywwLTEuNTY5LDAuNzAzLTEuNTY5LDEuNTd2My40NjhjMCwwLjg2NywwLjcwMiwxLjU3LDEuNTY5LDEuNTdoNS4wMzl2NS4wMzdjMCwwLjg2NywwLjcwMiwxLjU3LDEuNTY5LDEuNTdoMy4zOTcNCgkJCWMwLjg2NiwwLDEuNTY5LTAuNzAzLDEuNTY5LTEuNTd2LTUuMDM3aDUuMDM4YzAuODY3LDAsMS41Ny0wLjcwMywxLjU3LTEuNTd2LTMuNDY4YzAtMC44NjgtMC43MDMtMS41Ny0xLjU3LTEuNTdIMTkuMjQzeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg==';

    megaHealthPositions.forEach(pos => {
        const point = transformCoord(pos.x, pos.y);
        svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Image}" filter="url(#red-filter)" />\n`;
    });
}

                    }
                    
                    const base64Quad = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSI+Cgk8cGF0aCBkPSJNIDMyMy45MTEgODUuMDE2IEMgMjk2LjcwNSAxMDIuMDM3LCAyMzcuNzk5IDE0MC41MDEsIDIzNS4xMTMgMTQzIEMgMjMxLjUwNiAxNDYuMzU0LCAyMzMuNDQyIDE0MS44MDQsIDE0Ny41MDcgMzQ4LjkzOSBDIDEzOS4yNzMgMzY4Ljc4NiwgMTM3Ljg1NCAzNzMuMDAxLCAxMzguMjQ3IDM3Ni40MzkgQyAxMzguNjI2IDM3OS43NTgsIDE2OS44MjcgNDU1LjYwOCwgMjIxLjk4MyA1ODAgQyAyMzQuNTY3IDYxMC4wMTQsIDIzNS4zOTUgNjExLjYzNiwgMjM5LjEwOSA2MTMuNTU2IEMgMjQwLjkyNiA2MTQuNDk2LCAyNzYuNDA3IDYyNi42MzgsIDMxNy45NTYgNjQwLjU0MCBDIDQzMy4xMjAgNjc5LjA3MiwgNDcwLjE3NCA2OTEuODQ4LCA0NzIuMjcxIDY5My43NDUgQyA0NzUuNTgwIDY5Ni43NDAsIDQ3NS45OTQgNjk4LjUyMSwgNDc3LjAyMyA3MTQuMjAyIEMgNDc5LjUyNCA3NTIuMjgwLCA0ODkuMDM1IDgxOS41MDksIDUwNS4wMDcgOTEyLjAwNCBDIDUxMi4xMDIgOTUzLjA5NCwgNTExLjI0MCA5NTAuNjM4LCA1MTMuNzg4IDkzNyBDIDUxOS40NTkgOTA2LjY0OSwgNTI4LjczNiA4NTEuOTY3LCA1MzUuNDE5IDgwOS41MDAgQyA1NDEuMjQxIDc3Mi41MDgsIDU0Ni45OTEgNzIzLjQwMywgNTQ3LjAwNiA3MTAuNTYzIEMgNTQ3LjAxMyA3MDQuMTE3LCA1NDguNDk3IDY5OC43NjYsIDU1MC44NzMgNjk2LjYxNSBDIDU1MS44OTggNjk1LjY4OCwgNTcyLjcwOCA2ODguMTY3LCA1OTcuMTE4IDY3OS45MDEgQyA2ODMuMDcyIDY1MC43OTcsIDcwMi44MzIgNjQ0LjA3OCwgNzM4IDYzMS45OTcgQyA3ODQuNjQ4IDYxNS45NzMsIDc4OC40MDggNjE0LjQ5MywgNzkxLjM2MSA2MTAuOTgzIEMgNzkyLjcwNCA2MDkuMzg2LCA3OTkuMjA5IDU5NC40NDksIDgwNS44MTYgNTc3Ljc5MCBDIDgxMi40MjQgNTYxLjEzMCwgODI2LjIzMCA1MjYuMzUwLCA4MzYuNDk4IDUwMC41MDAgQyA4NzkuNDc1IDM5Mi4yOTgsIDg4NSAzNzguMTI4LCA4ODUgMzc2LjA5NCBDIDg4NSAzNzQuOTIxLCA4ODAuNTQ1IDM2My41MDcsIDg3NS4wOTkgMzUwLjczMCBDIDg0OS4xNjAgMjg5Ljg2OSwgNzkxLjgzNyAxNTYuNjYxLCA3ODkuMDIwIDE1MC42OTggQyA3ODUuMjM4IDE0Mi42OTQsIDc4OS44NjcgMTQ2LjAyNiwgNzM1IDExMS44MTkgQyA2ODUuMjM1IDgwLjc5NCwgNjc3LjA3OSA3NiwgNjc0LjA2MiA3NiBDIDY3MS44ODEgNzYsIDY0OCA4OS43MjksIDY0OCA5MC45ODMgQyA2NDggOTEuMzI4LCA2NTcuNTYzIDk4Ljk5OCwgNjY5LjI1MCAxMDguMDI2IEMgNzAxLjUwNyAxMzIuOTQzLCA3NDEuMjY5IDE2NC40OTUsIDc0My4zODMgMTY2Ljg1MiBDIDc0NS4xMTkgMTY4Ljc4OCwgNzUwLjM2OCAxODQuMzU4LCA3NjMuMTUxIDIyNS41MDAgQyA3NzQuMDE1IDI2MC40NjIsIDgwMC45NTEgMzQ3LjkzNiwgODAzLjAxNiAzNTQuOTYwIEMgODA2Ljg0OCAzNjcuOTkyLCA4MDYuNjkwIDM2OC41MzQsIDc4Ni45MzYgNDEwIEMgNzY0LjUxNyA0NTcuMDYxLCA3MjQuMzIzIDUzNy45NTksIDcyMi4xNzAgNTQwLjM1MiBDIDcxOS4zMTEgNTQzLjUzMiwgNzE2LjA5NiA1NDQuNjYwLCA2OTAuNDQ4IDU1MS40ODEgQyA2NzYuNzI3IDU1NS4xMzAsIDY1NC43MDAgNTYwLjk5MSwgNjQxLjUwMCA1NjQuNTA0IEMgNTgxLjE0MiA1ODAuNTY4LCA1NTYuMDY3IDU4NywgNTUzLjgwMCA1ODcgQyA1NTIuNDUyIDU4NywgNTUwLjMzNyA1ODUuOTIzLCA1NDkuMTAxIDU4NC42MDggTCA1NDYuODUzIDU4Mi4yMTUgNTQ3LjIxMSA1MzEuMzU4IEMgNTQ3LjQ1OSA0OTYuMDEyLCA1NDcuOTE4IDQ3OS42OTYsIDU0OC43MTYgNDc3Ljg2NSBDIDU0OS4zNDcgNDc2LjQxNSwgNTUxLjM1NyA0NzMuODIwLCA1NTMuMTgyIDQ3Mi4wOTggQyA1NTYuMjQ3IDQ2OS4yMDUsIDU5Mi4yOTkgNDQ1LjU5MCwgNTk1LjU2MCA0NDQuMzM5IEMgNTk2LjM1MiA0NDQuMDM1LCA1OTcgNDQzLjM3NSwgNTk3IDQ0Mi44NzIgQyA1OTcgNDQyLjMyNywgNTYyLjMwNyA0NDEuOTg0LCA1MTEgNDQyLjAyMiBDIDQ2My43MDAgNDQyLjA1NywgNDI1IDQ0Mi40NTcsIDQyNSA0NDIuOTEwIEMgNDI1IDQ0My4zNjMsIDQzMi43NjIgNDQ4LjU4NiwgNDQyLjI1MCA0NTQuNTE2IEMgNDY3LjE3MyA0NzAuMDk0LCA0NzEuOTQxIDQ3My42MjksIDQ3My43NTYgNDc3Ljg3NCBDIDQ3NS45NTcgNDgzLjAyMSwgNDc3LjgxMiA1NzguNTI2LCA0NzUuNzkzIDU4Mi43NTggQyA0NzMuMTk1IDU4OC4yMDYsIDQ3OC4wMjggNTg5LjIyMSwgMzc0LjUwMCA1NjEuNDc4IEMgMzQ2LjQ1MCA1NTMuOTYxLCAzMjEuMTAxIDU0Ny4xNzQsIDMxOC4xNjggNTQ2LjM5NyBDIDMwOS4wNjMgNTQzLjk4MiwgMzA3LjI4OSA1NDIuMzY4LCAzMDEuMjUyIDUzMSBDIDI5OS4wNjIgNTI2Ljg3NSwgMjg5Ljg0OCA1MDkuNTUwLCAyODAuNzc3IDQ5Mi41MDAgQyAyNjAuNTA0IDQ1NC4zOTMsIDIzOS4yMzQgNDEzLjQ2NSwgMjI3LjEyNSAzODkuMjYxIEMgMjE5LjM4MiAzNzMuNzg0LCAyMTggMzcwLjI4NiwgMjE4IDM2Ni4xNjUgQyAyMTggMzYzLjEyNiwgMjIwLjYzNiAzNTIuMTgyLCAyMjUuMDQ3IDMzNi45MDUgQyAyNjEuMTE2IDIxMS45OTksIDI3MS41NzEgMTc2LjQ4MywgMjczLjY5MCAxNzEuNjY5IEMgMjc0LjYyMiAxNjkuNTUyLCAyNzguMDg5IDE2NS40OTAsIDI4MS40MzggMTYyLjU4OSBDIDI4OC44NTYgMTU2LjE2NiwgMzQ4LjE0MiAxMDguMDYyLCAzNjAuMjk5IDk4LjYwNCBDIDM2OC4xODUgOTIuNDY3LCAzNjguOTEyIDkxLjYzMiwgMzY3LjI5OSA5MC41NDcgQyAzNTguNjI2IDg0LjcxNCwgMzQyLjczMyA3NiwgMzQwLjc2NyA3NiBDIDMzOS40MjEgNzYsIDMzMS44NDggODAuMDUwLCAzMjMuOTExIDg1LjAxNiIgc3Ryb2tlPSJub25lIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+';  // shortened example
const base64Ring = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDIiIGhlaWdodD0iNTI2IiB2aWV3Qm94PSIwIDAgNzAyIDUyNiIgdmVyc2lvbj0iMS4xIj4KCTxwYXRoIGQ9Ik0gMzAyIDIuNTExIEMgMjc0Ljc0NSA0Ljc4MCwgMjUzLjUwNSA3LjUzOCwgMjM2IDExLjA4MCBDIDIzMy41MjUgMTEuNTgxLCAyMjguODAwIDEyLjQzMSwgMjI1LjUwMCAxMi45NjkgQyAyMjAuMTYzIDEzLjgzOSwgMTk5Ljg4NyAxOC44OTQsIDE4My42NzggMjMuMzk1IEMgMTc2LjA4MyAyNS41MDQsIDE1Ny4zMzEgMzEuNzc5LCAxNTMuNTAwIDMzLjQ5MyBDIDE1MS44NTAgMzQuMjMxLCAxNDcuNjU3IDM1LjgxMiwgMTQ0LjE4MiAzNy4wMDcgQyAxNDAuNzA2IDM4LjIwMiwgMTM1LjM3MyA0MC40ODksIDEzMi4zMzAgNDIuMDg5IEMgMTI5LjI4NyA0My42OTAsIDEyNi4zMzggNDUsIDEyNS43NzcgNDUgQyAxMjQuMTUxIDQ1LCAxMDMuOTE4IDU1LjA4MSwgOTkuMzIwIDU4LjE4MSBDIDk3LjAyMSA1OS43MzIsIDk0LjgzMyA2MSwgOTQuNDU4IDYxIEMgOTMuMjk0IDYxLCA3NC45MzAgNzMuOTQ1LCA2NiA4MS4wNjAgQyA1NC43MjEgOTAuMDQ3LCAzMy43NzcgMTExLjQ2NCwgMjYuMTg1IDEyMS43NzQgQyAyMC44OTkgMTI4Ljk1MywgMTEgMTQ3LjE4NywgMTEgMTQ5Ljc0NSBDIDExIDE1MC4yMjksIDEwLjE1NSAxNTIuMzk2LCA5LjEyMSAxNTQuNTYyIEMgNi41NDkgMTU5Ljk1NSwgMy4yMjEgMTc0LjczOSwgMi4wMjYgMTg2LjA4NyBDIDAuNzQ1IDE5OC4yNTMsIDAuNzEyIDMyNS42NzUsIDEuOTg3IDMzNy41MDAgQyAzLjYxOCAzNTIuNjI3LCA2Ljg1MCAzNjUuOTM2LCAxMS40NTcgMzc2LjUwMCBDIDEyLjE3NyAzNzguMTUwLCAxMy4zNTMgMzgxLjA3NSwgMTQuMDcxIDM4MyBDIDE0Ljc5MCAzODQuOTI1LCAxNi41MTUgMzg4LjMwMCwgMTcuOTA2IDM5MC41MDAgQyAxOS4yOTYgMzkyLjcwMCwgMjEuMjYxIDM5Ni4wMDcsIDIyLjI3MiAzOTcuODQ5IEMgMjYuNzA5IDQwNS45MzQsIDQwLjk5OCA0MjIuMDk5LCA1NCA0MzMuNzQzIEMgNjIuNzYyIDQ0MS41OTAsIDg1LjA1NyA0NTksIDg2LjM0NCA0NTkgQyA4Ni42NTAgNDU5LCA4OC45MDAgNDYwLjM1MCwgOTEuMzQ1IDQ2MiBDIDkzLjc5MCA0NjMuNjUwLCA5Ni4wNDIgNDY1LCA5Ni4zNTEgNDY1IEMgOTYuNjU5IDQ2NSwgOTguNTU1IDQ2Ni4xMTYsIDEwMC41NjUgNDY3LjQ3OSBDIDEwNC42MTUgNDcwLjIyOCwgMTMwLjIzNSA0ODMsIDEzMS42OTggNDgzIEMgMTMyLjIwNyA0ODMsIDEzNC40ODcgNDgzLjkwMCwgMTM2Ljc2NCA0ODUgQyAxMzkuMDQxIDQ4Ni4xMDAsIDE0MS41MTAgNDg3LCAxNDIuMjUyIDQ4NyBDIDE0Mi45OTMgNDg3LCAxNDQuMDI4IDQ4Ny4zOTgsIDE0NC41NTAgNDg3Ljg4NCBDIDE0NS4wNzMgNDg4LjM2OSwgMTQ4LjQyNSA0ODkuNzU3LCAxNTIgNDkwLjk2NyBDIDE1NS41NzUgNDkyLjE3NywgMTYwLjQwOCA0OTQuMDMwLCAxNjIuNzM5IDQ5NS4wODQgQyAxNjUuMDcxIDQ5Ni4xMzgsIDE2Ny44ODkgNDk3LCAxNjkuMDAzIDQ5NyBDIDE3MC4xMTYgNDk3LCAxNzEuODA5IDQ5Ny40MDQsIDE3Mi43NjQgNDk3Ljg5NyBDIDE3NC40MDYgNDk4Ljc0NiwgMTc5LjMzNSA1MDAuMjU1LCAxOTUuNTAwIDUwNC44NTkgQyAyMDYuMTgwIDUwNy45MDEsIDIyMi43MzIgNTExLjc2MiwgMjMwLjE5NiA1MTIuOTUzIEMgMjMzLjg3OCA1MTMuNTQwLCAyMzcuNDc4IDUxNC4yMzAsIDIzOC4xOTYgNTE0LjQ4NSBDIDI0MS45MjQgNTE1LjgxMywgMjg0LjU2NyA1MjEuMjQxLCAzMDEuNzQ4IDUyMi41NzYgQyAzMjUuMjU3IDUyNC40MDIsIDM4MS4xMDUgNTI0LjY1NCwgMzk1IDUyMi45OTcgQyA0MDAuMjI1IDUyMi4zNzMsIDQwOSA1MjEuNDc4LCA0MTQuNTAwIDUyMS4wMDYgQyA0MzUuODM1IDUxOS4xNzksIDQ2MS40MDQgNTE1LjM5MCwgNDgxLjUwMCA1MTEuMDc3IEMgNDgzLjcwMCA1MTAuNjA1LCA0ODcuOTc1IDUwOS43MTgsIDQ5MSA1MDkuMTA1IEMgNDk0LjAyNSA1MDguNDkzLCA0OTguOTc1IDUwNy4yODcsIDUwMiA1MDYuNDI2IEMgNTA1LjAyNSA1MDUuNTY1LCA1MDkuMDc1IDUwNC40NjYsIDUxMSA1MDMuOTg0IEMgNTE2Ljk2MiA1MDIuNDkwLCA1NDIuOTYxIDQ5NC4xMDgsIDU0Ni4zMTggNDkyLjU5NyBDIDU0OC4wNjggNDkxLjgwOSwgNTUyLjQyNSA0OTAuMTc1LCA1NTYgNDg4Ljk2NiBDIDU1OS41NzUgNDg3Ljc1NywgNTYyLjkyNyA0ODYuMzY5LCA1NjMuNDUwIDQ4NS44ODQgQyA1NjMuOTcyIDQ4NS4zOTgsIDU2NS4wMjkgNDg1LCA1NjUuNzk4IDQ4NSBDIDU2Ny4wNTQgNDg1LCA1NzUuNDY5IDQ4MS4yNjIsIDU4OCA0NzUuMTM5IEMgNTk3LjQ1NyA0NzAuNTE4LCA2MDguODk1IDQ2NC4wODgsIDYxMy44MzcgNDYwLjYxNSBDIDYxNi42NjUgNDU4LjYyNywgNjE5LjIzMSA0NTcsIDYxOS41MzggNDU3IEMgNjE5Ljg0NSA0NTcsIDYyNC42ODcgNDUzLjU1NiwgNjMwLjI5OCA0NDkuMzQ2IEMgNjQzLjg4OSA0MzkuMTQ5LCA2NzEuMjYxIDQxMS43NDAsIDY3Ny42MDggNDAxLjk3MiBDIDY4NC45MzIgMzkwLjcwMCwgNjg0Ljg1MiAzOTAuODM1LCA2ODcuMTQzIDM4NiBDIDY4OC4zMTYgMzgzLjUyNSwgNjkwLjExNCAzNzkuNzcwLCA2OTEuMTM4IDM3Ny42NTUgQyA2OTIuMTYyIDM3NS41NDEsIDY5MyAzNzIuOTgwLCA2OTMgMzcxLjk2NSBDIDY5MyAzNzAuOTQ5LCA2OTMuNDUwIDM2OS44NDAsIDY5NCAzNjkuNTAwIEMgNjk0LjU1MCAzNjkuMTYwLCA2OTUgMzY3LjgxMCwgNjk1IDM2Ni41MDAgQyA2OTUgMzY1LjE5MCwgNjk1LjM4OSAzNjMuODc3LCA2OTUuODY1IDM2My41ODMgQyA2OTYuMzQxIDM2My4yODksIDY5Ny4wNjIgMzYxLjM1MCwgNjk3LjQ2NyAzNTkuMjc0IEMgNjk3Ljg3MyAzNTcuMTk4LCA2OTguNjc1IDM1My4wMjUsIDY5OS4yNTEgMzUwIEMgNjk5LjkwNCAzNDYuNTcyLCA3MDAuNDQxIDMxNC41NTcsIDcwMC42NzcgMjY1IEMgNzAxLjA0MyAxODguMTQwLCA3MDAuNzU3IDE3Ny42NzEsIDY5OC4wMzUgMTY4LjUwMCBDIDY5NC41NDMgMTU2LjczMCwgNjkyLjUxMSAxNTAuODE2LCA2OTEuODEyIDE1MC4zODQgQyA2OTEuMzY1IDE1MC4xMDgsIDY5MSAxNDkuMjIxLCA2OTEgMTQ4LjQxMyBDIDY5MSAxNDcuNjA0LCA2ODkuNDUyIDE0My42OTMsIDY4Ny41NjEgMTM5LjcyMiBDIDY3OC4yNjMgMTIwLjE5OCwgNjU2Ljk0NSA5Ni4wMTgsIDYzMi45NzQgNzcuODAzIEMgNjIzLjIwNiA3MC4zODEsIDYxMi40NDEgNjMsIDYxMS4zODQgNjMgQyA2MTAuOTg0IDYzLCA2MDkuOTIxIDYyLjMzNCwgNjA5LjAyMSA2MS41MTkgQyA2MDYuNDY0IDU5LjIwNSwgNTcwLjM1NCA0MS4yNDgsIDU2My41NzYgMzguOTIwIEMgNTYwLjIzNCAzNy43NzIsIDU1NS41OTIgMzUuOTcwLCA1NTMuMjYxIDM0LjkxNiBDIDU1MC45MjkgMzMuODYyLCA1NDguMzY4IDMzLCA1NDcuNTcwIDMzIEMgNTQ2Ljc3MSAzMywgNTQ1Ljg0MCAzMi41NTAsIDU0NS41MDAgMzIgQyA1NDUuMTYwIDMxLjQ1MCwgNTQzLjgxMCAzMSwgNTQyLjUwMCAzMSBDIDU0MS4xOTAgMzEsIDUzOS44NDAgMzAuNTUwLCA1MzkuNTAwIDMwIEMgNTM5LjE2MCAyOS40NTAsIDUzNy44MTAgMjksIDUzNi41MDAgMjkgQyA1MzUuMTkwIDI5LCA1MzMuODQwIDI4LjU1MCwgNTMzLjUwMCAyOCBDIDUzMy4xNjAgMjcuNDUwLCA1MzIuMDAyIDI3LCA1MzAuOTI3IDI3IEMgNTI5Ljg1MiAyNywgNTI4LjE5MSAyNi41ODgsIDUyNy4yMzYgMjYuMDg1IEMgNTI1LjYxNSAyNS4yMjksIDUxNC45NzAgMjIuMDUzLCA1MDcgMjAuMDQ2IEMgNDk3LjIzMSAxNy41ODcsIDQ5NS4wNzggMTcuMDE4LCA0OTAgMTUuNTU4IEMgNDg2Ljk3NSAxNC42ODksIDQ4MS41NzUgMTMuNTcxLCA0NzggMTMuMDc0IEMgNDc0LjQyNSAxMi41NzgsIDQ2OC4zNTAgMTEuNDk3LCA0NjQuNTAwIDEwLjY3MyBDIDQ0OS4xNDAgNy4zODYsIDQyNi44NzQgNC41MzEsIDQwMyAyLjc4OCBDIDM4MC44MjQgMS4xNjksIDMyMC4xMTcgMS4wMDIsIDMwMiAyLjUxMSBNIDMyOS41MDAgODguMTM4IEMgMzE4LjUwMCA4OC41NTQsIDMwMi45NzUgODkuNjE1LCAyOTUgOTAuNDk1IEMgMjg3LjAyNSA5MS4zNzUsIDI3Ny44MDAgOTIuMzIwLCAyNzQuNTAwIDkyLjU5NSBDIDI3MS4yMDAgOTIuODcwLCAyNjYuOTI1IDkzLjQ5MiwgMjY1IDkzLjk3OCBDIDI2My4wNzUgOTQuNDYzLCAyNTguMTI1IDk1LjM5MSwgMjU0IDk2LjAzOSBDIDI0Ni42NzMgOTcuMTkxLCAyMzYuNTI2IDk5LjE5NiwgMjI4LjUwMCAxMDEuMDc4IEMgMjI2LjMwMCAxMDEuNTk0LCAyMjIuOTI1IDEwMi4yNzMsIDIyMSAxMDIuNTg4IEMgMjE5LjA3NSAxMDIuOTAyLCAyMTYuNjAwIDEwMy41MjgsIDIxNS41MDAgMTAzLjk3OCBDIDIxNC40MDAgMTA0LjQyOSwgMjEwLjEyNSAxMDUuNzUzLCAyMDYgMTA2LjkyMiBDIDE5My42OTggMTEwLjQwNywgMTg1Ljc1NCAxMTMuMDIzLCAxODEuMjYxIDExNS4wNzAgQyAxNzguOTI5IDExNi4xMzEsIDE3Ni40MzIgMTE3LCAxNzUuNzExIDExNyBDIDE3NC45OTAgMTE3LCAxNzMuOTcyIDExNy4zNzgsIDE3My40NTAgMTE3Ljg0MCBDIDE3Mi45MjcgMTE4LjMwMiwgMTcwLjkyNSAxMTkuMjU1LCAxNjkgMTE5Ljk1NyBDIDE2Mi45NjkgMTIyLjE2MCwgMTQ3Ljc2MCAxMjkuOTU4LCAxNDEuNTAwIDEzNC4wNTcgQyAxMzguMjAwIDEzNi4yMTgsIDEzNC44MjUgMTM4LjMwMiwgMTM0IDEzOC42ODggQyAxMzMuMTc1IDEzOS4wNzQsIDEyOCAxNDIuNjI4LCAxMjIuNTAwIDE0Ni41ODYgQyAxMDcuMzA5IDE1Ny41MTgsIDEwMC4yNjEgMTY1LjUxNSwgOTIuMTcwIDE4MSBDIDg5LjA1MiAxODYuOTY5LCA4OC43NjMgMTg4LjI3NywgODguNjM3IDE5NyBDIDg4LjUwNyAyMDYuMDM1LCA4OC42NjkgMjA2LjgxOCwgOTEuOTUyIDIxMyBDIDk1LjcxNiAyMjAuMDg2LCAxMDIuODIwIDIyOS41NzUsIDEwOC4zMDggMjM0Ljg0NSBMIDExMS43OTEgMjM4LjE5MCAxMTkuMzY3IDIzNC41OTUgQyAxMjMuNTM0IDIzMi42MTgsIDEyNy4yOTggMjMxLCAxMjcuNzMzIDIzMSBDIDEyOC4xNjcgMjMxLCAxMzIuMTE3IDIyOS4yMTEsIDEzNi41MTEgMjI3LjAyNSBDIDE0MC45MDUgMjI0LjgzOSwgMTQ1LjE5OCAyMjMuMDM5LCAxNDYuMDUwIDIyMy4wMjUgQyAxNDYuOTAzIDIyMy4wMTEsIDE0OC4wMjggMjIyLjYwMiwgMTQ4LjU1MCAyMjIuMTE2IEMgMTQ5LjA3MyAyMjEuNjMxLCAxNTIuNDI1IDIyMC4yNTksIDE1NiAyMTkuMDY5IEMgMTU5LjU3NSAyMTcuODc5LCAxNjMuMjgxIDIxNi40NzcsIDE2NC4yMzYgMjE1Ljk1MyBDIDE2NS4xOTEgMjE1LjQyOSwgMTY2Ljg1MiAyMTUsIDE2Ny45MjcgMjE1IEMgMTY5LjAwMiAyMTUsIDE3MC4xNjAgMjE0LjU1MCwgMTcwLjUwMCAyMTQgQyAxNzAuODQwIDIxMy40NTAsIDE3MS45OTggMjEzLCAxNzMuMDczIDIxMyBDIDE3NC4xNDggMjEzLCAxNzUuODA5IDIxMi41OTYsIDE3Ni43NjQgMjEyLjEwMyBDIDE3Ny43MTkgMjExLjYwOSwgMTgxLjY1MCAyMTAuMjg5LCAxODUuNTAwIDIwOS4xNjkgQyAxODkuMzUwIDIwOC4wNDgsIDE5NS4yMDAgMjA2LjM0NCwgMTk4LjUwMCAyMDUuMzgxIEMgMjAxLjgwMCAyMDQuNDE5LCAyMDYuMzAwIDIwMy4yODMsIDIwOC41MDAgMjAyLjg1OSBDIDIxMy42MjggMjAxLjg2OSwgMjI2LjQ3MiAxOTkuMDk0LCAyMzEgMTk3Ljk5OCBDIDIzNi41NjggMTk2LjY1MCwgMjUxLjk3MCAxOTQuMDI3LCAyNjAuNTg3IDE5Mi45NTkgQyAyNjQuOTM5IDE5Mi40MTksIDI3NS45MjUgMTkxLjA1NCwgMjg1IDE4OS45MjYgQyAzMDkuMjg5IDE4Ni45MDUsIDM2OC44NTQgMTg2LjE0NSwgNDAwLjUwMCAxODguNDUzIEMgNDEzLjE1MCAxODkuMzc1LCA0MjYuNDI1IDE5MC41NzcsIDQzMCAxOTEuMTIzIEMgNDMzLjU3NSAxOTEuNjY5LCA0MzkuNDI1IDE5Mi41NTQsIDQ0MyAxOTMuMDkxIEMgNDQ2LjU3NSAxOTMuNjI3LCA0NTEuOTc1IDE5NC40ODAsIDQ1NSAxOTQuOTg4IEMgNDU4LjAyNSAxOTUuNDk1LCA0NjMuNTYxIDE5Ni4zNjYsIDQ2Ny4zMDMgMTk2LjkyMyBDIDQ3MS4wNDUgMTk3LjQ4MCwgNDc1Ljc3MCAxOTguNDQ2LCA0NzcuODAzIDE5OS4wNzEgQyA0NzkuODM2IDE5OS42OTUsIDQ4My41MjUgMjAwLjU4MCwgNDg2IDIwMS4wMzcgQyA0OTguMTA2IDIwMy4yNzMsIDUwOS45MTEgMjA2LjMyNywgNTEzLjIzNiAyMDguMDgzIEMgNTE0LjE5MSAyMDguNTg3LCA1MTUuNjkxIDIwOSwgNTE2LjU3MCAyMDkgQyA1MTguNzUwIDIwOSwgNTQ4LjI2NSAyMTguOTU1LCA1NDkuNDUwIDIyMC4wOTAgQyA1NDkuOTcyIDIyMC41OTEsIDU1MS4wMDcgMjIxLCA1NTEuNzQ4IDIyMSBDIDU1Mi40OTAgMjIxLCA1NTQuOTU5IDIyMS45MDAsIDU1Ny4yMzYgMjIzIEMgNTU5LjUxMyAyMjQuMTAwLCA1NjEuODA0IDIyNSwgNTYyLjMyNyAyMjUgQyA1NjIuODUxIDIyNSwgNTY4LjcyOCAyMjcuNjYyLCA1NzUuMzg5IDIzMC45MTUgQyA1ODIuMDUwIDIzNC4xNjgsIDU4OC40MzggMjM3LjEwMCwgNTg5LjU4NCAyMzcuNDMwIEMgNTkzLjM1NyAyMzguNTE1LCA2MDQuOTMyIDIyNC44MzcsIDYxMS44MTIgMjExLjE2NCBDIDYxNC40MzMgMjA1Ljk1NSwgNjE1IDIwMy42NTUsIDYxNSAxOTguMjM1IEMgNjE1IDE5MC44MjMsIDYxMy45ODcgMTg3LjMwNywgNjA5LjIwOSAxNzguMTM1IEMgNjA0LjE4NyAxNjguNDk0LCA1OTguNzQ4IDE2MS42OTksIDU5MC4yMjQgMTU0LjQxMyBDIDU4My41ODMgMTQ4LjczNiwgNTcyLjkxMiAxNDAuODk0LCA1NjcuMjEzIDEzNy41MDAgQyA1NjYuMjg5IDEzNi45NTAsIDU2My42NDQgMTM1LjI2MiwgNTYxLjMzNiAxMzMuNzUwIEMgNTU5LjAyOCAxMzIuMjM3LCA1NTYuODM2IDEzMSwgNTU2LjQ2NSAxMzEgQyA1NTYuMDk0IDEzMSwgNTUzLjc5MCAxMjkuNjUwLCA1NTEuMzQ1IDEyOCBDIDU0OC45MDAgMTI2LjM1MCwgNTQ2LjM2MCAxMjQuOTg2LCA1NDUuNzAwIDEyNC45NjkgQyA1NDUuMDQwIDEyNC45NTEsIDU0MS44MTEgMTIzLjYwMSwgNTM4LjUyNSAxMjEuOTY5IEMgNTM1LjIzOSAxMjAuMzM2LCA1MzIuMTk3IDExOSwgNTMxLjc2NSAxMTkgQyA1MzEuMzMyIDExOSwgNTI5LjA3MSAxMTguMTI2LCA1MjYuNzM5IDExNy4wNTcgQyA1MTcuOTcwIDExMy4wMzcsIDQ4Ny42NTQgMTAzLjc3NSwgNDc0IDEwMC45NDUgQyA0NzEuNTI1IDEwMC40MzIsIDQ2Ny40NzUgOTkuNTI4LCA0NjUgOTguOTM2IEMgNDU5Ljc1OSA5Ny42ODMsIDQ1NS41MzkgOTYuOTUyLCA0MzYuNTAwIDkzLjk5OCBDIDQxNy44MjggOTEuMTAwLCA0MTkuMzg3IDkxLjI2OSwgMzk1LjUwMCA4OS41NjMgQyAzNjcuMjA3IDg3LjU0MywgMzUzLjE5OCA4Ny4yNDEsIDMyOS41MDAgODguMTM4IE0gMzI3LjUwMCAyNTIuMDUyIEMgMzE1Ljk1MCAyNTIuNDgxLCAzMDMuODAwIDI1My4xMjgsIDMwMC41MDAgMjUzLjQ5MCBDIDI5Ny4yMDAgMjUzLjg1MSwgMjkwLjY3NSAyNTQuNTQyLCAyODYgMjU1LjAyNCBDIDI3Ny4zODYgMjU1LjkxNCwgMjY5Ljc3NyAyNTYuOTkwLCAyNTggMjU4Ljk4NiBDIDI1NC40MjUgMjU5LjU5MiwgMjQ5LjcwMCAyNjAuMzI5LCAyNDcuNTAwIDI2MC42MjQgQyAyNDUuMzAwIDI2MC45MTksIDI0Mi4zNzUgMjYxLjUyNiwgMjQxIDI2MS45NzMgQyAyMzkuNjI1IDI2Mi40MjAsIDIzNS44MDAgMjYzLjMxOCwgMjMyLjUwMCAyNjMuOTY4IEMgMjIyLjA0OCAyNjYuMDI2LCAyMTEuMDU5IDI2OS4wMzMsIDE5NC41NzYgMjc0LjM0NSBDIDE4NC44MTEgMjc3LjQ5MiwgMTgyLjA1NCAyNzkuNDI1LCAxODUuNjY3IDI4MC41OTAgQyAxODYuNjc1IDI4MC45MTUsIDE4OC40MDAgMjgxLjU2NywgMTg5LjUwMCAyODIuMDM5IEMgMTkxLjczMyAyODIuOTk3LCAyMDAuOTE0IDI4NS44MzQsIDIxMS41MDAgMjg4LjgzNiBDIDIyMi44NTcgMjkyLjA1OCwgMjQwLjk3NyAyOTUuOTc4LCAyNjEgMjk5LjU0NiBDIDMwOS4zODUgMzA4LjE2OCwgMzkyLjIyMSAzMDcuOTI5LCA0NDUuNTAwIDI5OS4wMTIgQyA0NDkuMzUwIDI5OC4zNjgsIDQ1NC43NTAgMjk3LjQ3MywgNDU3LjUwMCAyOTcuMDI0IEMgNDYwLjI1MCAyOTYuNTc1LCA0NjQuOTc1IDI5NS40OTEsIDQ2OCAyOTQuNjE1IEMgNDcxLjAyNSAyOTMuNzQwLCA0NzQuNzQ0IDI5My4wMTgsIDQ3Ni4yNjQgMjkzLjAxMiBDIDQ3Ny43ODQgMjkzLjAwNSwgNDc5LjgwOSAyOTIuNTk0LCA0ODAuNzY0IDI5Mi4wOTcgQyA0ODEuNzE5IDI5MS42MDEsIDQ4NC41MjUgMjkwLjY3MCwgNDg3IDI5MC4wMjggQyA0ODkuNDc1IDI4OS4zODYsIDQ5NC4yNTkgMjg3Ljk5MiwgNDk3LjYzMSAyODYuOTMwIEMgNTAxLjAwMyAyODUuODY5LCA1MDQuNjI2IDI4NSwgNTA1LjY4MSAyODUgQyA1MDYuNzM3IDI4NSwgNTA4LjAyNyAyODQuNjA5LCA1MDguNTUwIDI4NC4xMzEgQyA1MDkuMDcyIDI4My42NTQsIDUxMS42MzcgMjgyLjQ2OCwgNTE0LjI1MCAyODEuNDk2IEMgNTE2Ljg2MiAyODAuNTI0LCA1MTkgMjc5LjQwMSwgNTE5IDI3OSBDIDUxOSAyNzguNTk5LCA1MTYuODYyIDI3Ny40NzYsIDUxNC4yNTAgMjc2LjUwNCBDIDUxMS42MzcgMjc1LjUzMiwgNTA5LjA3MiAyNzQuMzQ2LCA1MDguNTUwIDI3My44NjkgQyA1MDguMDI3IDI3My4zOTEsIDUwNi43MzcgMjczLCA1MDUuNjgxIDI3MyBDIDUwNC42MjYgMjczLCA1MDEuMDAzIDI3Mi4xMzEsIDQ5Ny42MzEgMjcxLjA3MCBDIDQ5NC4yNTkgMjcwLjAwOCwgNDg5LjQ3NSAyNjguNjE0LCA0ODcgMjY3Ljk3MiBDIDQ4NC41MjUgMjY3LjMzMCwgNDgxLjcxOSAyNjYuMzk5LCA0ODAuNzY0IDI2NS45MDMgQyA0NzkuODA5IDI2NS40MDYsIDQ3Ny43ODQgMjY0Ljk4NCwgNDc2LjI2NCAyNjQuOTY0IEMgNDc0Ljc0NCAyNjQuOTQ1LCA0NzAuODAwIDI2NC4yNDksIDQ2Ny41MDAgMjYzLjQxOSBDIDQ0Mi4wOTggMjU3LjAyNywgNDA3LjE0NCAyNTMuMjI3LCAzNTkgMjUxLjYyMiBDIDM1My4yMjUgMjUxLjQyOSwgMzM5LjA1MCAyNTEuNjIzLCAzMjcuNTAwIDI1Mi4wNTIiIHN0cm9rZT0ibm9uZSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cjwvc3ZnPg==';
const base64Pent = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NTIiIGhlaWdodD0iNzcyIiB2aWV3Qm94PSIwIDAgNzUyIDc3MiIgdmVyc2lvbj0iMS4xIj4KCTxwYXRoIGQ9Ik0gMzY4LjUwMCA3LjEyNiBDIDM2NC42NTAgOC44MDYsIDM0NS43NTAgMTYuODQ4LCAzMjYuNTAwIDI0Ljk5NyBDIDI2NS40MjEgNTAuODUyLCAxNzAuOTAxIDkxLjgzOSwgMTM3IDEwNy4xNzAgTCAxMTguNTAwIDExNS41MzcgMTAxLjQ0MiAxNTQuMDE4IEMgODMuMDI5IDE5NS41NTcsIDUxLjk0MCAyNjYuMDI4LCAzMy45NTMgMzA3IEMgMjcuNzk3IDMyMS4wMjUsIDE4LjMxMyAzNDIuNTI3LCAxMi44ODAgMzU0Ljc4MyBDIDcuNDQ2IDM2Ny4wMzksIDIuOTk5IDM3Ny42MTQsIDIuOTk4IDM3OC4yODMgQyAyLjk5NyAzNzguOTUyLCAyNy4xODUgNDQwLjExNiwgNTYuNzQ4IDUxNC4yMDEgTCAxMTAuNTAwIDY0OC45MDIgMTIwLjUwMCA2NTMuNTcyIEMgMTMxLjg0MSA2NTguODY5LCAxNTkuOTk2IDY3MS42MjcsIDIzMy41MDAgNzA0Ljc4MSBDIDI2MS41NTAgNzE3LjQzMywgMjg5LjkwMCA3MzAuMjU4LCAyOTYuNTAwIDczMy4yODEgQyAzMDMuMTAwIDczNi4zMDQsIDMyMS43NzUgNzQ0LjczMiwgMzM4IDc1Mi4wMTAgQyAzNTQuMjI1IDc1OS4yODcsIDM2OS42MjEgNzY2LjI2NCwgMzcyLjIxMyA3NjcuNTEzIEwgMzc2LjkyNSA3NjkuNzgzIDQwNC4yMTMgNzU3LjUzMSBDIDQxOS4yMjEgNzUwLjc5MiwgNDQ5LjUwMCA3MzcuMDY5LCA0NzEuNTAwIDcyNy4wMzUgQyA0OTMuNTAwIDcxNy4wMDIsIDUzNi43MDAgNjk3LjQxMCwgNTY3LjUwMCA2ODMuNDk4IEMgNTk4LjMwMCA2NjkuNTg1LCA2MjguMjI1IDY1NS45NzYsIDYzNCA2NTMuMjU1IEwgNjQ0LjUwMCA2NDguMzA4IDY1Ny44OTAgNjEzLjkwNCBDIDY2NS4yNTQgNTk0Ljk4MiwgNjg0LjU0MCA1NDUuNzUwLCA3MDAuNzQ4IDUwNC41MDAgQyA3MzkuNjcxIDQwNS40MzgsIDc1MCAzNzguNzc1LCA3NTAgMzc3LjM2NCBDIDc1MCAzNzYuNzIwLCA3NDUuOTg4IDM2Ny4yNjEsIDc0MS4wODQgMzU2LjM0NiBDIDcyNy40NTAgMzI2LjAwMiwgNjg1LjQ2OCAyMzEuMzA4LCA2NjkuOTk1IDE5NiBDIDY2Mi40MDIgMTc4LjY3NSwgNjUxLjIxOSAxNTMuNDc1LCA2NDUuMTQzIDE0MCBMIDYzNC4wOTYgMTE1LjUwMCA2MjQuNzk4IDExMS4xNDEgQyA2MTkuNjg0IDEwOC43NDQsIDU5My4yMjUgOTcuMTA1LCA1NjYgODUuMjc4IEMgNDAxLjUxNiAxMy44MTgsIDM3OC42MDAgMy45ODIsIDM3Ni43MzUgNC4wMzYgQyAzNzYuMDU2IDQuMDU2LCAzNzIuMzUwIDUuNDQ2LCAzNjguNTAwIDcuMTI2IE0gMzUxLjUwMCA4My4zODkgQyAyODAuMDgxIDExNS4xOTIsIDIyNi44MDYgMTM4LjgzMCwgMjA5LjE5NCAxNDYuNTMwIEwgMTk0Ljg4OCAxNTIuNzg0IDE5OC4xOTQgMTU1LjA5OSBDIDIwMC4wMTIgMTU2LjM3MywgMjEzLjAyNSAxNjUuOTg0LCAyMjcuMTExIDE3Ni40NTcgQyAzMDYuMTcxIDIzNS4yNDEsIDM2NC4xNzEgMjc3LjkzNSwgMzY1IDI3Ny45NTggQyAzNjUuMjc1IDI3Ny45NjUsIDM3OS45MTkgMjY2LjYxNiwgMzk3LjU0MyAyNTIuNzM2IEMgNDQ3LjY3MSAyMTMuMjU3LCA0NzguNTgxIDE4OS4xMDUsIDQ5MCAxODAuNDkyIEMgNTA0Ljc4MCAxNjkuMzQ0LCA1MzUuNDUwIDE0NC45OTQsIDUzNS43NTQgMTQ0LjE2NiBDIDUzNS45NzQgMTQzLjU2OSwgNDk4Ljg2MSAxMjYuOTA1LCA0MDAuNjkwIDgzLjUyMiBDIDM4Ny41OTQgNzcuNzM1LCAzNzYuMzQ0IDczLjAzMywgMzc1LjY5MCA3My4wNzQgQyAzNzUuMDM1IDczLjExNCwgMzY0LjE1MCA3Ny43NTYsIDM1MS41MDAgODMuMzg5IE0gNTY3LjAzNyAxNjguNzUwIEMgNTY0LjcxMyAxNzUuMjEzLCA1NTAuOTczIDIxNS4zNzUsIDUzNi41MDUgMjU4IEMgNTIyLjAzNyAzMDAuNjI1LCA1MDcuMjE0IDM0NC4yNTYsIDUwMy41NjYgMzU0Ljk1OCBDIDQ5OS45MTggMzY1LjY2MCwgNDk3LjA2MSAzNzQuOTYzLCA0OTcuMjE3IDM3NS42MzMgQyA0OTcuNjU2IDM3Ny41MjAsIDYzOS4yMDcgNDgzLjE5NSwgNjQwLjA5MSA0ODIuMjk1IEMgNjQwLjUyMSA0ODEuODU4LCA2NDUuMzY2IDQ2OS41NzUsIDY1MC44NTggNDU1IEMgNjU2LjM0OSA0NDAuNDI1LCA2NjUuMTUyIDQxNy40NzUsIDY3MC40MjAgNDA0IEMgNjc1LjY4OCAzOTAuNTI1LCA2NzkuOTk4IDM3OC45NzcsIDY3OS45OTkgMzc4LjMzNyBDIDY4MC4wMDEgMzc2LjM0NSwgNjQ5LjM3MCAzMDUuNjc0LCA2MjAuNDQ1IDI0MC45MzMgQyA2MTEuMjQ2IDIyMC4zNDUsIDYwMC44MjAgMTk2Ljk3NSwgNTk3LjI3NSAxODkgQyA1OTMuNzMxIDE4MS4wMjUsIDU4OS44MTUgMTcyLjI1MCwgNTg4LjU3MyAxNjkuNTAwIEMgNTg2LjYxNCAxNjUuMTYxLCA1ODUuNDE3IDE2NC4wMDQsIDU3OS41MjYgMTYwLjc1MCBDIDU3NS43OTIgMTU4LjY4OCwgNTcyLjQwNSAxNTcsIDU3MS45OTkgMTU3IEMgNTcxLjU5NCAxNTcsIDU2OS4zNjEgMTYyLjI4NywgNTY3LjAzNyAxNjguNzUwIE0gMTU4LjA0MSAxODUuMjQ2IEMgMTU1LjYxNCAxOTAuODg2LCAxNDguMDQwIDIwNy44NzUsIDE0MS4yMDggMjIzIEMgMTM0LjM3NyAyMzguMTI1LCAxMTguNzU1IDI3MywgMTA2LjQ5MSAzMDAuNTAwIEMgOTQuMjI4IDMyOCwgODEuNjc2IDM1Ni4wNDgsIDc4LjU5NyAzNjIuODI5IEMgNzUuNTE5IDM2OS42MTAsIDczIDM3Ni4xOTUsIDczIDM3Ny40NjMgQyA3MyAzNzguNzMxLCA3OS43ODYgMzk2LjU4MywgODguMDgwIDQxNy4xMzQgQyA5Ni4zNzUgNDM3LjY4NiwgMTA1LjAwNSA0NTkuNjc1LCAxMDcuMjU4IDQ2NiBDIDEwOS41MTIgNDcyLjMyNSwgMTExLjUwNSA0NzcuNjkyLCAxMTEuNjg4IDQ3Ny45MjcgQyAxMTEuODcxIDQ3OC4xNjIsIDExMy4yNTQgNDc3LjIxNiwgMTE0Ljc2MCA0NzUuODI1IEMgMTE2LjI2NyA0NzQuNDM0LCAxMjIgNDY5Ljg3NywgMTI3LjUwMCA0NjUuNjk4IEMgMTMzIDQ2MS41MjAsIDE1MS40NTAgNDQ3LjA0NiwgMTY4LjUwMCA0MzMuNTM0IEMgMTg1LjU1MCA0MjAuMDIxLCAyMDcuNTI2IDQwMi43ODYsIDIxNy4zMzcgMzk1LjIzMyBDIDIyNy4xNDcgMzg3LjY4MCwgMjM2LjA5NyAzODAuNzc2LCAyMzcuMjI2IDM3OS44OTEgTCAyMzkuMjc5IDM3OC4yODEgMjM3LjIxNCAzNzIuMzkxIEMgMjMyLjE5NSAzNTguMDczLCAyMTcuOTUwIDMyMC4wNjAsIDIwMi4wMjggMjc4LjUwMCBDIDE5Mi41NDYgMjUzLjc1MCwgMTgwLjA2NSAyMjEuMTI1LCAxNzQuMjkxIDIwNiBDIDE2OC41MTcgMTkwLjg3NSwgMTYzLjQ5MSAxNzcuNzExLCAxNjMuMTIzIDE3Ni43NDYgQyAxNjIuNjQ1IDE3NS40OTQsIDE2MS4xODkgMTc3LjkyOSwgMTU4LjA0MSAxODUuMjQ2IE0gNTA0Ljk0MiAyMDguNjQzIEMgNDk0Ljc5OSAyMTYuNjY5LCA0NzEuMjU2IDIzNS4yMjAsIDQ1Mi42MjQgMjQ5Ljg2NyBDIDQzMy45OTIgMjY0LjUxNSwgNDEyLjg0MiAyODEuMTQ2LCA0MDUuNjI0IDI4Ni44MjQgQyAzOTguNDA2IDI5Mi41MDIsIDM5Mi41MDAgMjk3LjU0NywgMzkyLjUwMCAyOTguMDM2IEMgMzkyLjUwMCAyOTguODg4LCA0MDIuMjUzIDMwNi4zMDcsIDQzOC4wMDYgMzMyLjY1NSBDIDQ3Mi43NTEgMzU4LjI1OSwgNDY5LjM5NSAzNTYuMDc5LCA0NzAuMzM3IDM1My42NTQgQyA0NzIuNjE0IDM0Ny43OTEsIDUyMy44OTUgMTk0LjU2MSwgNTIzLjY1OCAxOTQuMzI1IEMgNTIzLjUwOCAxOTQuMTc1LCA1MTUuMDg2IDIwMC42MTgsIDUwNC45NDIgMjA4LjY0MyBNIDIwNy40MjggMjAzLjU4NiBDIDIwNy44NTAgMjA0LjYzOSwgMjEzLjgxNSAyMjAuMTI1LCAyMjAuNjgzIDIzOCBDIDIyNy41NTIgMjU1Ljg3NSwgMjM3LjIzOSAyODEuMDc1LCAyNDIuMjExIDI5NCBDIDI0Ny4xODMgMzA2LjkyNSwgMjU0LjQ4NSAzMjYuMzgzLCAyNTguNDM5IDMzNy4yNDEgTCAyNjUuNjI4IDM1Ni45ODEgMjg0Ljk1OSAzNDEuOTAzIEMgMzEwLjk3NCAzMjEuNjEyLCAzMzkuMjI4IDI5OC44NzksIDMzOC44MjYgMjk4LjU2MiBDIDMzOC42NDcgMjk4LjQyMSwgMzI1LjgxMyAyODkuMDIwLCAzMTAuMzA2IDI3Ny42NzEgQyAyOTQuNzk5IDI2Ni4zMjMsIDI3MC43MjQgMjQ4LjU2NywgMjU2LjgwNiAyMzguMjE0IEMgMjMxLjI0MSAyMTkuMTk3LCAyMTAuNjg3IDIwNC4xNTIsIDIwOC4wODAgMjAyLjU0NiBDIDIwNi45NjkgMjAxLjg2MiwgMjA2LjgyNyAyMDIuMDg5LCAyMDcuNDI4IDIwMy41ODYgTSAzNDQuODY1IDMzNC43NzUgQyAzMzQuMDY2IDM0My40MjQsIDMxNS42MTYgMzU4LjA0MCwgMzAzLjg2NSAzNjcuMjU2IEMgMjkyLjExNCAzNzYuNDczLCAyODEuNDIyIDM4NC45MjMsIDI4MC4xMDMgMzg2LjAzNSBMIDI3Ny43MDcgMzg4LjA1OCAyODAuMzExIDM5NC43NzkgQyAyODMuMDYwIDQwMS44NzUsIDMwNS43NjkgNDYxLjQwOCwgMzEwLjQzNCA0NzMuNzUwIEwgMzEzLjE3NSA0ODEgMzcwLjQ1MCA0ODEgTCA0MjcuNzI1IDQ4MSA0MzIuNTQ1IDQ2Ny4yNTAgQyA0MzUuMTk2IDQ1OS42ODgsIDQzOS4yNjggNDQ3LjY1MCwgNDQxLjU5MiA0NDAuNTAwIEMgNDQzLjkxNyA0MzMuMzUwLCA0NDguNzc3IDQxOC45NTAsIDQ1Mi4zOTIgNDA4LjUwMCBDIDQ1Ni4wMDcgMzk4LjA1MCwgNDU4Ljk3MyAzODkuMTc1LCA0NTguOTgyIDM4OC43NzcgQyA0NTkuMDA3IDM4Ny43NjAsIDM2OC4wMzIgMzE5LjgwNCwgMzY2LjA5MCAzMTkuMzg5IEMgMzY1LjE5NSAzMTkuMTk4LCAzNTUuOTE4IDMyNS45MjIsIDM0NC44NjUgMzM0Ljc3NSBNIDQ3OS4xNTQgNDI3LjI1MCBDIDQ3NS43MjQgNDM3LjgzNywgNDcwLjI1MSA0NTQuMTI4LCA0NjYuOTkyIDQ2My40NTAgQyA0NjMuNzMzIDQ3Mi43NzMsIDQ2MS4yMDUgNDgwLjUzOSwgNDYxLjM3NSA0ODAuNzA4IEMgNDYxLjU0NCA0ODAuODc3LCA0ODguOTg5IDQ4MC45MDAsIDUyMi4zNjQgNDgwLjc1OCBMIDU4My4wNDYgNDgwLjUwMCA1MzQuNjU1IDQ0NC4yNTAgQyA1MDguMDQwIDQyNC4zMTMsIDQ4Ni4wNjggNDA4LCA0ODUuODI4IDQwOCBDIDQ4NS41ODggNDA4LCA0ODIuNTg0IDQxNi42NjMsIDQ3OS4xNTQgNDI3LjI1MCBNIDIwOS4zNjMgNDQxLjgzNCBDIDE4Ni43MzcgNDU5LjgwMCwgMTY2LjQ4NyA0NzUuOTQ3LCAxNjQuMzYzIDQ3Ny43MTYgTCAxNjAuNTAwIDQ4MC45MzMgMjE5Ljc1MCA0ODAuOTY2IEMgMjUyLjMzOCA0ODAuOTg1LCAyNzguOTkzIDQ4MC44ODcsIDI3OC45ODUgNDgwLjc1MCBDIDI3OC44ODMgNDc5LjA2MSwgMjUxLjk0MiA0MDkuNTA0LCAyNTEuMzM1IDQwOS4zNjIgQyAyNTAuODc2IDQwOS4yNTUsIDIzMS45ODggNDIzLjg2OCwgMjA5LjM2MyA0NDEuODM0IE0gMTI4LjEzMiA1MTguMjUwIEMgMTI5LjI4OCA1MjEuMTM4LCAxMzYuMDM4IDUzOC4zNTAsIDE0My4xMzIgNTU2LjUwMCBDIDE1MC4yMjYgNTc0LjY1MCwgMTU3LjA0MiA1OTEuOTM4LCAxNTguMjc5IDU5NC45MTcgTCAxNjAuNTI4IDYwMC4zMzQgMTgxLjUxNCA2MDkuNzYwIEMgMTkzLjA1NiA2MTQuOTQ0LCAyMjcuMDI1IDYzMC4yMzIsIDI1NyA2NDMuNzMzIEMgMjg2Ljk3NSA2NTcuMjMzLCAzMjAuMDUwIDY3Mi4wODcsIDMzMC41MDAgNjc2Ljc0MSBDIDM0MC45NTAgNjgxLjM5NSwgMzUxLjE4OCA2ODYuMDE3LCAzNTMuMjUwIDY4Ny4wMTEgQyAzNTUuMzEzIDY4OC4wMDUsIDM1NyA2ODguNTcyLCAzNTcgNjg4LjI3MiBDIDM1NyA2ODcuOTcxLCAzNTMuODczIDY3OS41NzQsIDM1MC4wNTAgNjY5LjYxMiBDIDM0Mi4yNzIgNjQ5LjM0MSwgMzAyLjkwMCA1NDUuNDg1LCAyOTUuNTEyIDUyNS43NTAgTCAyOTAuNzM4IDUxMyAyMDguMzg0IDUxMyBMIDEyNi4wMjkgNTEzIDEyOC4xMzIgNTE4LjI1MCBNIDMyNSA1MTMuMzgzIEMgMzI1IDUxMy41OTQsIDMyOC4wOTcgNTIxLjgwNiwgMzMxLjg4MyA1MzEuNjMzIEMgMzM1LjY2OSA1NDEuNDYwLCAzNDUuODYwIDU2OC40MDAsIDM1NC41MzEgNTkxLjUwMCBDIDM3Mi43MTQgNjM5LjkzOSwgMzczLjU4MiA2NDIuMDY2LCAzNzQuMzE1IDY0MCBDIDM3NC42MDggNjM5LjE3NSwgMzgwLjAwOCA2MjIuOTc1LCAzODYuMzE0IDYwNCBDIDM5Mi42MjEgNTg1LjAyNSwgNDAyLjEwNSA1NTcuMDI2LCA0MDcuMzkwIDU0MS43ODAgQyA0MTIuNjc2IDUyNi41MzQsIDQxNyA1MTMuODIxLCA0MTcgNTEzLjUzMCBDIDQxNyA1MTMuMjM4LCAzOTYuMzAwIDUxMywgMzcxIDUxMyBDIDM0NS43MDAgNTEzLCAzMjUgNTEzLjE3MiwgMzI1IDUxMy4zODMgTSA0NDkuMDU4IDUxNy4yNTAgQyA0NDYuODQwIDUyNC43MzcsIDQwMC43OTkgNjU5LjE4MCwgMzk0LjA3OCA2NzcuNzk1IEMgMzkxLjgzNSA2ODQuMDA4LCAzOTAgNjg5LjQ2NSwgMzkwIDY4OS45MjMgQyAzOTAgNjkwLjc3NiwgNDE3LjYwNyA2NzguODA3LCA0NzcuNTAwIDY1MS45ODcgQyA0OTYuMjAwIDY0My42MTMsIDUyOC44MjUgNjI5LjE4MSwgNTUwIDYxOS45MTUgQyA1NzEuMTc1IDYxMC42NDksIDU5MC4wMTIgNjAyLjI2NSwgNTkxLjg2MSA2MDEuMjg0IEMgNTk1LjAxOCA1OTkuNjA4LCA1OTUuNzU0IDU5OC4wNzYsIDYwMy45OTcgNTc2IEMgNjExLjE2NSA1NTYuODA2LCA2MjUuNDY3IDUxOS41MjYsIDYyNy42ODggNTE0LjI1MCBDIDYyOC4xMDYgNTEzLjI1NSwgNjEwLjAzOCA1MTMsIDUzOS4yNjUgNTEzIEwgNDUwLjMxNyA1MTMgNDQ5LjA1OCA1MTcuMjUwIiBzdHJva2U9Im5vbmUiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgo8L3N2Zz4=';

if (showPowerups) {
    const powerups = findPowerups(entities);
    console.log(`Processing powerups - Quad: ${powerups.quad.length}, Ring: ${powerups.ring.length}, Pent: ${powerups.pent.length}`);
    
    if (showQuad && powerups.quad.length > 0) {
        powerups.quad.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Quad}" filter="url(#blue-filter)" />\n`;
        });
    }
    
    if (showRing && powerups.ring.length > 0) {
        powerups.ring.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Ring}" filter="url(#gold-filter)" />\n`;
        });
    }
    
    if (showPent && powerups.pent.length > 0) {
        powerups.pent.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Pent}" filter="url(#red-filter)" />\n`;
        });
    }
}

const base64Rocket = 'data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwMjQiIHdpZHRoPSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik03MTYuNzM3IDEyNC4wNTYwMDAwMDAwMDAwNGMtNzEuOTI2IDQxLjY4Ni0xNDguMDQxIDk2LjEzLTIxOC40MzYgMTY2LjU1NS00NSA0NS4wMzEtODEuMjEzIDg4Ljc4LTExMC4zOSAxMjkuNzc4TDIwOS41MzggNDUzLjM1IDAuMDQ3IDY2Mi45OTdsMTg2LjgxOCA1LjgxNSAxMzEuNTYyLTEzMS41NjJjLTQ2LjQzOSA5Ni4yMjQtNTAuNTM2IDE2MC4wMTktNTAuNTM2IDE2MC4wMTlsNTguODU0IDU4Ljc5MmMwIDAgNjUuODI3LTYuMjU1IDE2Mi43MzctNTMuMTYzTDM1NS4xMDcgODM3LjExOWw1Ljg4IDE4Ni44ODEgMjA5LjU4NS0yMDkuNTIxIDMzLjA4Ni0xNzkuMjUyYzQxLjQwMy0yOS4wMiA4NS4xODUtNjUuMDQ2IDEyOS43MTYtMTA5LjU0NSA3MC40MjUtNzAuNDU1IDEyNC44MzctMTQ2LjU0MSAxNjYuNTU1LTIxOC40NjYtNDUuOTctOS4zNTEtODguMTI1LTI4LjQ4OC0xMjEuMzk3LTYxLjY2OEM3NDUuMjU3IDIxMi4xODEwMDAwMDAwMDAwNCA3MjUuOTk0IDE3MC4wMjQ5OTk5OTk5OTk5OCA3MTYuNzM3IDEyNC4wNTYwMDAwMDAwMDAwNHpNNzg2LjE2MSA4Ni44NDI5OTk5OTk5OTk5NmM1LjAwNCA0NSAxOS45NTIgODEuMjc0IDQ0Ljc4IDEwNS45OCAyNC43NjkgMjQuOTg1IDYwLjk4IDM5LjkwMiAxMDYuMTM4IDQ0Ljg0NEMxMDAzLjA2MyAxMDQuMzIyOTk5OTk5OTk5OTggMTAyMy45NTMgMCAxMDIzLjk1MyAwUzkxOS42MyAyMC44NTc5OTk5OTk5OTk5NDcgNzg2LjE2MSA4Ni44NDI5OTk5OTk5OTk5NnoiIC8+Cjwvc3ZnPgo=';     // your rocket.svg base64 here
const base64Lightning = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iMCAwIDU2MC4zMTcgNTYwLjMxNiINCgkgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBhdGggZD0iTTIwNy41MjMsNTYwLjMxNmMwLDAsMTk0LjQyLTQyMS45MjUsMTk0LjQ0NC00MjEuOTg2bDEwLjc5LTIzLjk5N2MtNDEuODI0LDEyLjAyLTEzNS4yNzEsMzQuOTAyLTEzNS41NywzNS44MzMNCgkJCUMyODYuOTYsMTIyLjgxNiwzMjkuMDE3LDAsMzMwLjgyOSwwYy0zOS45NzYsMC03OS45NTIsMC0xMTkuOTI3LDBsLTEyLjE2Nyw1Ny45MzhsLTUxLjE3NiwyMDkuOTk1bDEzNS4xOTEtMzYuODA2DQoJCQlMMjA3LjUyMyw1NjAuMzE2eiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg==';  // your lightning.svg base64 here

if (showWeapons) {
    const weapons = findWeapons(entities);
    console.log(`Processing weapons - Rocket Launcher: ${weapons.rocketLauncher.length}, Lightning Gun: ${weapons.lightningGun.length}`);
    
    if (showRocketLauncher && weapons.rocketLauncher.length > 0) {
        weapons.rocketLauncher.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Rocket}" style="filter: brightness(0) saturate(100%) invert(46%) sepia(82%) saturate(1648%) hue-rotate(360deg) brightness(103%) contrast(106%);" />\n`;
        });
    }

    if (showLightningGun && weapons.lightningGun.length > 0) {
        weapons.lightningGun.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Lightning}" style="filter: brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(0%) hue-rotate(95deg) brightness(104%) contrast(102%);" />\n`;
        });
    }
}

const base64Flag = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik01Ljc1IDFDNi4xNjQyMSAxIDYuNSAxLjMzNTc5IDYuNSAxLjc1VjMuNkw4LjIyMDY3IDMuMjU1ODdDOS44NzEyIDIuOTI1NzYgMTEuNTgyMSAzLjA4Mjg0IDEzLjE0NDkgMy43MDc5N0wxMy4zNDg2IDMuNzg5NDNDMTQuOTA5NyA0LjQxMzg5IDE2LjYyOCA0LjUzMDUxIDE4LjI1OTIgNC4xMjI3QzE5LjAxNjUgMy45MzMzOSAxOS43NSA0LjUwNjEzIDE5Ljc1IDUuMjg2NjlWMTIuNjUzN0MxOS43NSAxMy4yOTggMTkuMzExNSAxMy44NTk2IDE4LjY4NjQgMTQuMDE1OUwxOC40NzIgMTQuMDY5NUMxNi43MDI0IDE0LjUxMTkgMTQuODM4NSAxNC4zODU0IDEzLjE0NDkgMTMuNzA4QzExLjU4MjEgMTMuMDgyOCA5Ljg3MTIgMTIuOTI1OCA4LjIyMDY3IDEzLjI1NTlMNi41IDEzLjZWMjEuNzVDNi41IDIyLjE2NDIgNi4xNjQyMSAyMi41IDUuNzUgMjIuNUM1LjMzNTc5IDIyLjUgNSAyMi4xNjQyIDUgMjEuNzVWMS43NUM1IDEuMzM1NzkgNS4zMzU3OSAxIDUuNzUgMVoiIGZpbGw9IiMxQzI3NEMiLz4NCjwvc3ZnPg=='; // your encoded flag.svg

if (showFlags) {
    const flags = findFlags(entities);
    console.log(`Processing flags - Red: ${flags.red.length}, Blue: ${flags.blue.length}`);
    
    // Red Flag
    if (showRedFlag && flags.red.length > 0) {
        flags.red.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Flag}" filter="url(#red-filter)" />\n`;
        });
    }

    // Blue Flag
    if (showBlueFlag && flags.blue.length > 0) {
        flags.blue.forEach(pos => {
            const point = transformCoord(pos.x, pos.y);
            svg += `<image x="${point.x - 8}" y="${point.y - 8}" width="16" height="16" href="${base64Flag}" filter="url(#blue-filter)" />\n`;
        });
    }
}

                    
                    // Close SVG
                    svg += `</svg>`;
                    
                    return svg;
                    
                } catch (e) {
                    // Return a simple error SVG
                    return `<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="800" height="800" viewBox="0 0 800 800">
                        <rect width="800" height="800" fill="#ffffff" />
                        <rect width="800" height="800" fill="none" stroke="#000" stroke-width="1" />
                    </svg>`;
                }
            }
            
            // Find armors in entities
            function findArmors(entities) {
                const armors = {
                    green: [],
                    yellow: [],
                    red: []
                };
                
                // Debug logging to help troubleshoot
                console.log(`Total entities found: ${entities.length}`);
                let armorEntities = 0;
                let allArmorLikeEntities = [];
                
                // Dump all classnames for debugging
                console.log("All entity classnames:");
                entities.forEach(entity => {
                    if (entity.classname) {
                        console.log(`- ${entity.classname}`);
                    }
                });
                
                for (const entity of entities) {
                    try {
                        // Check if entity has position information
                        if (!entity.origin) continue;
                        
                        const position = parseOrigin(entity.origin);
                        if (!position) continue;
                        
                        // Identify armor type based on classname
                        if (entity.classname) {
                            const classname = entity.classname.toLowerCase();
                            
                            // Log all armor-like entities for debugging
                            if (classname.includes('armor') || 
                                classname.includes('item_armor') || 
                                classname.includes('item_suit')) {
                                console.log(`Found armor entity: ${entity.classname} at ${entity.origin}`);
                                allArmorLikeEntities.push(entity);
                                armorEntities++;
                            }
                            
                            // Green armor types - expanded detection
                            if (classname === 'item_armor1' || 
                                classname === 'item_armor' || 
                                classname === 'item_armorgreen' ||
                                classname === 'item_armor_green' ||
                                classname.includes('green') && classname.includes('armor') ||
                                // Some mods use armor type field for armor color
                                (classname.includes('armor') && entity.armortype === '0') ||
                                (classname.includes('armor') && entity.armortype === 'green')) {
                                armors.green.push(position);
                            } 
                            // Yellow armor types - expanded detection
                            else if (classname === 'item_armor2' || 
                                classname === 'item_armoryellow' ||
                                classname === 'item_armor_yellow' ||
                                classname.includes('yellow') && classname.includes('armor') ||
                                // Some mods use armor type field for armor color
                                (classname.includes('armor') && entity.armortype === '1') ||
                                (classname.includes('armor') && entity.armortype === 'yellow')) {
                                armors.yellow.push(position);
                            } 
                            // Red armor types - even more expanded detection
                            else if (classname === 'item_armor3' || 
                                classname === 'item_armorred' ||
                                classname === 'item_armor_red' ||
                                classname === 'item_armourred' ||
                                classname === 'item_armorinv' || // Add item_armorInv as red armor
                                classname.includes('red') && classname.includes('armor') ||
                                // Some mods use armor type field for armor color
                                (classname.includes('armor') && entity.armortype === '2') ||
                                (classname.includes('armor') && entity.armortype === 'red')) {
                                armors.red.push(position);
                                console.log(`RED ARMOR FOUND at ${position.x}, ${position.y}, ${position.z}`);
                            }
                            // Check for Half-Life suit (often a health/armor pickup)
                            else if (classname === 'item_suit') {
                                // Classify as yellow armor by default
                                armors.yellow.push(position);
                            }
                        }
                    } catch (e) {
                        console.error("Error processing entity:", e);
                    }
                }
                
                console.log(`Found armor counts - Green: ${armors.green.length}, Yellow: ${armors.yellow.length}, Red: ${armors.red.length}`);
                console.log(`Total armor entities found: ${armorEntities}`);
                
                // If we have armor-like entities but didn't classify any as red,
                // log their details for debugging purposes
                if (armorEntities > 0 && armors.red.length === 0) {
                    console.log("DETECTED ARMORS BUT NONE CLASSIFIED AS RED. Details:");
                    allArmorLikeEntities.forEach(entity => {
                        console.log(JSON.stringify(entity));
                    });
                }
                
                return armors;
            }
            
            // Parse origin string into position object
            function parseOrigin(originStr) {
                try {
                    const parts = originStr.split(' ').map(part => parseFloat(part.trim()));
                    if (parts.length >= 3) {
                        return { x: parts[0], y: parts[1], z: parts[2] };
                    }
                } catch (e) {}
                return null;
            }
            
            // Download SVG file
            function downloadSvg(svgContent, filename) {
                const blob = new Blob([svgContent], { type: 'image/svg+xml' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 0);
            }
            
            // Find powerups in entities
            function findPowerups(entities) {
                const powerups = {
                    quad: [],  // item_artifact_super_damage
                    ring: [],  // item_artifact_invulnerability (Ring of Shadows)
                    pent: []   // item_artifact_invulnerability (Pentagram)
                };
                
                // Debug logging to help troubleshoot
                console.log(`Searching for powerups in ${entities.length} entities`);
                let powerupEntities = 0;
                
                for (const entity of entities) {
                    try {
                        // Check if entity has position information
                        if (!entity.origin) continue;
                        
                        const position = parseOrigin(entity.origin);
                        if (!position) continue;
                        
                        // Identify powerup type based on classname
                        if (entity.classname) {
                            const classname = entity.classname.toLowerCase();
                            
                            // Quad Damage
                            if (classname === 'item_artifact_super_damage' || 
                                classname.includes('quad') || 
                                classname === 'item_quad') {
                                powerups.quad.push(position);
                                console.log(`Found Quad Damage at ${position.x}, ${position.y}, ${position.z}`);
                                powerupEntities++;
                            } 
                            else if ((classname === 'item_artifact_invisibility' && 
                                      (!entity.netname || !entity.netname.toLowerCase().includes('ring'))) || 
                                     classname.includes('ring') || 
                                     classname === 'item_ring' || 
                                     classname === 'item_artifact_invisibility') {
                                powerups.ring.push(position);
                                console.log(`Found Ring at ${position.x}, ${position.y}, ${position.z}`);
                                powerupEntities++;
                            }
                            // Pentagram of Protection
                            else if ((classname === 'item_artifact_invulnerability' && 
                                      (!entity.netname || !entity.netname.toLowerCase().includes('ring'))) || 
                                     classname.includes('pent') || 
                                     classname === 'item_pent' || 
                                     classname === 'item_artifact_invulnerability') {
                                powerups.pent.push(position);
                                console.log(`Found Pentagram at ${position.x}, ${position.y}, ${position.z}`);
                                powerupEntities++;
                            }
                        }
                    } catch (e) {
                        console.error("Error processing entity:", e);
                    }
                }
                
                console.log(`Found powerup counts - Quad: ${powerups.quad.length}, Ring: ${powerups.ring.length}, Pent: ${powerups.pent.length}`);
                console.log(`Total powerup entities found: ${powerupEntities}`);
                
                return powerups;
            }
            
            // Find weapons in entities
            function findWeapons(entities) {
                const weapons = {
                    rocketLauncher: [],  // weapon_rocketlauncher
                    lightningGun: []     // weapon_lightning
                };
                
                // Debug logging to help troubleshoot
                console.log(`Searching for weapons in ${entities.length} entities`);
                let weaponEntities = 0;
                
                for (const entity of entities) {
                    try {
                        // Check if entity has position information
                        if (!entity.origin) continue;
                        
                        const position = parseOrigin(entity.origin);
                        if (!position) continue;
                        
                        // Identify weapon type based on classname
                        if (entity.classname) {
                            const classname = entity.classname.toLowerCase();
                            
                            // Rocket Launcher
                            if (classname === 'weapon_rocketlauncher' || 
                                classname.includes('rocket') && classname.includes('launcher')) {
                                weapons.rocketLauncher.push(position);
                                console.log(`Found Rocket Launcher at ${position.x}, ${position.y}, ${position.z}`);
                                weaponEntities++;
                            } 
                            // Lightning Gun
                            else if (classname === 'weapon_lightning' || 
                                    classname.includes('lightning') || 
                                    classname === 'weapon_thunderbolt') {
                                weapons.lightningGun.push(position);
                                console.log(`Found Lightning Gun at ${position.x}, ${position.y}, ${position.z}`);
                                weaponEntities++;
                            }
                        }
                    } catch (e) {
                        console.error("Error processing entity:", e);
                    }
                }
                
                console.log(`Found weapon counts - Rocket Launcher: ${weapons.rocketLauncher.length}, Lightning Gun: ${weapons.lightningGun.length}`);
                console.log(`Total weapon entities found: ${weaponEntities}`);
                
                return weapons;
            }
            
            // Find mega health in entities (item_health with spawnflags 2)
            function findMegaHealth(entities) {
                const megaHealthPositions = [];
                
                // Debug logging
                console.log(`Searching for mega health in ${entities.length} entities`);
                let megaHealthFound = 0;
                
                for (const entity of entities) {
                    try {
                        // Check if entity has position information
                        if (!entity.origin) continue;
                        
                        const position = parseOrigin(entity.origin);
                        if (!position) continue;
                        
                        // Identify mega health: item_health with spawnflags 2
                        if (entity.classname && entity.classname.toLowerCase() === 'item_health') {
                            // Check for spawnflags 2
                            if (entity.spawnflags === '2' || entity.spawnflags === 2) {
                                megaHealthPositions.push(position);
                                console.log(`Found Mega Health at ${position.x}, ${position.y}, ${position.z}`);
                                megaHealthFound++;
                                continue;
                            }
                            
                            // Some maps might use different naming conventions
                            if (entity.targetname && entity.targetname.toLowerCase().includes('mega')) {
                                megaHealthPositions.push(position);
                                console.log(`Found Mega Health (by targetname) at ${position.x}, ${position.y}, ${position.z}`);
                                megaHealthFound++;
                                continue;
                            }
                        }
                        
                        // Check for specific mega health entity names in custom maps
                        if (entity.classname) {
                            const classname = entity.classname.toLowerCase();
                            if (classname === 'item_megahealth' || 
                                classname.includes('mega') && classname.includes('health')) {
                                megaHealthPositions.push(position);
                                console.log(`Found Mega Health (by classname) at ${position.x}, ${position.y}, ${position.z}`);
                                megaHealthFound++;
                            }
                        }
                    } catch (e) {
                        console.error("Error processing entity:", e);
                    }
                }
                
                console.log(`Found ${megaHealthFound} mega health packs`);
                return megaHealthPositions;
            }
            
            // Find flags in entities
            function findFlags(entities) {
                const flags = {
                    red: [],
                    blue: []
                };
                
                // Debug logging
                console.log(`Searching for flags in ${entities.length} entities`);
                let redFlagsFound = 0;
                let blueFlagsFound = 0;
                
                for (const entity of entities) {
                    try {
                        // Check if entity has position information
                        if (!entity.origin) continue;
                        
                        const position = parseOrigin(entity.origin);
                        if (!position) continue;
                        
                        // Identify flags based on classname
                        if (entity.classname) {
                            const classname = entity.classname.toLowerCase();
                            
                            // Red flag
                            if (classname === 'item_flag_team1' || 
                                (classname.includes('flag') && (entity.team === '1' || entity.team === 'red')) ||
                                (classname.includes('flag') && classname.includes('red'))) {
                                flags.red.push(position);
                                console.log(`Found Red Flag at ${position.x}, ${position.y}, ${position.z}`);
                                redFlagsFound++;
                            }
                            
                            // Blue flag
                            else if (classname === 'item_flag_team2' || 
                                (classname.includes('flag') && (entity.team === '2' || entity.team === 'blue')) ||
                                (classname.includes('flag') && classname.includes('blue'))) {
                                flags.blue.push(position);
                                console.log(`Found Blue Flag at ${position.x}, ${position.y}, ${position.z}`);
                                blueFlagsFound++;
                            }
                        }
                    } catch (e) {
                        console.error("Error processing entity:", e);
                    }
                }
                
                console.log(`Found flag counts - Red: ${redFlagsFound}, Blue: ${blueFlagsFound}`);
                return flags;
            }
        });
    </script>
</body>
</html> 







